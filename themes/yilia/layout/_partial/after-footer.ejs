<% if (theme.fancybox){ %>
  <%- css('fancybox/jquery.fancybox') %>
<% } %>

<script>
	var yiliaConfig = {
		fancybox: <%=theme.fancybox%>,
		mathjax: <%=theme.mathjax%>,
		animate: <%=theme.animate%>,
		isHome: <%=is_home()%>,
		isPost: <%=is_post()%>,
		isArchive: <%=is_archive()%>,
		isTag: <%=is_tag()%>,
		isCategory: <%=is_category()%>,
		open_in_new: <%=theme.open_in_new%>
	}
</script>
<%- js('http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min') %>
<%- js('js/main') %>


<%- partial('google-analytics') %>

<% if (theme.mathjax){ %>
<%- partial('mathjax') %>
<% } %>

<% if (theme.baidutongji.enable && theme.baidutongji.id) { %>
    <script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F<%= theme.baidutongji.id %>' type='text/javascript'%3E%3C/script%3E"));
    </script>
<% } %>

<link rel="stylesheet" href="/css/github.css">
<script src="/js/highlight.js"></script>
<script type="text/javascript">
$(document).ready(function(){
   $('pre code').each(function(i, v){
        var $t = $(v);
        var lang = $t.attr('class');
        var data = hljs.highlight(lang, $t.html());
        var lines = data.value.split('\n');
        var numbers = [];
        for (var i = 0, len = lines.length; i < len; i++){
            if(i===len-1&&$.trim(lines[i])===''){
                break;
            }
            numbers.push('<li>'+(i+1)+'</li>');

        }
        if(numbers.length){
            numbers = '<ul class="hljs-line-number">'+numbers.join('')+'</ul>'
        }
        $t.addClass('hljs').html(numbers+data.value);
    })
});
</script>
