<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>网络技术 - 三水清</title>
  <meta name="author" content="三水清">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="三水清"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="atom.xml" title="三水清" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">三水清</a></h1>
  <h2><a href="/">专注前端开发,分享Javascript/CSS/PHP等Web前端开发技巧</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/about">关于</a></li>
    
      <li><a href="https://github.com/ksky521">Github</a></li>
    
      <li><a href="http://weibo.com/sanshuiqing">新浪微博</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title tag">网络技术</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2011/03/15/html5css3版的爱墙上了/">html5+css3版的爱墙上了</a></h1>
  

      <time datetime="2011-03-15T13:15:27.000Z"><a href="/2011/03/15/html5css3版的爱墙上了/">2011年3月15日</a></time>
    </header>
    <div class="entry">
      
        <p>趁着中午休息，发篇文章。不管怎样，从周末开始折腾重构爱墙昨天上了（地址：<a href="http://lovewall.js8.in" title="爱墙" target="_blank"><a href="http://lovewall.js8.in">http://lovewall.js8.in</a></a>，老版：<a href="http://love.js8.in" target="_blank"><a href="http://love.js8.in">http://love.js8.in</a></a>），昨天由于局域网的DNS没有更新，所以也没访问，今天看了下还算比较正常，就是空间速度有点挫，国外的，你懂的！</p>
<p>新版爱墙程序变化：</p>
<ol>
<li>程序全部重构，php采用公司同事开发的<a href="http://raremvc.sinaapp.com" target="_blank">rareMVC框架</a></li>
<li>前端重写，采用html5+css3，所以推荐使用chrome或者FF3.6+体验</li>
<li>javascript代码全部重写，采用了自己的简单框架YQ（<a href="http://js8.in/677.html">暂命名</a>）</li>
<li><p>添加表情功能<br>为啥重构爱墙？：</p>
</li>
<li><p>熟悉php面向对象开发，MVC开发</p>
</li>
<li>实践html5+css3</li>
<li>测试自己的框架YQ（<a href="http://js8.in/js/yq.js">源码</a>）</li>
<li>打发周末时间<br>这个版本的爱墙程序兼容IE6+，chrome，Firefox，主要是练手用的，不再继续维护开发。此程序前端代码全部未压缩处理，欢迎观摩指导</li>
</ol>
<p>ps：今天看了下浏览记录，发现谷歌搜索“jsonp”我的一篇文章竟然排了第一，甚是欣慰~O(∩_∩)O哈哈~</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2011/01/26/使用navigator-geolocation来获取用户的地理位置信息/">使用navigator.geolocation来获取用户的地理位置信息</a></h1>
  

      <time datetime="2011-01-26T15:25:05.000Z"><a href="/2011/01/26/使用navigator-geolocation来获取用户的地理位置信息/">2011年1月26日</a></time>
    </header>
    <div class="entry">
      
        <p>W3C 中新添加了一个名为 <strong>Geolocation</strong>的 API 规范，Geoloaction API的作用就是通过浏览器获取用户的地理位置。我们可以使用<code>navigator.geolocation</code>来简单的获取用户的地理位置信息。本文中将简单介绍下W3C的Geolocation。</p>
<p>Geolocation在javascript的navigator 对象中，我们可以通过 navigator.geolocation 来使用它。不支持 geolocation 的浏览器并不包含这一对象，那么可以通过下面的代码来做能力检测，对不同的浏览器做不同的处理。</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="keyword">if</span> (navigator.geolocation) {
        alert( <span class="string">' 浏览器支持 geolocation '</span> );
}<span class="keyword">else</span>{
        alert( <span class="string">' 浏览器不支持 geolocation '</span> );
}
</pre></td></tr></table></figure>

<p>在访问 geolocation 对象时，即调用 geolocation 下面的方法时，浏览器会弹出提示，询问用户是否许可网站提供的位置服务，只有在得到用户许可过后，服务才会继续，否则将被停止，在稍后你将会了解到，我们能够捕获到用户拒绝服务的动作。下面这张图分别是 Chrome , Firefox 和 Opera 在初次访问 geolocation 时，给用户的提示：</p>
<p><a href="http://js8.in/672.html/geolocation-warn-2"><img src="/uploads/2011/01/geolocation-warn1-300x186.png" alt="初次使用geolocation时的警告框" title="初次使用geolocation时的警告框"></a></p>
<p>常用的navigator.geolocation对象有以下三种方法：</p>
<ol>
<li>获取当前地理位置：<strong>navigator.geolocation.getCurrentPosition</strong>(success_callback_function, error_callback_function, position_options)</li>
<li>持续获取地理位置：<strong>navigator.geolocation.watchPosition</strong>(success_callback_function, error_callback_function, position_options)</li>
<li><p>清除持续获取地理位置事件：<strong>navigator.geolocation.clearWatch</strong>(watch_position_id)<br>其中success_callback_function为成功之后处理的函数，error_callback_function为失败之后返回的处理函数，参数position_options是配置项，由JSON格式传入：</p>
</li>
<li><p>enableHighAccuracy：true/false，它将告诉浏览器是否启用高精度设备，所谓的高精度设备包含但不局限于前面所提到的 GPS 和 WIFI，值为 true 的时候，浏览器会尝试启用这些设备，默认指为 true，在这种情况下，浏览器会尽可能地进行更为精确的查询，简单地说，如果用户有可用的 GPS 设备，会返回 GPS 设备的查询结果，IP 是最后的选择，对于移动设备来说，网络接入点(基站)或许成为另一个选择，对此我还没有完全了解，但根据测试，即时没有任何额外功能的手机，也能够得到更为精确的查询结果。</p>
</li>
<li>maximumAge：单位毫秒，告诉设备缓存时间，主要用于设备的省电或者节省带宽方面。</li>
<li>timeout：单位毫秒，超时事件，获取位置信息时超出设定的这个时长，将会触发错误，捕获错误的函数将被调用，并且错误码指向TIMEOUT。</li>
</ol>
<p>例如下面的代码：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>
<span class="keyword">var</span> geo=navigator.geolocation.getCurrentPosition(geo_success, geo_error, {enableHighAccuracy:<span class="literal">true</span>, 
    maximumAge:<span class="number">30000</span>, 
    timeout:<span class="number">27000</span>});
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2011/01/26/使用navigator-geolocation来获取用户的地理位置信息/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2011/01/25/提高网站访问速度的十个技巧/">提高网站访问速度的十个技巧</a></h1>
  

      <time datetime="2011-01-25T10:18:35.000Z"><a href="/2011/01/25/提高网站访问速度的十个技巧/">2011年1月25日</a></time>
    </header>
    <div class="entry">
      
        <p>网站的访问速度和性能对用户体验来说是非常重要的。如果你的网站访问非常的慢，你不仅会失去用户，而且更可怕的是你会失去潜在的客户。像Google这样的互联网巨头也会把网站访问速度作为排名的一个参数。因此当你需要优化网站速度时，你需要考虑方方面面，每个毫秒。这里对改进网站性能提出一些基础和普遍的建议。</p>
<h3>1、如果可能的话，延迟加载一些内容</h3>
<p>可以使用Ajax来按需加载部分内容。比如一个相册，可以在用户浏览页面时先出缩略图，当用户点击了，然后异步请求原图并展示，这样用户如果只需要看几张图片，就不需要等待所有图片都加载下来。这种开发模式叫做延迟加载。<br>Ajax/Web开发类库如<strong>jQuery</strong>，Prototype，与及MooTools可以使得延迟加载更容易实现。</p>
<h3>2、使用外部JS和CSS文件</h3>
<p>当用户第一次加载网页时，浏览器会缓存住外部的CSS和JavaScript文件，所以将javascript和CSS放到外部文件比内联的会好。<br>使用内联CSS还会增加网页的渲染时间，让所有样式都定义在你的主CSS文件中使得浏览器渲染页面时少做一些工作，因为它一开始就知道所有需要应用的样式规则。另外使用外部javascript和css文件也有助于维护代码。</p>
<h3>3、使用缓存系统</h3>
<p>如果你发现网站总是连接数据库来查询产生出同样的结果，可能就需要使用缓存系统了。使用缓存的话，只需要生成一次特定的内容而不需要用户每次访问的时候都去生成。缓存系统也会根据配置周期性的刷新缓存。你可以生成静态HTML页，以减小服务器脚本执行的开消，或者使用数据库和服务端脚本缓存系统，比如PHP的加速器，memcached等。</p>
<h3>4、避免在html中改变图片大小</h3>
<p>如果一张图片原本是1280<em>900px的，但是你需要它显示为400</em>280px的，你应该用图片编辑器，如Photoshop来改变它的大小，而不是使用HTML的width和height属性。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2011/01/25/提高网站访问速度的十个技巧/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2011/01/21/三种常见jquery幻灯片（jquery-slider）制作教程/">三种常见jQuery幻灯片（jQuery slider）制作教程</a></h1>
  

      <time datetime="2011-01-21T15:25:54.000Z"><a href="/2011/01/21/三种常见jquery幻灯片（jquery-slider）制作教程/">2011年1月21日</a></time>
    </header>
    <div class="entry">
      
        <p>好久没正儿八经的写写js代码了，再不写就生疏了，昨天无意中发现cityhouse的首页幻灯片有问题，于是今天就写了三个<strong>幻灯片</strong>实例，如果还不会用<strong>jquery</strong>写幻灯片的可以参考我之前的文章：《<a href="http://js8.in/479.html" title="jquery幻灯片教程">CSS+jQuery实现滑动幻灯片实例详解</a>》以及<a href="http://js8.in/462.html" title="jquery幻灯片实例教程">两个jQuery幻灯片实例</a>。</p>
<p>今天的<a href="http://js8.in/mywork/jq_slider3/" title="三种常见jQuery幻灯片（jQuery slider）实例">三个jQuery幻灯片</a>其实还是两个，只不过第一种滚动的幻灯片有两种形式：分别是上下滚动和左右滚动。兼容IE6+，FF，chrome等主流浏览器。<br>效果和淘宝首页的幻灯片效果相同，自动播放时是一直往一个方向前进。<br>布局方面还算比较简洁，大家可以根据自己的需要添加内容，另外这次的幻灯片加上了文字，其实不光图片可以slider，文字也可以slider一会的。另外加了一点CSS3，就是控制按钮圆角化了（FF3.6+和chrome下有效果）。</p>
<h3>截图</h3>
<p><a href="http://js8.in/668.html/snap1-18"><img src="/uploads/2011/01/Snap1-300x202.jpg" alt="三种常见jQuery幻灯片（jQuery slider）实例" title="三种常见jQuery幻灯片（jQuery slider）实例"></a></p>
<h3>教程</h3>
<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2011/01/21/三种常见jquery幻灯片（jquery-slider）制作教程/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2011/01/14/iframe自适用高度代码/">iframe自适用高度代码</a></h1>
  

      <time datetime="2011-01-14T10:02:48.000Z"><a href="/2011/01/14/iframe自适用高度代码/">2011年1月14日</a></time>
    </header>
    <div class="entry">
      
        <p>有不少<a href="http://js8.in/wbox-jquery" title="jQuery弹出框">wBox</a>的用户反映iframe时候不可以自动撑开高度，今天在无意中看到了司徒正美的一片关于iframe自适用高度的js代码，感觉不错，转载来了。</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre>
<span class="keyword">var</span> adjustIframe = <span class="function"><span class="keyword">function</span> <span class="params">(id)</span> {</span>
    <span class="keyword">var</span> iframe = document.getElementById(id)
    <span class="keyword">var</span> idoc = iframe.contentWindow && iframe.contentWindow.document || iframe.contentDocument;
    <span class="keyword">var</span> callback = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">var</span> iheight = Math.max(idoc.body.scrollHeight, idoc.documentElement.scrollHeight); <span class="comment">//取得其高</span>
        iframe.style.height = iheight + <span class="string">"px"</span>;
    }
    <span class="keyword">if</span> (iframe.attachEvent) {
        iframe.attachEvent(<span class="string">"onload"</span>, callback);
    } <span class="keyword">else</span> {
        iframe.onload = callback
    }
}
</pre></td></tr></table></figure>

<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2011/01/14/iframe自适用高度代码/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/12/29/前端必须熟悉的10个css3属性/">前端必须熟悉的10个CSS3属性</a></h1>
  

      <time datetime="2010-12-29T10:59:57.000Z"><a href="/2010/12/29/前端必须熟悉的10个css3属性/">2010年12月29日</a></time>
    </header>
    <div class="entry">
      
        <p>随着Css3和html5的风靡，越来越多的前端人员开始学习Css3，今天的文章就是来说说前端应该掌握10个Css3属性。  上篇博文提到了《<a href="http://js8.in/647.html" title="前端必须掌握30个CSS3选择器">前端必须掌握30个CSS3选择器</a>》，但是对于Css3的新属性，你又了解多少呢？虽然大多数的css3属性在很多流行的浏览器中不支持，但是我们鼓励在前端开发中要学会并且运行这些css3属性，因为这是未来的趋势。  关键是首先确定你是否对各个浏览器之间的细微的差别有所了解，你能肯定的说IE显示的90度的角就不圆滑嘛？这取决于你的决定。但是要永远记住，网站设计不必看到所有浏览器的不同。在文章的最后，我们将显示一个有趣的最终的案例。</p>
<h3>1、border-radius</h3>
<p><a href="http://js8.in/648.html/attachment/201012220003115125"><img src="/uploads/2010/12/201012220003115125.png" alt="border-radius" title="border-radius"></a></p>
<p><strong>border-radius</strong>是一大堆CSS3属性中最受欢迎的一种，border-radius是CSS3中级别最高的一个属性。当设计者害怕一个层在将在不同的浏览器之间以不同的方式显示时，CSS圆角，一个很初级的知识，将引导他们开始学习。  我们为移动浏览器提供一个备用的观看体验的想法都非常好。奇怪的是，当这种方法出现在桌面浏览器上时，他们却又不这么认为。  border-radius是一大堆CSS3属性中最受欢迎的一种，border-radius是CSS3中级别最高的一个属性。当设计者害怕一个层在将在不同的浏览器之间以不同的方式显示时，CSS圆角，一个很初级的知识，将引导他们开始学习。  我们为移动浏览器提供一个备用的观看体验的想法都非常好。奇怪的是，当这种方法出现在桌面浏览器上时，他们却又不这么认为。</p>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>
-<span class="tag">webkit</span>-<span class="tag">border</span>-<span class="tag">radius</span>: 4<span class="tag">px</span>;
-<span class="tag">moz</span>-<span class="tag">border</span>-<span class="tag">radius</span>: 4<span class="tag">px</span>;
<span class="tag">border</span>-<span class="tag">radius</span>: 4<span class="tag">px</span>;
</pre></td></tr></table></figure>

<p>注意：请在Safari 5 和 IE9浏览器中执行”border-radius”语法。<br> <strong>圆</strong><br>许多读者也许不会意识到我们可以用这个属性来做一个圆。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/12/29/前端必须熟悉的10个css3属性/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/12/28/前端必须掌握30个css3选择器/">前端必须掌握30个CSS3选择器</a></h1>
  

      <time datetime="2010-12-28T13:57:58.000Z"><a href="/2010/12/28/前端必须掌握30个css3选择器/">2010年12月28日</a></time>
    </header>
    <div class="entry">
      
        <p>也许你已经学会了CSS的三个简单常用的选择器：#ID，.class，标签选择器，可是这些就足够了吗？随着<strong>CSS3</strong>的到来，作为前端开发者需要掌握下面三十个基本的选择器，这样才可以在平时开发中得心用手。</p>
<p>本文中将综合前端开发中常用的30个<strong>CSS3选择器</strong>，并且附带了浏览器的支持情况，希望对大家有所帮助。</p>
<h3>1、*：通用元素选择器</h3>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>
* <span class="rules">{  
 <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span>;</span></span>  
 <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span>;</span></span>  
<span class="rule">}</span></span>
</pre></td></tr></table></figure>

<p>*选择器是选择页面上的全部元素，上面的代码作用是把全部元素的margin和padding设为0，最基本的<a href="http://js8.in/365.html" title="清除默认CSS样式注意事项">清除默认CSS样式</a>方法</p>
<p>*选择器也可以应用到子选择器中，例如下面的代码：</p>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>
<span class="id">#container</span> * <span class="rules">{  
 <span class="rule"><span class="attribute">border</span>:<span class="value"> <span class="number">1</span>px solid black;</span></span>  
<span class="rule">}</span></span>
</pre></td></tr></table></figure>

<p>这样ID为container 的所有子标签元素都被选中了，并且设置了border。</p>
<p><a href="http://d2o0t5hpnwv4c1.cloudfront.net/840_cssSelectors/selectors/star.html" target="_blank">查看演示</a></p>
<h5>兼容性</h5>
<ol>
<li>IE6+</li>
<li>Firefox</li>
<li>Chrome</li>
<li>Safari</li>
<li>Opera</li>
</ol>
<h3>#ID：ID选择器</h3>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>
<span class="id">#container</span> <span class="rules">{  
   <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">960</span>px;</span></span>  
   <span class="rule"><span class="attribute">margin</span>:<span class="value"> auto;</span></span>  
<span class="rule">}</span></span>
</pre></td></tr></table></figure>

<p>ID选择器是CSS中效率最高的选择器，使用的时候要保证ID的唯一性。</p>
<p><a href="http://d2o0t5hpnwv4c1.cloudfront.net/840_cssSelectors/selectors/id.html" target="_blank">查看演示</a></p>
<h5>兼容性</h5>
<ol>
<li>IE6+</li>
<li>Firefox</li>
<li>Chrome</li>
<li>Safari</li>
<li>Opera</li>
</ol>
<h3>.class:类选择器</h3>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>
<span class="class">.error</span> <span class="rules">{  
  <span class="rule"><span class="attribute">color</span>:<span class="value"> red;</span></span>  
<span class="rule">}</span></span>
</pre></td></tr></table></figure>

<p>类选择器效率低于ID选择器，一个页面可以有多个class，并且class可以放在不同的标签中使用。</p>
<p><a href="http://d2o0t5hpnwv4c1.cloudfront.net/840_cssSelectors/selectors/class.html" target="_blank">查看演示</a></p>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/12/28/前端必须掌握30个css3选择器/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/12/20/利用百度ping服务api加快文章收录，秒收不是梦/">利用百度ping服务API加快文章收录，秒收不是梦</a></h1>
  

      <time datetime="2010-12-19T17:04:15.000Z"><a href="/2010/12/20/利用百度ping服务api加快文章收录，秒收不是梦/">2010年12月20日</a></time>
    </header>
    <div class="entry">
      
        <p>上一篇文章提到了<a href="http://js8.in/644.html" title="利用google博客的ping服务接口API加快网站收录">谷歌的ping服务接口</a>，其实国内的搜索引擎<strong>百度</strong>也有类似的服务，今天就介绍下百度博客ping服务，<a href="http://www.baidu.com/search/blogsearch_help.html#n7" target="_blank">百度博客Ping服务的详细介绍</a>，请移步：<a href="http://www.baidu.com/search/blogsearch_help.html#n7" target="_blank"><a href="http://www.baidu.com/search/blogsearch_help.html#n7">http://www.baidu.com/search/blogsearch_help.html#n7</a></a>。百度的<strong>ping服务</strong>也是基于XML-RPC标准协议，但是与谷歌ping服务不同的是百度的ping发送的xml格式不同，我们需要使用string节点包裹内容。</p>
<p>例如：</p>
<blockquote>
<figure class="highlight lang-xml"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="code"><pre>
&gt; <span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
&gt; <span class="tag">&lt;<span class="title">methodCall</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">methodName</span>&gt;</span>weblogUpdates.extendedPing<span class="tag">&lt;/<span class="title">methodName</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">params</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">param</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">value</span>&gt;</span><span class="tag">&lt;<span class="title">string</span>&gt;</span>断桥残雪部落格<span class="tag">&lt;/<span class="title">string</span>&gt;</span><span class="tag">&lt;/<span class="title">value</span>&gt;</span>
&gt; <span class="tag">&lt;/<span class="title">param</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">param</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">value</span>&gt;</span><span class="tag">&lt;<span class="title">string</span>&gt;</span>http://js8.in/<span class="tag">&lt;/<span class="title">string</span>&gt;</span><span class="tag">&lt;/<span class="title">value</span>&gt;</span>
&gt; <span class="tag">&lt;/<span class="title">param</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">param</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">value</span>&gt;</span><span class="tag">&lt;<span class="title">string</span>&gt;</span>http://js8.in/644.html<span class="tag">&lt;/<span class="title">string</span>&gt;</span><span class="tag">&lt;/<span class="title">value</span>&gt;</span>
&gt; <span class="tag">&lt;/<span class="title">param</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">param</span>&gt;</span>
&gt; <span class="tag">&lt;<span class="title">value</span>&gt;</span><span class="tag">&lt;<span class="title">string</span>&gt;</span>http://js8.in/feed<span class="tag">&lt;/<span class="title">string</span>&gt;</span><span class="tag">&lt;/<span class="title">value</span>&gt;</span>
&gt; <span class="tag">&lt;/<span class="title">param</span>&gt;</span>
&gt; <span class="tag">&lt;/<span class="title">params</span>&gt;</span>
&gt; <span class="tag">&lt;/<span class="title">methodCall</span>&gt;</span>
&gt;
</pre></td></tr></table></figure>

</blockquote>
<p>根据<a href="http://js8.in/644.html" title="利用google博客的ping服务接口API加快网站收录">上篇</a>提到的谷歌接口，我们只要改变一下提交的xml内容即可，当然百度ping服务返回的判断也是跟谷歌的不同，也可以做相应的修改，<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/12/20/利用百度ping服务api加快文章收录，秒收不是梦/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/12/17/利用google博客的ping服务接口api加快网站收录/">利用google博客的ping服务接口API加快网站收录</a></h1>
  

      <time datetime="2010-12-17T10:38:02.000Z"><a href="/2010/12/17/利用google博客的ping服务接口api加快网站收录/">2010年12月17日</a></time>
    </header>
    <div class="entry">
      
        <p>谷歌博客推出了<strong>ping</strong>服务已经很长时间了，如果我们的博客是wordpress可以很方便的设置ping服务，但是如果我们的博客不是wordpress，或者我们的网站程序是自己手写的，那么就要自己写<strong>RPC</strong>代码了。今天断桥残雪分享一下自己写的PHP的XML-RPC代码。在此之前先说说ping服务的好处以及wordpress的ping设置。</p>
<h3>配置ping服务，加快收录速度</h3>
<p>谷歌的ping服务是一种快速收录的方法，打个比方就是：我们写了一篇文章想要谷歌收录，我们就可以使用ping服务来通知下谷歌，要googlebot尽快来抓取收录。谷歌官方的解释：</p>
<blockquote>
<p>通过 Google“博客搜索”Ping API, 用户可以程序化的方式将博客内容的更新通知给 Google“博客搜索”引擎。这对于经常更新博客内容的用户尤其有用。博客服务提供商的管理人员也可以利用此API将其平台上的博客内容变化向 Google 通告，以便 Google“博客搜索”及时抓取来自这一服务提供商的最新内容。为设置对 Google“博客搜索”的自动 Ping 机制，请按照如下所述设置<strong>XML-RPC</strong>客户端或REST客户端以发送请求。您可以任选一种方法进行通知；两者都将按照相同的方式进行处理。</p>
</blockquote>
<h3>wordpress设置ping的方法</h3>
<p>wordpress自身就带着ping服务，只要我们配置一下就可以了，步骤是：设置→撰写→更新服务。常用的ping服务有以下几个：</p>
<blockquote>
<p><a href="http://rpc.pingomatic.com/" target="_blank">http://rpc.pingomatic.com/</a><br><a href="http://ping.baidu.com/ping/RPC2(百度的" target="_blank">http://ping.baidu.com/ping/RPC2(百度的</a>)<br><a href="http://blogsearch.google.com/ping/RPC2(谷歌的" target="_blank">http://blogsearch.google.com/ping/RPC2(谷歌的</a>)<br><a href="http://api.my.yahoo.com/RPC2(雅虎的" target="_blank">http://api.my.yahoo.com/RPC2(雅虎的</a>)<br><a href="http://api.my.yahoo.com/rss/ping(雅虎的" target="_blank">http://api.my.yahoo.com/rss/ping(雅虎的</a>)<br><a href="http://www.feedsky.com/api/RPC2(feedsky的" target="_blank">http://www.feedsky.com/api/RPC2(feedsky的</a>)</p>
</blockquote>
<h3>谷歌ping服务的PHP代码</h3>
<p>关于RPC的详细介绍可以移步<a href="http://www.google.com/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CBwQFjAA&amp;url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2FRemote_procedure_call&amp;ei=KRkMTdv4DdCOcY-t0cEK&amp;usg=AFQjCNFk4Xj6zVRWzO_H81TzbHeO9cBhjw&amp;sig2=_CO0Vdcrd56r46zJM3oyJw" target="_blank">维基百科</a>，谷歌ping服务的标准：</p>
<p><span>RPC端点：<span> </span><a href="http://blogsearch.google.com/ping/RPC2" target="_blank">http://blogsearch.google.com/ping/RPC2</a><span> </span><br>调用方法名：<span> </span>weblogUpdates.extendedPing<span> </span><br>参数：<span> </span>(应按照如下所列的相同顺序传送)</span></p>
<p><span><em>   站点名
</em>   站点URL<br><em>   需要检查更新的页面URL
</em>   相应的RSS、RDF或Atom种子的URL<br>*   可选：页面内容的分类名称(或标签)。您可以指定多个值，之间用‘|’字符进行分隔。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/12/17/利用google博客的ping服务接口api加快网站收录/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/12/07/css3-media-queries使用方法详解/">CSS3 Media Queries使用方法详解</a></h1>
  

      <time datetime="2010-12-07T13:57:34.000Z"><a href="/2010/12/07/css3-media-queries使用方法详解/">2010年12月7日</a></time>
    </header>
    <div class="entry">
      
        <p>在css2中允许我们使用media的属性，例如使用screen和print，我也写过一篇关于<a href="http://js8.in/351.html" title="使用CSS控制打印页面格式">使用CSS media的print来定义打印网页</a>的样式的文章，关于css2中的media文章，推荐下<a href="http://www.w3.org/TR/CSS2/media.html" target="_blank">w3c的</a>。今天来说说CSS3的Media Queries。CSS3中不仅仅可以使用screen和print，而且支持多媒体多分辨率的样式表。</p>
<p>我们先来看下CSS3 Media Queries的演示实例：<a href="http://js8.in/mywork/css3media.html" title="CSS3 Media Query 演示"><a href="http://js8.in/mywork/css3media.html">http://js8.in/mywork/css3media.html</a></a>，来自于（<a href="http://www.webdesignerwall.com/tutorials/css3-media-queries/" target="_blank">Web Designer Wall</a>）</p>
<h3>Max Width</h3>
<p>故名思意，就是最大宽度的意思，例如下面的代码是在宽度小于600px的时候才执行的。</p>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="at_rule">@<span class="keyword">media</span> screen and (max-width: <span class="number">600</span>px) </span>{
  <span class="class">.class</span> <span class="rules">{
    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#ccc</span>;</span></span>
  <span class="rule">}</span></span>
}
</pre></td></tr></table></figure>

<p>也可以在link标签里面使用media属性，即下面的写法：</p>
<figure class="highlight lang-html"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>
<span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">media</span>=<span class="value">"screen and (max-width: 600px)"</span> <span class="attribute">href</span>=<span class="value">"small.css"</span> /&gt;</span>
</pre></td></tr></table></figure>

<h3>Min Width</h3>
<p>跟Max Width相反，是最小宽度，例如当宽度大于900px的时候才运行下面的代码</p>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="at_rule">@<span class="keyword">media</span> screen and (min-width: <span class="number">900</span>px) </span>{
  <span class="class">.class</span> <span class="rules">{
    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#666</span>;</span></span>
  <span class="rule">}</span></span>
}
</pre></td></tr></table></figure>

<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/12/07/css3-media-queries使用方法详解/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/12/02/使用mysql筛选出某字段中文的记录/">使用mysql筛选出某字段中文的记录</a></h1>
  

      <time datetime="2010-12-02T09:08:54.000Z"><a href="/2010/12/02/使用mysql筛选出某字段中文的记录/">2010年12月2日</a></time>
    </header>
    <div class="entry">
      
        <p>项目中遇到了一个数据处理的问题，简单的描述一下：字段name中有英文的也有中文的，数据比较庞大，如果使用php处理整个表都要捣鼓一遍，不是很“低碳”。</p>
<p>后来想到了使用mysql的正则，于是上网查了一下，找到了以下的方法：</p>
<figure class="highlight lang-mysql"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>
<span class="operator"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> <span class="keyword">not</span> name regexp <span class="string">'^[1-9A-Za-z]'</span>;</span>
</pre></td></tr></table></figure>

<p>这样就可以筛选出来name字段中全部为中文的记录了。<br>记录一下</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/11/24/javascript简单实现checkbox的全选与反选/">javascript简单实现checkbox的全选与反选</a></h1>
  

      <time datetime="2010-11-23T20:23:35.000Z"><a href="/2010/11/24/javascript简单实现checkbox的全选与反选/">2010年11月24日</a></time>
    </header>
    <div class="entry">
      
        <p>今天上网遇到有个网友在论坛问input的<strong>checkbox</strong>全选和反选的问题，顺手总结了一下，然后写了个简单的jQuery checkbox<strong>全选反选</strong>插件，希望对大家有用。<br>如果是简单的实现checkbox的全选与反选可以使用下面的函数：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre>
 <span class="function"><span class="keyword">function</span> <span class="title">checkall</span><span class="params">(obj,cName)</span>
 {</span>
     <span class="keyword">var</span> checkboxs = document.getElementsByName(cName);
     <span class="keyword">for</span>(<span class="keyword">var</span> i=checkboxs.length;i--;){
             checkboxs[i].checked = obj.checked;
     }
 }
<span class="comment">//使用方法:给全选的按钮加onclick事件：onclick="checkall(this,'all[]');"</span>
</pre></td></tr></table></figure>

<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/11/24/javascript简单实现checkbox的全选与反选/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/11/09/再谈iframe的问题/">再谈Iframe的问题</a></h1>
  

      <time datetime="2010-11-09T11:58:18.000Z"><a href="/2010/11/09/再谈iframe的问题/">2010年11月9日</a></time>
    </header>
    <div class="entry">
      
        <p><strong>iframe</strong>是可以做的事情非常多，比如<a href="http://js8.in/443.html" title="用document.domain+iframe实现Ajax跨子域">通过iframe实现跨域</a>，使用<a href="http://js8.in/553.html" title="解决IE6 select z-index无效，遮挡div的bug">iframe解决IE6下select遮挡不住的问题</a>，通过<a href="http://js8.in/311.html" title="关于Ajax在浏览器中产生前进后退的实现方法">iframe解决Ajax的前进后退</a>问题，再比如通过iframe实现异步上传。在很早我就写过一篇文章说明了<a href="http://js8.in/463.html" title="使用JavaScript在IE和Firefox下进行iframe的DOM操作">Iframe在IE、firefox下的一些DOM操作</a>。今天结合最近项目中遇见的<strong>iframe问题</strong>，再来谈谈iframe的一些常见问题解决方案。</p>
<h3>IE下iframe背景透明问题</h3>
<p>在firefox下，iframe背景默认的是透明的，在IE下默认不是透明的，我们可以使用<code>allowTransparency=&#39;true&#39;</code>来设置IE下的iframe为透明，另外我们使用<code>scrolling =&#39;no&#39; ``frameborder=&#39;0&#39;</code>分别来实现iframe页面没有滚动条，边框宽度。</p>
<h3>IE6下iframe不显示的问题</h3>
<p>不得不说<strong>IE6</strong>是个操蛋的浏览器，尤其是在中国！iframe有的时候在IE6中会出现不显示的问题，主要有以下几种原因，请一一排查：</p>
<ol>
<li>可能你的iframe没有设置宽高，例如在table不居中，计算不出来td的高度，会导致这种问题</li>
<li><p>尝试使用下面的代码来重新载入IE6下的iframe页面：</p>
<blockquote>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>
&gt; setTimeout(<span class="keyword">function</span>(){
&gt; 	document.frames[<span class="string">'fuckIE6'</span>].location.reload();
&gt; },<span class="number">0</span>)
&gt;
</pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>传闻iframe标签中不要把src紧跟在iframe之后，也就是<code>&amp;lt;iframe src=&#39;js8.in&#39; name=&#39;fuckIE6&#39;&amp;gt;&amp;lt;/iframe&amp;gt;</code>是错误的，不过我没有碰见过类似的问题，为了保险起见，还是不要写成上面的样式为妙。</p>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/11/09/再谈iframe的问题/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/10/12/sina-app-engine开发实例：天气预报的定时短信（一）/">Sina App Engine开发实例：天气预报的定时短信（一）</a></h1>
  

      <time datetime="2010-10-12T09:41:43.000Z"><a href="/2010/10/12/sina-app-engine开发实例：天气预报的定时短信（一）/">2010年10月12日</a></time>
    </header>
    <div class="entry">
      
        <p>新浪的云计算平台（<a href="http://sae.sina.com.cn/" title="新浪云计算" target="_blank">Sina App Engine</a>）已经开发一段时间了，一直处于内测阶段，最近找到一个邀请码，注册了一个<strong>SAE</strong>，我也上云了！使用SAE并且做了一个<strong><a href="http://js8.in/love" title="微博送祝福">微博送祝福</a></strong>的应用。通过crontab的服务实现了在新浪微博以：“<span style="color: #ff0000;"><strong>@微博送祝福：祝××：祝福的内容</strong></span>”的格式发布微博，可以在5分钟内送出祝福，并且收到@回复的功能。</p>
<p>今天结合张宴提供的飞信API接口，做个定时发送天气预报的SAE应用，算是<strong>新浪SAE的教程</strong>吧。</p>
<p><a href="http://js8.in/633.html">Sina App Engine开发实例：天气预报的定时短信（一）</a> | <a href="http://js8.in/634.html">天气预报的定时短信（二）</a></p>
<blockquote>
<p>广告时间：</p>
<h3>新浪微博送祝福方法</h3>
<p>1、在发布新浪微博的时候，采用以下格式，会在5分钟之内把您的祝福发送出去，并且收到一个@回复：</p>
<p><span style="color: #ff0000;"><strong>@微博送祝福：祝××：祝福的内容</strong></span></p>
<p>2、登录<a href="http://js8.in/love" title="新浪微博送祝福"><a href="http://js8.in/love">http://js8.in/love</a></a>，使用新浪微博账号登陆，然后给自己的粉丝、好友送祝福</p>
<p>每一个祝福都会收到一个@回复，并且具有自己独一无二的永久URL地址，你可以复制发送给自己的好友，要TA知道你送的祝福~</p>
</blockquote>
<h3>Sina App Engine简介</h3>
<p><strong>Google App Engine</strong>大家应该不陌生吧，SAE是类似产品，不同的是GAE提供的是Java和python支持，而新浪的SAE提供的是PHP的支持，包括基本的PHP5、mySQL5.，也包括一些高级的应用<strong>Crontab</strong>（定时任务），<strong>memcache</strong>（缓存）、<strong>SMTP</strong>（邮箱服务），新的功能还在添加中。最让我们兴奋的是提供了crontab计划任务功能，我们可以不花一分钱就能做到定时任务，例如定时发送邮件（结合SMTP），还有今天的实例，天气预报定时短信。而且这些服务我们需要花费少量的“云豆”就可以实现！</p>
<p>详情请参阅：<a href="http://sae.sina.com.cn/" target="_blank"><a href="http://sae.sina.com.cn/">http://sae.sina.com.cn/</a></a></p>
<h3>Sina App Engine基本操作教程</h3>
<p>相对于GAE的黑脸CMD命令行操作，SAE的图形界面更加亲切。注册一个SAE账号之后，我们就可以下载<a href="http://sae.sina.com.cn/?m=sdk" target="_blank">Sina App Engine SDK</a> 包括了windows版本和Mac/Linux版本。</p>
<p>具体是SDK操作教程请看在线视频：<a href="http://xhprof.tools.sinaapp.com/demo_beta/" target="_blank"><a href="http://xhprof.tools.sinaapp.com/demo_beta/">http://xhprof.tools.sinaapp.com/demo_beta/</a></a></p>
<h3>天气预报抓取程序，采用SAE的FetchURL类</h3>
<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/10/12/sina-app-engine开发实例：天气预报的定时短信（一）/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/10/02/新浪微博应用开发之一：授权机制介绍/">新浪微博应用开发之一：授权机制介绍</a></h1>
  

      <time datetime="2010-10-02T15:02:43.000Z"><a href="/2010/10/02/新浪微博应用开发之一：授权机制介绍/">2010年10月2日</a></time>
    </header>
    <div class="entry">
      
        <p>题记：国庆期间没有出去玩，也没有回家，只有蜗居在家，闲来无事，研究了下<strong>新浪微博</strong>和<strong>人人网</strong>的开发平台。特把研究成果及其经验写成博客，分享给大家。首先先说说我开发的新浪微博应用：<a href="http://js8.in/love" title="新浪微博送祝福">微博祝福</a>，以及人人网应用：<a href="http://js8.in/renren" title="人人祝福墙">人人祝福墙</a>。这两个应用都是根据<a href="http://love.js8.in" title="断桥残雪爱墙" target="_blank">爱墙程序</a>修改而成，并且采用了我的<a href="http://js8.in/wbox">jquery插件wBox</a>。</p>
<p>今天主要讲一讲新浪微博应用开发的授权机制问题，因为新浪最近跟CSND合作举办一个APP开发大赛，所以今天想说下新浪微博的应用开发。新浪微博是采用两种授权方法：一种是<strong>HTTP普通验证</strong>(<strong>Basic Authentication</strong>)方式，另外一种是<strong>OAuth</strong>，前面一种是最直接的方法，用户输入账号密码登陆，而第三方网站需要记录用户的账号密码下次才能认证成功，不然每次都要输密码很麻烦，并且对于用户来说很不安全。第二种<a href="http://blog.csdn.net/hereweare2009/archive/2009/03/08/3968582.aspx" target="_blank">OAuth</a>是比较安全的，用户需要跳到新浪官方输入账号密码，然后通过三步来换取Access Token，说起来比较麻烦，不过得到了这个Token之后就可以请求到新浪微博的API了，用户还可以随时通过新浪微博取消这个认证授权。</p>
<h3>HTTP普通验证</h3>
<p>最简单的认证方式，断桥残雪之前写的Follow5 API类就是使用这样的方法，其原理就是使用<strong>curl</strong>一个URL来请求API接口，已获得开放的数据。<br>关于HTTP普通验证的方法，大家可以参考我之前写的一个<a href="http://js8.in/349.html">Follow5 API PHP类</a>，关于curl的详细操作，大家可以看这篇文章《<a href="http://js8.in/379.html">cURL常用的几个PHP函数</a>》</p>
<h3>OAuth认证方法</h3>
<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/10/02/新浪微博应用开发之一：授权机制介绍/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/10/02/jquery教程之鼠标事件篇/">jQuery教程之鼠标事件篇</a></h1>
  

      <time datetime="2010-10-02T14:12:56.000Z"><a href="/2010/10/02/jquery教程之鼠标事件篇/">2010年10月2日</a></time>
    </header>
    <div class="entry">
      
        <p>jQuery除了<strong>选择器</strong>之外，还封装了很多事件的处理，比如<strong>鼠标事件</strong>，所谓的鼠标事件是指用户在移动鼠标光标或者点击任意鼠标键而触发的事件，jQuery中封装了几乎所有的鼠标事件，包括点击，双击，移出，移入等鼠标事件，下面断桥残雪简单的介绍下<strong>jQuery的鼠标事件</strong></p>
<h3>jQuery的click事件</h3>
<p>经典鼠标click的实例：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>
$(<span class="string">"sel"</span>).click(<span class="keyword">function</span>(){
    alert(<span class="string">'哈哈 !'</span>);
});
</pre></td></tr></table></figure>

<h3>jQuery的dbclick事件</h3>
<p>一般dbclick事件的同时也会触发两次click事件。。以前我写过一篇博客简单的介绍了下<a href="http://js8.in/610.html">jQuery的鼠标双击事件</a></p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre>
$(<span class="string">'p'</span>).dbclick(<span class="keyword">function</span>(){
alert(<span class="string">'鼠标双击!'</span>);
});
$(<span class="string">'p'</span>).click(<span class="keyword">function</span>(){
alert(<span class="string">'点击了一下!'</span>);
});<span class="comment">//大家看看结果是怎么样的？</span>
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/10/02/jquery教程之鼠标事件篇/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/09/08/ie中flash遮挡div现象的解决方案/">IE中flash遮挡div现象的解决方案</a></h1>
  

      <time datetime="2010-09-07T17:58:05.000Z"><a href="/2010/09/08/ie中flash遮挡div现象的解决方案/">2010年9月8日</a></time>
    </header>
    <div class="entry">
      
        <p>今天开始给网站首页的广告管理系统添加<strong>flash</strong>广告代码，结果出现IE中（包括IE6+）弹窗广告要flash遮挡的问题，后来想到了常用的iframe方法（参见《<a href="http://js8.in/553.html" title="解决IE6 select z-index无效，遮挡div的bug - 断桥残雪部落格">解决IE6 select z-index无效，遮挡div的bug</a>》），最终成功了flash遮挡DIV的bug，但是在IE中还出现了浮动的DIV变化位置后，flash出现div碎片的拖尾现象。继续寻找解决方案。最后终于找了原来flash有个参数wmode可以设置，于是代码变成了这样：</p>
<blockquote>
<p>&lt;embed src=“s.swf” quality=“high” <strong><span style="color: #ff0000;">wmode=“Opaque” </span></strong>width=“150” height=“240”&gt;&lt;/embed&gt;<br>于是IE中Flash遮挡<strong>DIV</strong>的问题成功解决了，看图：</p>
</blockquote>
<p><a href="/uploads/2010/09/flash-div.jpg"><img src="/uploads/2010/09/flash-div-300x144.jpg" alt="flash遮挡div问题的解决方案" title="flash遮挡div问题的解决方案"></a></p>
<p><a href="http://feed.feedsky.com/r57c" target="_blank"><img src="/uploads/2010/08/logo_147x47.gif" alt="断桥残雪部落格最新的订阅地址" title="断桥残雪部落格最新的订阅地址"></a></p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/09/05/提高firefox的innerhtml的性能/">提高Firefox的innerHTML()的性能</a></h1>
  

      <time datetime="2010-09-05T15:59:33.000Z"><a href="/2010/09/05/提高firefox的innerhtml的性能/">2010年9月5日</a></time>
    </header>
    <div class="entry">
      
        <p>Firefox 下<strong>innerHTML</strong>在操作量大了以后性能下降很厉害,有人写了个提高innhtml性能的代替方法：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">replaceHtml</span><span class="params">(el, html)</span> {</span>
<span class="keyword">var</span> oldEl = <span class="keyword">typeof</span> el === <span class="string">"string"</span> ? document.getElementById(el) : el;
<span class="comment">/*@cc_on // 原始的 innerHTML 在 IE 中的性能好一点
oldEl.innerHTML = html;
return oldEl;
@*/</span>
<span class="keyword">var</span> newEl = oldEl.cloneNode(<span class="literal">false</span>);
newEl.innerHTML = html;
oldEl.parentNode.replaceChild(newEl, oldEl);
<span class="comment">/* 一旦我们从 DOM 上移除老的元素，则返回新的元素引用。*/</span>
<span class="keyword">return</span> newEl;
};
</pre></td></tr></table></figure>

<p>可以直接用<code>el=replaceHtml(el, newHtml)</code>代替<code>el.innerHTML=newHtml</code>。</p>
<p>速度到底有多大提升，还得测试说话。作者提供了一个测试页面：<a href="http://stevenlevithan.com/demo/replaceHtml.html" target="_blank">http://stevenlevithan.com/demo/replaceHtml.html</a></p>
<p>此方法大大提高了 innerHTML 在 Firefox 和 Safari 上的性能。replaceHtml() 在 Firefox 2.0.0.6 里 destroy 与 replace 的速度各快了 473 倍以及 50 倍。而在 Safari 3.0.3 beta 上则是 create 100 倍，replace 50 倍。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/09/05/提高firefox的innerhtml的性能/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/09/03/使用php把excelxls文件导入mysql数据库/">使用PHP把excel(xls)文件导入mysql数据库</a></h1>
  

      <time datetime="2010-09-03T11:43:24.000Z"><a href="/2010/09/03/使用php把excelxls文件导入mysql数据库/">2010年9月3日</a></time>
    </header>
    <div class="entry">
      
        <p>昨晚一个客户联系我<a href="http://js8.in/537.html" title="承接企业网站建设，企业建站工作">做网站</a>，提出的要求是需要把客户提供的<strong>excel文件</strong>里面的数据导入到mysql数据库，最常用的方法就是先把<strong>xls</strong>文件导出为csv格式的文件，然后在解析csv格式的文件导入到<strong>mysql数据库</strong>。方法比较冗余，而且分好几步进行，很不方便，断桥残雪今天介绍一种方法是直接跳过<strong>csv</strong>的中间环节，直接把excel文件导入mysql数据库。</p>
<p>首先我们需要下载<strong>PHP-ExcelReader</strong>这是一个开源的项目，主要是来解析excel的文件，下载地址：<a href="http://sourceforge.net/projects/phpexcelreader" target="_blank"><a href="http://sourceforge.net/projects/phpexcelreader">http://sourceforge.net/projects/phpexcelreader</a></a>，下载之后解压，主要用到excel文件夹里面的两个文件reader.php和oleread.php（这个文件默认的是oleread.inc，不清楚为啥，一堆e文，没看，直接改名即可）。</p>
<p>在reader.php文件中找到以下类似代码（第一行既是），改成正确的oleread.php路径即可：<code>require_once &#39;oleread.php&#39;;</code></p>
<p>然后新建一个php文件引入reader.php，
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/09/03/使用php把excelxls文件导入mysql数据库/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/09/02/解决ie6不支持max-height的bug/">解决IE6不支持max-height的bug</a></h1>
  

      <time datetime="2010-09-02T13:06:30.000Z"><a href="/2010/09/02/解决ie6不支持max-height的bug/">2010年9月2日</a></time>
    </header>
    <div class="entry">
      
        <p>罪恶的IE6不支持<strong>max-height</strong>属性，不过我们可以通过jQuery来解决IE6不支持max-height，<strong>jQuery</strong>的代码如下：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>$(<span class="string">".entry"</span>).each(<span class="keyword">function</span>(){
    <span class="keyword">if</span>($(<span class="keyword">this</span>)[<span class="number">0</span>].scrollHeight&gt;<span class="number">500</span>)
     $(<span class="keyword">this</span>).css({<span class="string">"height"</span>:<span class="string">"500px"</span>});
});
</pre></td></tr></table></figure>

<p><strong>原理</strong>: 在IE6中可以通过设定height来达到<strong>max-height</strong>的效果. 循环所有要加max-height属性的DOM元素,判断他的scrollHeight大于你要设置的最大高度 如果超过了就通过设置height为最大高度，我这里使用的是[0]，获取的是的DOM对象，而不是jQuery对象，详细说明见：《<a href="http://js8.in/416.html">jQuery选择器使用详解</a>》</p>
<p>上面的代码还没有加入IE6的判断,完整代码如下:</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="keyword">if</span>($.browser.msie&amp;&amp;($.browser.version === <span class="string">"6.0"</span>)){
$(<span class="string">".entry"</span>).each(<span class="keyword">function</span>(){
<span class="keyword">if</span>($(<span class="keyword">this</span>)[<span class="number">0</span>].scrollHeight&gt;<span class="number">500</span>)
$(<span class="keyword">this</span>).css({<span class="string">"height"</span>:<span class="string">"500px"</span>,<span class="string">"overflow"</span>:<span class="string">"hidden"</span>});
});}
</pre></td></tr></table></figure>

<p>当然你也可以通过<strong>css表达式</strong>来实现<strong>IE6</strong>支持max-height属性</p>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>.entry{
//我烧验证woshao_985140e4b71711df9e5e000c295b2b8d
height: expression( this.scrollHeight &gt; 500 ? "500px" : "auto" ); /* sets max-height for IE */
}
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/08/31/前端开发优化总结/">前端开发优化总结</a></h1>
  

      <time datetime="2010-08-31T10:38:21.000Z"><a href="/2010/08/31/前端开发优化总结/">2010年8月31日</a></time>
    </header>
    <div class="entry">
      
        <p>发现的一篇关于<strong>前端优化</strong>的文章，总结的很全面，要做到面面俱到很难，往往是想优化而没有时间去优化，就像我们公司，一个项目连着一个项目~新员工的培训都省了，还想优化前端啊，不过我真的想有机会和<a href="http://www.qicaisky.com/" target="_blank">老大</a>好好的整合下公司网站的前端代码~不过要把前端优化的工作放在平时的写代码中去，就不需要刻意的后期优化了。在项目开发中，后台需要搭建好框架，前端更是需要搭建好框架，并且在页面实现中得到实现，只有这样才能事半功倍。</p>
<p>前段时间简单的研究了下前端优化相关的知识，本文算是一个阶段性的总结，或者当做一个优化的参考List。</p>
<h3>前言</h3>
<p>前端是庞大的，包括HTML、CSS、Javascript、Image、Flash等等各种各样的资源。<strong>前端优化</strong>是复杂的，针对方方面面的资源都有不同的方式。那么，前端优化的目的是什么？</p>
<ol>
<li>从用户角度而言，优化能够让页面加载得更快、对用户的操作响应得更及时，能够给用户提供更为友好的体验。</li>
<li>从服务商角度而言，优化能够减少页面请求数、或者减小请求所占带宽，能够节省可观的资源。<br>总之，恰当的优化不仅能够改善站点的用户体验并且能够节省相当的资源利用。</li>
</ol>
<p>前端优化的途径有很多，按粒度大致可以分为两类，第一类是页面级别的优化，例如HTTP请求数、脚本的无阻塞加载、内联脚本的位置优化等；第二类则是代码级别的优化，例如Javascript中的DOM操作优化、CSS选择符优化、图片优化以及HTML结构优化等等。另外，本着提高投入产出比的目的，后文提到的各种优化策略大致按照投入产出比从大到小的顺序排列。</p>
<h3>一、页面级优化</h3>
<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/08/31/前端开发优化总结/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/08/30/关于jquery-ready方法一些用法解释/">关于jQuery ready()方法一些用法解释</a></h1>
  

      <time datetime="2010-08-30T10:27:27.000Z"><a href="/2010/08/30/关于jquery-ready方法一些用法解释/">2010年8月30日</a></time>
    </header>
    <div class="entry">
      
        <p>jQuery的<strong>ready</strong>方法的是开发中经常用到的，作用相当于我们的body onload，是当页面DOM准备就绪的时候才运行的代码，最常用的就是在DOM渲染加载之前，先给document绑定ready事件，然后当页面DOM都准备好之后才运行这个事件。<br>关于<strong>jQuery</strong>的ready有以下几种用法</p>
<h3>最常用也是最标准的ready方法</h3>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>$(document).ready(){
});
</pre></td></tr></table></figure>

<h3>简写的jQuery ready()</h3>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>$(<span class="keyword">function</span>(){
});
</pre></td></tr></table></figure>

<p>这是因为<strong>jQuery</strong>的选择器第一个参数假如为空，那么默认的是<strong>document</strong><br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/08/30/关于jquery-ready方法一些用法解释/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/08/29/使用js的image对象检测图片类型是否合法/">JS的Image对象可用于检测图片类型是否合法</a></h1>
  

      <time datetime="2010-08-29T15:42:35.000Z"><a href="/2010/08/29/使用js的image对象检测图片类型是否合法/">2010年8月29日</a></time>
    </header>
    <div class="entry">
      
        <p>项目中假如碰到了上传图片文件时，需要在后台加检测程序，判断图片类型是否合法，以防止一些非法的文件上传，如果对js的<strong>Image</strong>对象比较熟悉我们可以使用下面的方法在<strong>前端</strong>层次上检查下图片类型是否合法。</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre>
       <span class="keyword">var</span> img = <span class="keyword">new</span> Image();
        img.onload = <span class="keyword">function</span>(){
            alert(<span class="string">'load'</span>);
        };
        img.onerror = <span class="keyword">function</span>(){
            alert(<span class="string">'error'</span>);
        };
        img.src = <span class="string">'logo.png'</span>;
</pre></td></tr></table></figure>

<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/08/29/使用js的image对象检测图片类型是否合法/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/06/29/onbeforeunload与a标签在ie中的冲突/">onbeforeunload与a标签在IE中的冲突bug</a></h1>
  

      <time datetime="2010-06-29T08:07:46.000Z"><a href="/2010/06/29/onbeforeunload与a标签在ie中的冲突/">2010年6月29日</a></time>
    </header>
    <div class="entry">
      
        <p><strong>onbeforeunload </strong>是window的一个事件，目前Firefox，IE都支持，主要用来提示用户是否真的要离开该页面，通常在一些比较重要的数据提交之前，防止用户误操作导致数据丢失。典型的应用如gmail中，在写邮件的时候，如果刷新页面或者关闭页面，会出现提示。</p>
<p>但是在IE下点击一些<strong>a标签</strong>时，也会触发onbeforeunload事件。并且href中写<code>javascript:void(0)</code>也不行，而在Firefox中不会出现类似的情况。于是查资料对onbeforeunload事件重新认识了一下：</p>
<h3>a标签触发事件的顺序</h3>
<p><strong>onclick</strong>、onbeforeunload跟href三者之间的先后运行关系是这样的：onclick &gt; onbeforeunload &gt; href，知道了这个道理，我们就可以通过一些方法阻止onbeforeunload。另外在IE浏览器中，假如href为#，那么也不会触发onbeforeunload事件。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/06/29/onbeforeunload与a标签在ie中的冲突/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/06/21/解决ie6背景图片不缓存的bug/">解决IE6背景图片不缓存的BUG</a></h1>
  

      <time datetime="2010-06-20T21:34:13.000Z"><a href="/2010/06/21/解决ie6背景图片不缓存的bug/">2010年6月21日</a></time>
    </header>
    <div class="entry">
      
        <p><strong>IE6</strong>在背景图片缓存上有一个<strong>bug</strong>：它会每次都从服务器端读取背景图片。例如我们使用a:hover更换背景图片，在IE6下会出现每次鼠标滑过则重新向服务器请求图片，如果服务器反应较慢，那么hover效果就会出现短暂的空白，令人极度不爽。虽然可以通过<strong>CSS sprites</strong>的方式解决问题的，但效果差强人意。</p>
<p>示例：<br><code>a{ background:url(normal.gif); } a:hover { background:url(hover.gif); }</code><br>如果为超级链接定义上述的css样式以实现鼠标悬浮时的动态效果，在firefox下是没有什么问题的，第一次加载之后，浏览器都会从缓存读取背景图片.</p>
<h3>解决方法</h3>
<p>具体的<strong>解决方法</strong>就是在页面中加入一段简单的javascript脚本，告诉IE6：本地有背景图片的话就不要麻烦服务器了。 <code>document.execCommand(&quot;BackgroundImageCache&quot;,false,true);</code></p>
<p>关于这段脚本的放置方式有两种：</p>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/06/21/解决ie6背景图片不缓存的bug/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/06/19/前端开发常见图片格式详解/">前端开发常见图片格式详解</a></h1>
  

      <time datetime="2010-06-18T19:26:26.000Z"><a href="/2010/06/19/前端开发常见图片格式详解/">2010年6月19日</a></time>
    </header>
    <div class="entry">
      
        <p>前端开发设计，打交道最多的就是图片啦~今天就来个图片格式讲解，也许一些围绕你的问题可以在这篇文章中找到答案</p>
<h3>Gif格式图片的特点</h3>
<p><strong>透明性</strong></p>
<p>Gif是一种布尔透明类型，既它可以是全透明，也可以是全不透明，但是它并没有半透明（alpha 透明）。</p>
<p><strong>动画</strong></p>
<p>Gif这种格式支持动画。</p>
<p><strong>无损耗性</strong></p>
<p>Gif是一种无损耗的图像格式，这也意味着你可以对gif图片做任何操作也不会使  得图像质量产生损耗。</p>
<p><strong>水平扫描</strong></p>
<p>Gif是使用了一种叫作LZW的算法进行压缩的，当压缩gif的过程中，像素是由上到下水平压缩的，这也意味着同等条件下，横向的gif图片比竖向的gif图片更加小。例如500<em>10的图片比10</em>500的图片更加小</p>
<p><strong>间隔渐进显示</strong></p>
<p>Gif支持可选择性的间隔渐进显示</p>
<p>由以上特点看出只有256种颜色的gif图片不适合照片，但它适合对颜色要求不高的图形（比如说图标，图表等），它并不是最优的选择，我们会在后面中看到png是最优的选择。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/06/19/前端开发常见图片格式详解/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/06/18/imgscriptlink等标签为空可导致页面多余请求/">Img,Script,Link等标签为空可导致页面多余请求</a></h1>
  

      <time datetime="2010-06-17T17:13:22.000Z"><a href="/2010/06/18/imgscriptlink等标签为空可导致页面多余请求/">2010年6月18日</a></time>
    </header>
    <div class="entry">
      
        <p>把页面中的<strong>img，script，link</strong>等标签为<strong>空链</strong>可以导致页面多余请求的问题，包括IE，Firefox，chrome，Safari！但是相对于img，script跟link的src、href为空时，在IE下不做请求，而Chrome, Safari, 和 Firefox则会出现一次多余的新请求。下面详细讲解一下：</p>
<h3>img src为空的情况分析</h3>
<p>无论是在html中写入<code>&amp;lt;img src=&#39;&#39; /&amp;gt;</code>还是在js中通过Image对象建立<code>var img = new Image(); img.src = &quot;&quot;;</code>，都会导致向你的服务器多做一次请求。而具体请求的情况分析如下：</p>
<ol>
<li>在IE中，这样做会请求一次当前页面所在的目录。如在<a href="http://js8.in/demo/a.html">http://js8.in/demo/a.html</a> 中出现这种空src的标签，会导致重新请求一次:<a href="http://js8.in/demo/">http://js8.in/demo/</a></li>
<li>在Safari 和 Chrome中，将请求当前页面本身。</li>
<li>在Firefox 3.5以前的版本中，有和Safari同样的问题，但是在3.5中修正了这个BUG。</li>
<li>在Opera 中，不会做额外的请求。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/06/18/imgscriptlink等标签为空可导致页面多余请求/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/06/17/解决ie6-select-z-index无效，遮挡div的bug/">解决IE6 select z-index无效，遮挡div的bug</a></h1>
  

      <time datetime="2010-06-17T09:33:03.000Z"><a href="/2010/06/17/解决ie6-select-z-index无效，遮挡div的bug/">2010年6月17日</a></time>
    </header>
    <div class="entry">
      
        <p>在最近的一个项目中，遇到了<strong>IE6 select遮挡div</strong>的bug，为了解决这个bug我查了很多资料，试图找到一个最最有效的方法，很多人是通过<strong>iframe</strong>的方法来解决，其实我查了国外的很多资料也是通过iframe的方法来解决的。今天我说说iframe解决的一般方法，已经使用<strong>jQuery</strong>插件<strong>bgifram</strong>e解决IE6 select z-index无效，<strong>遮挡div</strong>的bug。</p>
<h3>解决方法之一：Iframe包裹select元素</h3>
<p>使用iframe包住select，这样iframe有z-index，只要在div上设置的z-index比iframe的高即可~这种方法有一定的局限性，不可能每个select都要加个iframe吧？所以<strong>不推荐</strong>！代码如下：</p>
<blockquote>
<figure class="highlight lang-html"><iframe"><figcaption><span>style="z-index:1;position: absolute; </span></figcaption><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="comment">&lt;!-- 用iframe 解决此bug --&gt;</span>     
&gt;             <span class="tag">&lt;<span class="title">select</span> <span class="attribute">name</span>=<span class="value">"country"</span>&gt;</span>                    
&gt;                  <span class="tag">&lt;<span class="title">option</span> <span class="attribute">value</span>=<span class="value">"1"</span>&gt;</span>china<span class="tag">&lt;/<span class="title">option</span>&gt;</span>     
&gt;                 <span class="tag">&lt;<span class="title">option</span> <span class="attribute">value</span>=<span class="value">"2"</span>&gt;</span>japanese<span class="tag">&lt;/<span class="title">option</span>&gt;</span>     
&gt;                 <span class="tag">&lt;<span class="title">option</span> <span class="attribute">value</span>=<span class="value">"1"</span>&gt;</span>U.S.A<span class="tag">&lt;/<span class="title">option</span>&gt;</span>     
&gt;              <span class="tag">&lt;/<span class="title">select</span>&gt;</span>     
&gt; <span class="tag">&lt;/<span class="title">iframe</span>&gt;</span>
</pre></td></tr></table></figure>

</blockquote>
<h3>解决方法之二：以Iframe作为div的子元素，覆盖select元素</h3>
<p>建立一个跟div同宽同高的iframe，并且z-index比div要低。这种方法<strong>推荐</strong>使用：<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/06/17/解决ie6-select-z-index无效，遮挡div的bug/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/05/24/jquery插件wbox-1-0正式发布/">jQuery弹出框插件wBox 1.0正式发布</a></h1>
  

      <time datetime="2010-05-24T11:19:11.000Z"><a href="/2010/05/24/jquery插件wbox-1-0正式发布/">2010年5月24日</a></time>
    </header>
    <div class="entry">
      
        <p>jQuery插件<strong>wBox </strong>1.0正式发布——经过一系列的wBox需求分析，进行了wBox的代码重构，去除了一些鸡肋的功能~根据公司项目的需要进行了功能的调整，并且在界面上进行了美化处理~</p>
<p><a href="/uploads/2010/05/Snap2.jpg"><img src="/uploads/2010/05/Snap2.jpg" alt="wBox截图" title="wBox截图"></a></p>
<p><a href="http://js8.in/wbox/">查看wBox代码实例</a><a href="http://code.google.com/p/jquery-wbox/downloads/list" target="_blank">wBox1.0下载</a></p>
<h3>wBox新功能及其变化</h3>
<ol>
<li>优化代码~</li>
<li>美化界面~</li>
<li>默认可拖动，drag为false关闭</li>
<li>新增<strong>wBox</strong>关闭方法：wBox.close()</li>
<li>新增wBox打开方法：wBox.showBox()</li>
<li>新增wBox定时关闭设置：通过参数timeout设置定时关闭时间</li>
<li>新增在不触发click事件的前提，显示wBox，$(s).wBox({show:true})</li>
<li>去除灯箱功能（准备做一个单独的jQuery灯箱插件）</li>
<li>去除设置窗口位置
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/05/24/jquery插件wbox-1-0正式发布/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/05/03/jquery插件wbox准备更新/">jQuery插件wBox准备更新</a></h1>
  

      <time datetime="2010-05-03T08:54:42.000Z"><a href="/2010/05/03/jquery插件wbox准备更新/">2010年5月3日</a></time>
    </header>
    <div class="entry">
      
        <p>随着断桥残雪写的jQuery插件wBox的用户越来越多，越来越多的人提出了wbox的需求，可是我最近比较忙，没有时间改写wBox，正好公司的一个新项目要采用wBox，提出了很多要求，我准备在接下来的一些时间中更新下wBox，并且解决IE6下的一些布局上的bug、添加一些新的功能，大家敬请期待吧~<br>嘻嘻~</p>
<p><a href="http://js8.in/wbox/" title="jQuery插件wbox首页">wBox粗糙的主页</a></p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/04/12/windows下安装基于apache的svn服务器/">windows下安装基于Apache的SVN服务器</a></h1>
  

      <time datetime="2010-04-11T22:10:51.000Z"><a href="/2010/04/12/windows下安装基于apache的svn服务器/">2010年4月12日</a></time>
    </header>
    <div class="entry">
      
        <p>新本本是win7的系统，安装了PHPnow+SVN，可是配置Apache把我好折腾一遍~反了好多好多的文章，最后终于搞定了~今天特地把windows7（XP）下安装SVN+Apache配置的经验进行分享~<br>首先安装Apache+subversion ，怎么安装，就不要问我啦~网上教程多的去，可以使用xampp，或者PHPnow等……</p>
<h3>1、httpd.conf的SVN安装配置</h3>
<p>PS：<del datetime="2010-04-12T06:35:33+00:00"><em>如果你先安装Apache，再安装Subversion，正常情况下下面的复制工作，Subversion安装程序已经帮你完成了，不过为了安全期间，大家还是按部就班的检查遍吧~</em></del></p>
<ul>
<li>在配置httpd.conf 之前我们需要把加载的模块复制到Apache的modules目录下：</li>
</ul>
<ol>
<li>进入Sibversion的安装目录（通常为c:\program files\Subversion），找到文件httpd/mod_dav_svn.so和mod_authz_svn.so，将它们拷贝到Apache的 modules目录中es）。</li>
<li>从Subversion的安装目录拷贝文件libdb43.dll（或者libdb44.dll，根据自己的版本决定）到Apache的modules目录。</li>
</ol>
<ul>
<li>编辑Apache的配置文件httpd.conf，找到以下内容：<blockquote>
<h1>LoadModule dav_fs_module modules/mod_dav_fs.so</h1>
<h1>LoadModule dav_module modules/mod_dav.so</h1>
<p>修改为：<br>LoadModule dav_fs_module modules/mod_dav_fs.so<br>LoadModule dav_module modules/mod_dav.so<br>即去掉前面的注释符号“#”，没有上面两句，请自行添加。并且在LoadModule 之后添加如下内容：<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/04/12/windows下安装基于apache的svn服务器/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/04/11/使用apache-htpasswd-exe来管理svn帐户/">使用Apache htpasswd.exe来管理SVN帐户</a></h1>
  

      <time datetime="2010-04-11T13:07:40.000Z"><a href="/2010/04/11/使用apache-htpasswd-exe来管理svn帐户/">2010年4月11日</a></time>
    </header>
    <div class="entry">
      
        <p>安装完SVN，需要配置到Apache，需要建立一个账户管理文件如：<strong>passwd</strong>，可是建立了passwd，需要添加SVN用户的时候，我们应该怎么操作呢？这时我们就要用到Apache下的DOS文件——<strong>htpasswd</strong>.exe啦！</p>
<h3>1、htpasswd基本语法</h3>
<p>htpasswd.exe在<strong>Apache</strong>文件夹下的bin中，htpasswd的基本<strong>语法</strong>是：</p>
<blockquote>
<p><strong>htpasswd [-cmdpsD] passwordfile username<br>htpasswd -b[cmdpsD] passwordfile username password</strong><br>如我们要在G盘创建一个passwd的文件，需要用到下面的<strong>命令</strong><br>htpasswd -c G:\passwd wyq<br>回车会出现提示，要你输入wyq的密码，输入两次后，就可以在G盘看到刚才我们创建的passwd文件了~其中密码是md5加密的~<br>如果我们不想输入密码，就可以直接使用下面的命令：<br>htpasswd -c G:\passwd wyq wyq<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/04/11/使用apache-htpasswd-exe来管理svn帐户/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/03/23/php获取来访者ip信息/">php获取来访者IP信息</a></h1>
  

      <time datetime="2010-03-22T21:25:34.000Z"><a href="/2010/03/23/php获取来访者ip信息/">2010年3月23日</a></time>
    </header>
    <div class="entry">
      
        <p>前几天幼学笔记写了一篇《<a href="http://www.oncoding.cn/2010/geo-location-frontend/" target="_blank">可以在前端实现的几个地理位置小功能</a>》里面提到了我使用的QQ ip接口，其实我们也可以在PHP端实现根据IP定位用户<strong>地理位置</strong>，方法就是根据纯真的IP库来获取IP地理信息。我一个<strong>Google map API</strong>逆经纬度查询结合IP数据库接口的demo<a href="http://js8.in/mywork/ipsearch/">[点击查看</a>]，其实使用的方法就是Ajax过去IP，通过QQ IP接口查询出来地理信息，然后调用Google map API逆经纬度查询经纬度信息，然后在Google地图上标注地理位置。</p>
<h3>1、PHP获取来访者IP函数getIP()</h3>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">getIP</span><span class="params">()</span>
{</span> 
        <span class="keyword">if</span>(getenv(<span class="string">"HTTP_CLIENT_IP"</span>) && strcasecmp(getenv(<span class="string">"HTTP_CLIENT_IP"</span>), <span class="string">"unknown"</span>)) 
                <span class="variable">$ip</span> = getenv(<span class="string">"HTTP_CLIENT_IP"</span>); 
        <span class="keyword">elseif</span>(getenv(<span class="string">"HTTP_X_FORWARDED_FOR"</span>) && strcasecmp(getenv(<span class="string">"HTTP_X_FORWARDED_FOR"</span>), <span class="string">"unknown"</span>)) 
                <span class="variable">$ip</span> = getenv(<span class="string">"HTTP_X_FORWARDED_FOR"</span>); 
        <span class="keyword">elseif</span> (getenv(<span class="string">"REMOTE_ADDR"</span>) && strcasecmp(getenv(<span class="string">"REMOTE_ADDR"</span>), <span class="string">"unknown"</span>)) 
                <span class="variable">$ip</span> = getenv(<span class="string">"REMOTE_ADDR"</span>); 
        <span class="keyword">elseif</span> (<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>]) && <span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>] && strcasecmp(<span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>], <span class="string">"unknown"</span>)) 
                <span class="variable">$ip</span> = <span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>]; 
        <span class="keyword">else</span> 
                <span class="variable">$ip</span> = <span class="string">"0.0.0.0"</span>; 
        <span class="keyword">return</span> <span class="variable">$ip</span>;
}```&lt;!--more--&gt;

<span class="comment">### 2、查询纯真IP库PHP类IpLocation</span>


```php
<span class="class"><span class="keyword">class</span> <span class="title">IpLocation</span> {</span>
    <span class="comment">/**
     * QQWry.Dat文件指针
     *
     *<span class="phpdoc"> @var</span> resource
     */</span>
    <span class="keyword">var</span> <span class="variable">$fp</span>;
    <span class="comment">/**
    * 第一条IP记录的偏移地址
     *
    *<span class="phpdoc"> @var</span> int
       */</span>
       <span class="keyword">var</span> <span class="variable">$firstip</span>;
         <span class="comment">/**
        * 最后一条IP记录的偏移地址
        *
        *<span class="phpdoc"> @var</span> int
        */</span>
       <span class="keyword">var</span> <span class="variable">$lastip</span>;
        <span class="comment">/**
        * IP记录的总条数（不包含版本信息记录）
        *
        *<span class="phpdoc"> @var</span> int
        */</span>
       <span class="keyword">var</span> <span class="variable">$totalip</span>;
         <span class="comment">/**
        * 返回读取的长整型数
        *
       *<span class="phpdoc"> @access</span> private
        *<span class="phpdoc"> @return</span> int
        */</span>
       <span class="function"><span class="keyword">function</span> <span class="title">getlong</span><span class="params">()</span> {</span>
           <span class="comment">//将读取的little-endian编码的4个字节转化为长整型数</span>
           <span class="variable">$result</span> = unpack(<span class="string">'Vlong'</span>, fread(<span class="variable">$this</span>-&gt;fp, <span class="number">4</span>));
           <span class="keyword">return</span> <span class="variable">$result</span>[<span class="string">'long'</span>];
       }
         <span class="comment">/**
        * 返回读取的3个字节的长整型数
        *
        *<span class="phpdoc"> @access</span> private
        *<span class="phpdoc"> @return</span> int
       */</span>
       <span class="function"><span class="keyword">function</span> <span class="title">getlong3</span><span class="params">()</span> {</span>
           <span class="comment">//将读取的little-endian编码的3个字节转化为长整型数</span>
           <span class="variable">$result</span> = unpack(<span class="string">'Vlong'</span>, fread(<span class="variable">$this</span>-&gt;fp, <span class="number">3</span>).chr(<span class="number">0</span>));
           <span class="keyword">return</span> <span class="variable">$result</span>[<span class="string">'long'</span>];
       }
    <span class="comment">/**
     * 返回压缩后可进行比较的IP地址
     *
       *<span class="phpdoc"> @access</span> private
        *<span class="phpdoc"> @param</span> string $ip
        *<span class="phpdoc"> @return</span> string
        */</span>
       <span class="function"><span class="keyword">function</span> <span class="title">packip</span><span class="params">(<span class="variable">$ip</span>)</span> {</span>
           <span class="comment">// 将IP地址转化为长整型数，如果在PHP5中，IP地址错误，则返回False，</span>
        <span class="comment">// 这时intval将Flase转化为整数-1，之后压缩成big-endian编码的字符串</span>
        <span class="keyword">return</span> pack(<span class="string">'N'</span>, intval(ip2long(<span class="variable">$ip</span>)));
    }
    <span class="comment">/**
     * 返回读取的字符串
        *
        *<span class="phpdoc"> @access</span> private
        *<span class="phpdoc"> @param</span> string $data
        *<span class="phpdoc"> @return</span> string
     */</span>
    <span class="function"><span class="keyword">function</span> <span class="title">getstring</span><span class="params">(<span class="variable">$data</span> = <span class="string">""</span>)</span> {</span>
        <span class="variable">$char</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);
        <span class="keyword">while</span> (ord(<span class="variable">$char</span>) &gt; <span class="number">0</span>) {        <span class="comment">// 字符串按照C格式保存，以\0结束</span>
            <span class="variable">$data</span> .= <span class="variable">$char</span>;             <span class="comment">// 将读取的字符连接到给定字符串之后</span>
            <span class="variable">$char</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);
        }
           <span class="keyword">return</span> <span class="variable">$data</span>;
       }
      <span class="comment">/**
     * 返回地区信息
     *
     *<span class="phpdoc"> @access</span> private
     *<span class="phpdoc"> @return</span> string
     */</span>
    <span class="function"><span class="keyword">function</span> <span class="title">getarea</span><span class="params">()</span> {</span>
        <span class="variable">$byte</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);    <span class="comment">// 标志字节</span>
           <span class="keyword">switch</span> (ord(<span class="variable">$byte</span>)) {
            <span class="keyword">case</span> <span class="number">0</span>:                     <span class="comment">// 没有区域信息</span>
                 <span class="variable">$area</span> = <span class="string">""</span>;
                 <span class="keyword">break</span>;
             <span class="keyword">case</span> <span class="number">1</span>:
             <span class="keyword">case</span> <span class="number">2</span>:                     <span class="comment">// 标志字节为1或2，表示区域信息被重定向</span>
                 fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;getlong3());
                 <span class="variable">$area</span> = <span class="variable">$this</span>-&gt;getstring();
                 <span class="keyword">break</span>;
             <span class="keyword">default</span>:                    <span class="comment">// 否则，表示区域信息没有被重定向</span>
                 <span class="variable">$area</span> = <span class="variable">$this</span>-&gt;getstring(<span class="variable">$byte</span>);
                <span class="keyword">break</span>;
        }
        <span class="keyword">return</span> <span class="variable">$area</span>;
    }
    <span class="comment">/**
     * 根据所给 IP 地址或域名返回所在地区信息
     *
     *<span class="phpdoc"> @access</span> public
     *<span class="phpdoc"> @param</span> string $ip
     *<span class="phpdoc"> @return</span> array
      */</span>
    <span class="function"><span class="keyword">function</span> <span class="title">getlocation</span><span class="params">(<span class="variable">$ip</span>)</span> {</span>
        <span class="keyword">if</span> (!<span class="variable">$this</span>-&gt;fp) <span class="keyword">return</span> <span class="keyword">null</span>;            <span class="comment">// 如果数据文件没有被正确打开，则直接返回空</span>
        <span class="variable">$location</span>[<span class="string">'ip'</span>] = gethostbyname(<span class="variable">$ip</span>);   <span class="comment">// 将输入的域名转化为IP地址</span>
        <span class="variable">$ip</span> = <span class="variable">$this</span>-&gt;packip(<span class="variable">$location</span>[<span class="string">'ip'</span>]);   <span class="comment">// 将输入的IP地址转化为可比较的IP地址</span>
                                               <span class="comment">// 不合法的IP地址会被转化为255</span>
        <span class="comment">// 对分搜索</span>
        <span class="variable">$l</span> = <span class="number">0</span>;                         <span class="comment">// 搜索的下边界</span>
        <span class="variable">$u</span> = <span class="variable">$this</span>-&gt;totalip;            <span class="comment">// 搜索的上边界</span>
        <span class="variable">$findip</span> = <span class="variable">$this</span>-&gt;lastip;        <span class="comment">// 如果没有找到就返回最后一条IP记录（QQWry.Dat的版本信息）</span>
         <span class="keyword">while</span> (<span class="variable">$l</span> &lt;= <span class="variable">$u</span>) {              <span class="comment">// 当上边界小于下边界时，查找失败</span>
             <span class="variable">$i</span> = floor((<span class="variable">$l</span> + <span class="variable">$u</span>) / <span class="number">2</span>);  <span class="comment">// 计算近似中间记录</span>
            fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;firstip + <span class="variable">$i</span> * <span class="number">7</span>);
            <span class="variable">$beginip</span> = strrev(fread(<span class="variable">$this</span>-&gt;fp, <span class="number">4</span>));     <span class="comment">// 获取中间记录的开始IP地址</span>
            <span class="comment">// strrev函数在这里的作用是将little-endian的压缩IP地址转化为big-endian的格式</span>
            <span class="comment">// 以便用于比较，后面相同。</span>
            <span class="keyword">if</span> (<span class="variable">$ip</span> &lt; <span class="variable">$beginip</span>) {       <span class="comment">// 用户的IP小于中间记录的开始IP地址时</span>
                <span class="variable">$u</span> = <span class="variable">$i</span> - <span class="number">1</span>;            <span class="comment">// 将搜索的上边界修改为中间记录减一</span>
            }
            <span class="keyword">else</span> {
                 fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;getlong3());
                 <span class="variable">$endip</span> = strrev(fread(<span class="variable">$this</span>-&gt;fp, <span class="number">4</span>));   <span class="comment">// 获取中间记录的结束IP地址</span>
                 <span class="keyword">if</span> (<span class="variable">$ip</span> &gt; <span class="variable">$endip</span>) {     <span class="comment">// 用户的IP大于中间记录的结束IP地址时</span>
                    <span class="variable">$l</span> = <span class="variable">$i</span> + <span class="number">1</span>;        <span class="comment">// 将搜索的下边界修改为中间记录加一</span>
                }
                <span class="keyword">else</span> {                  <span class="comment">// 用户的IP在中间记录的IP范围内时</span>
                    <span class="variable">$findip</span> = <span class="variable">$this</span>-&gt;firstip + <span class="variable">$i</span> * <span class="number">7</span>;
                    <span class="keyword">break</span>;              <span class="comment">// 则表示找到结果，退出循环</span>
                }
            }
         }
         <span class="comment">//获取查找到的IP地理位置信息</span>
         fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$findip</span>);
         <span class="variable">$location</span>[<span class="string">'beginip'</span>] = long2ip(<span class="variable">$this</span>-&gt;getlong());   <span class="comment">// 用户IP所在范围的开始地址</span>
        <span class="variable">$offset</span> = <span class="variable">$this</span>-&gt;getlong3();
        fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$offset</span>);
        <span class="variable">$location</span>[<span class="string">'endip'</span>] = long2ip(<span class="variable">$this</span>-&gt;getlong());     <span class="comment">// 用户IP所在范围的结束地址</span>
        <span class="variable">$byte</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);    <span class="comment">// 标志字节</span>
        <span class="keyword">switch</span> (ord(<span class="variable">$byte</span>)) {
             <span class="keyword">case</span> <span class="number">1</span>:                     <span class="comment">// 标志字节为1，表示国家和区域信息都被同时重定向</span>
                 <span class="variable">$countryOffset</span> = <span class="variable">$this</span>-&gt;getlong3();         <span class="comment">// 重定向地址</span>
                 fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$countryOffset</span>);
                 <span class="variable">$byte</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);    <span class="comment">// 标志字节</span>
                 <span class="keyword">switch</span> (ord(<span class="variable">$byte</span>)) {
                    <span class="keyword">case</span> <span class="number">2</span>:             <span class="comment">// 标志字节为2，表示国家信息又被重定向</span>
                        fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;getlong3());
                        <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="variable">$this</span>-&gt;getstring();
                        fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$countryOffset</span> + <span class="number">4</span>);
                        <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="variable">$this</span>-&gt;getarea();
                         <span class="keyword">break</span>;
                     <span class="keyword">default</span>:            <span class="comment">// 否则，表示国家信息没有被重定向</span>
                         <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="variable">$this</span>-&gt;getstring(<span class="variable">$byte</span>);
                         <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="variable">$this</span>-&gt;getarea();
                         <span class="keyword">break</span>;
                 }
                <span class="keyword">break</span>;
            <span class="keyword">case</span> <span class="number">2</span>:                     <span class="comment">// 标志字节为2，表示国家信息被重定向</span>
                fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;getlong3());
                <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="variable">$this</span>-&gt;getstring();
                 fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$offset</span> + <span class="number">8</span>);
                 <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="variable">$this</span>-&gt;getarea();
                 <span class="keyword">break</span>;
             <span class="keyword">default</span>:                    <span class="comment">// 否则，表示国家信息没有被重定向</span>
                 <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="variable">$this</span>-&gt;getstring(<span class="variable">$byte</span>);
                 <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="variable">$this</span>-&gt;getarea();
                 <span class="keyword">break</span>;
        }
        <span class="keyword">if</span> (<span class="variable">$location</span>[<span class="string">'country'</span>] == <span class="string">" CZNET"</span>) {  <span class="comment">// CZNET表示没有有效信息</span>
            <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="string">"未知"</span>;
         }
         <span class="keyword">if</span> (<span class="variable">$location</span>[<span class="string">'area'</span>] == <span class="string">" CZNET"</span>) {
             <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="string">""</span>;
         }
         <span class="keyword">return</span> <span class="variable">$location</span>;
     }
     <span class="comment">/**
     * 构造函数，打开 QQWry.Dat 文件并初始化类中的信息
     *
       *<span class="phpdoc"> @param</span> string $filename
       *<span class="phpdoc"> @return</span> IpLocation
       */</span>
      <span class="function"><span class="keyword">function</span> <span class="title">IpLocation</span><span class="params">(<span class="variable">$filename</span> = <span class="string">"QQWry.Dat"</span>)</span> {</span>
          <span class="variable">$this</span>-&gt;fp = <span class="number">0</span>;
          <span class="keyword">if</span> ((<span class="variable">$this</span>-&gt;fp = @fopen(<span class="variable">$filename</span>, <span class="string">'rb'</span>)) !== <span class="keyword">false</span>) {
              <span class="variable">$this</span>-&gt;firstip = <span class="variable">$this</span>-&gt;getlong();
              <span class="variable">$this</span>-&gt;lastip = <span class="variable">$this</span>-&gt;getlong();
              <span class="variable">$this</span>-&gt;totalip = (<span class="variable">$this</span>-&gt;lastip - <span class="variable">$this</span>-&gt;firstip) / <span class="number">7</span>;
           <span class="comment">//注册析构函数，使其在程序执行结束时执行</span>
           register_shutdown_function(<span class="keyword">array</span>(&<span class="variable">$this</span>, <span class="string">'_IpLocation'</span>));
       }
   }
   <span class="comment">/**
    * 析构函数，用于在页面执行结束后自动关闭打开的文件。
    *
    */</span>
   <span class="function"><span class="keyword">function</span> <span class="title">_IpLocation</span><span class="params">()</span> {</span>
       <span class="keyword">if</span> (<span class="variable">$this</span>-&gt;fp) {
              fclose(<span class="variable">$this</span>-&gt;fp);
        }
        <span class="variable">$this</span>-&gt;fp = <span class="number">0</span>;
   }
}
</pre></td></tr></table></figure>

<h3>3、使用方法</h3>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="variable">$ip</span>=getIP();
<span class="variable">$iplocation</span> = <span class="keyword">new</span> IpLocation();
<span class="variable">$location</span> = <span class="variable">$iplocation</span>-&gt;getlocation(<span class="variable">$ip</span>);
<span class="comment">//转码为UTF-8</span>
<span class="variable">$address</span>=mb_convert_encoding(<span class="variable">$location</span>[<span class="string">'country'</span>].<span class="variable">$location</span>[<span class="string">'area'</span>], <span class="string">"UTF-8"</span>, <span class="string">"GBK"</span>);
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/03/08/ie中image-onload失效的问题/">IE中Image.onload失效的问题</a></h1>
  

      <time datetime="2010-03-08T08:43:02.000Z"><a href="/2010/03/08/ie中image-onload失效的问题/">2010年3月8日</a></time>
    </header>
    <div class="entry">
      
        <p>最近在做wBox开发中，需要做一个图片的幻灯片效果，为了方便加载速度，我使用了<strong>new Iamge</strong>的对象方法来<strong>预加载图片</strong>，当图片onLoad就运行一个函数来计算图片的大小尺寸，进行<a href="http://js8.in/451.html" title="jQuery easing动画效果扩展">jQuery动画</a>，以及切换图片src，在firefox下开发完成后，可是到了IE下进行调试总是不会触发<strong>onload</strong>事件，不管是IE8、IE7还是万恶的IE6，都不会触发onload事件，我很迷惑，后来在google上找到了<strong>解决</strong>的方法：一下为引用部分</p>
<p>最初的代码如下：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="keyword">var</span> img = <span class="keyword">new</span> Image;
img.src = <span class="string">"test.gif"</span>;
img.onload = <span class="keyword">function</span>(){
    alert ( img.width );
};
</pre></td></tr></table></figure>

<p>这段代码看着没什么问题，但是为什么onload没有被IE调用呢？因为IE会缓存图片，第2次加载的图片，不是从服务器上传过来的，而是从缓冲区里加载的。是不是从缓冲区里加载的图片就不触发onload事件呢？我于是我测试了以下代码，成功了～</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="keyword">var</span> img = <span class="keyword">new</span> Image;
img.onload = <span class="keyword">function</span>(){
    alert ( img.width );
};
img.src = <span class="string">"test.gif"</span>;
</pre></td></tr></table></figure>

<p>我把onload写到前面去，先告诉浏览器如何处理这张图片，再指定这张图片的源，这样就正常了。所以，不是IE没有触发onload事件，而是因为加载缓冲区的速度太快，以至于没有运行到img.onload的时候，onload事件已经触发了。这让我想到了Ajax，我们在写xmlhttp的时候，都是先指定onstatechange的回调函数，然后再send数据的，道理是一样的。</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/02/21/使用css设置文字反选的背景颜色/">使用CSS设置文字反选的背景颜色</a></h1>
  

      <time datetime="2010-02-21T11:51:39.000Z"><a href="/2010/02/21/使用css设置文字反选的背景颜色/">2010年2月21日</a></time>
    </header>
    <div class="entry">
      
        <p>在计算机操作中经常会有<strong>反选</strong>出现，系统一般会根据选择区域的颜色，显示出补色。但windows默认的文字选择时，背景为蓝色，前景色为白色，如果背景是深色，则文字为蓝色，<strong>背景</strong>变成白色。如下图所示：</p>
<p><a href="/uploads/2010/02/b201022115279.gif"><img src="/uploads/2010/02/b201022115279.gif" alt="反选默认样式" title="反选默认样式"></a></p>
<p>能不能改变选择的默认颜色呢，也许很多人对这个问题不是很在意，也可能你早就见到过这个效果了，但是却忽略了。<a href="http://www.quirksmode.org/css/selection.html" target="_blank">查看示例</a>(<span style="color: #00ccff;">请在非IE浏览器下查看</span>)</p>
<p>从博客里可以看到PPK给出了如下的CSS代码：</p>
<blockquote>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="code"><pre><span class="pseudo">::-moz-selection</span><span class="rules">{    <span class="comment">/*针对Firefox*/</span>
<span class="rule">&gt;     <span class="attribute">background</span>:<span class="value"><span class="hexcolor">#cc0000</span>;</span></span>
<span class="rule">&gt;     <span class="attribute">color</span>:<span class="value"><span class="hexcolor">#fff</span>;</span></span>
<span class="rule">&gt; }</span></span>
&gt; 
&gt; <span class="pseudo">::selection</span> <span class="rules">{
<span class="rule">&gt;     <span class="attribute">background</span>:<span class="value"><span class="hexcolor">#cc0000</span>;</span></span>
<span class="rule">&gt;     <span class="attribute">color</span>:<span class="value"><span class="hexcolor">#fff</span>;</span></span>
<span class="rule">&gt; }</span></span>
&gt; 
&gt; <span class="tag">code</span><span class="pseudo">::-moz-selection</span> <span class="rules">{  <span class="comment">/*code是标签选择器，可以换成p或span等*/</span>
<span class="rule">&gt;     <span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#333333</span>;</span></span>
<span class="rule">&gt; }</span></span>
&gt; 
&gt; <span class="tag">code</span><span class="pseudo">::selection</span> <span class="rules">{
<span class="rule">&gt;     <span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#333333</span>;</span></span>
<span class="rule">&gt; }</span></span>
</pre></td></tr></table></figure>

</blockquote>
<p>通过以上代码可以看出，你完全可以给不同的容器定义不同的反选背景颜色，</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/02/09/javascript事件触发列表与详解/">Javascript事件触发列表与详解</a></h1>
  

      <time datetime="2010-02-09T09:06:53.000Z"><a href="/2010/02/09/javascript事件触发列表与详解/">2010年2月9日</a></time>
    </header>
    <div class="entry">
      
        <p>今天在司徒正美（<a href="http://www.cnblogs.com/rubylouvre/archive/2010/02/09/1632990.html" target="_blank">原文</a>）的博客上看见一个关于javascript事件触发列表的文章，感觉不错，拿来给大家分享一下，本文中涉及到了很多javascript的事件，有不同浏览器差异的事件，大家必要的时候可以做以下参考<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/02/09/javascript事件触发列表与详解/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/02/08/cssjquery实现滑动幻灯片实例详解/">CSS+jQuery实现滑动幻灯片实例详解</a></h1>
  

      <time datetime="2010-02-08T10:18:01.000Z"><a href="/2010/02/08/cssjquery实现滑动幻灯片实例详解/">2010年2月8日</a></time>
    </header>
    <div class="entry">
      
        <p>今天我看见一个比较不错的<strong>jQuery幻灯片</strong>教程，比我之前的文章《<a href="http://js8.in/462.html" title="两个简单的jQuery幻灯片实例">两个简单的jQuery幻灯片实例</a>》写的更为详细，并且有框架布局的演示图片，特地转载来，部分英文不翻译了，很简单的~</p>
<h3>HTML部分代码</h3>
<p>Start with having a wrapping container div called <em>main_view</em>, and two sections nested inside called <em>image_reel</em> and <em>paging.</em> The <em>image_reel _will contain the sliding images, and _paging</em> contains the paging controls. Take a look at the image below for a visual.</p>
<blockquote>
<figure class="highlight lang-html"><div"><figcaption><span>class="main_view</span></figcaption><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre>
&gt;     <span class="xml"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"window"</span>&gt;</span>
&gt;         <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"image_reel"</span>&gt;</span>
&gt;             [![](reel_1.jpg)](#)
&gt;             [![](reel_2.jpg)](#)
&gt;             [![](reel_3.jpg)](#)
&gt;             [![](reel_4.jpg)](#)
&gt;         <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
&gt;     <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
&gt;     <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"paging"</span>&gt;</span>
&gt;         [1](#)
&gt;         [2](#)
&gt;         [3](#)
&gt;         [4](#)
&gt;     <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
&gt; <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span>
</pre></td></tr></table></figure>

</blockquote>
<p><a href="http://js8.in/mywork/jq_slider/"><img src="/uploads/2010/02/1.jpg" alt="css+jQuery实现滑动幻灯片实例教程" title="css+jQuery实现滑动幻灯片实例教程"></a><br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/02/08/cssjquery实现滑动幻灯片实例详解/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/02/07/less—让css如此简单/">Less—让CSS如此简单</a></h1>
  

      <time datetime="2010-02-07T09:47:27.000Z"><a href="/2010/02/07/less—让css如此简单/">2010年2月7日</a></time>
    </header>
    <div class="entry">
      
        <p><a href="/uploads/2010/02/less.png"><img src="/uploads/2010/02/less.png" alt="less" title="less"></a></p>
<p>写<strong>CSS</strong> 最痛苦的是要搞定一堆<strong>浏览器兼容</strong>bug ，其次就是要面对CSS 不是programming language 这现实，不存在其他程式语言常见的变数、运算、继承等概念，使原本简单的工作变得冗长，并且使维护工作变得麻烦。<br><strong>less</strong> 的出现便是为了解决这个问题：在现有CSS syntax 的基础上，为CSS 加入程式语言的特性，包括变数、scope、nested rules、运算、继承。<br>看例子你便会明白：</p>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre>@brand_color: #F0F;

#container {
div {
color: @brand_color;
border: none; }
p {
color: @brand_color;
}
}
</pre></td></tr></table></figure>

<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/02/07/less—让css如此简单/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/02/04/javascript正则表达式详解/">Javascript正则表达式详解</a></h1>
  

      <time datetime="2010-02-03T17:57:08.000Z"><a href="/2010/02/04/javascript正则表达式详解/">2010年2月4日</a></time>
    </header>
    <div class="entry">
      
        <p><strong>js正则表达式</strong>是很多js开发人员比较头疼的事情，也很多人不愿意学习，只是必要的时候上网查一下就可以啦~本文中详细的把javascript正则表达式的用法进行了列表，希望对于大家学习<strong>javascript正则</strong>表达式有一定的帮助。</p>
<p><strong>建立正则表达式对象语法
</strong>re = new <span style="color: #008080; padding: 0px; margin: 0px;">RegExp</span>(/pattern/[flags])</p>
<p><strong>flags 参数说明：
</strong><span style="color: #ff6600; padding: 0px; margin: 0px;">g</span> （全文查找出现的所有 <em>pattern</em>）<br><span style="color: #ff6600; padding: 0px; margin: 0px;">i</span> （忽略大小写）<br><span style="color: #ff6600; padding: 0px; margin: 0px;">m</span> （多行查找）</p>
<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/02/04/javascript正则表达式详解/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/01/29/javascript设置光标位置到结尾并显示出来/">Javascript设置光标位置到结尾并显示出来</a></h1>
  

      <time datetime="2010-01-29T12:58:13.000Z"><a href="/2010/01/29/javascript设置光标位置到结尾并显示出来/">2010年1月29日</a></time>
    </header>
    <div class="entry">
      
        <p>今天同事问一个关于<strong>光标</strong>移动到输入框最后的问题，问题得到了解决（详情请见《<a href="https://developer.mozilla.org/en/DOM/event.initKeyEvent" title="Javascript获取光标位置以及设置光标位置" target="_blank">Javascript获取光标位置以及设置光标位置</a>》），并且兼容IE、Firefox、Opera，可是又有了新问题：假如输入的内容过多，而<strong>Input</strong>已经不能显示最后部分的内容，光标即使移动到了最后，也是不能显示出来的。他要的效果是，类似于输入那种效果，当输入文字之后，内容往左走，这样光标就一直在最后显示，而不会出现光标虽然出现在输入框最后可是不能显示出来的现象。</p>
<h3>原理</h3>
<p>在Firefox我想的方法是模拟一次<strong>键盘事件</strong>：<br>如先建立<strong>document.createEvent(“KeyboardEvent”)</strong>，然后光标移动到输入框最后，然后输入一个空格，在删除空格，这样子光标就会有在输入框最后不出现变为出现了~详细方法请见：<a href="https://developer.mozilla.org/en/DOM/event.initKeyEvent" target="_blank">Mozilla Developer Center</a></p>
<h3>JS代码</h3>
<p>函数setCaretPosition代码如下：<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/01/29/javascript设置光标位置到结尾并显示出来/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/01/29/javascript获取光标位置以及设置光标位置/">javascript获取光标位置以及设置光标位置</a></h1>
  

      <time datetime="2010-01-29T11:31:54.000Z"><a href="/2010/01/29/javascript获取光标位置以及设置光标位置/">2010年1月29日</a></time>
    </header>
    <div class="entry">
      
        <p>在项目开发中经常遇到<strong>input</strong>等设置光标位置到最后的问题，今天我查了一下Google，找到了在<strong>IE</strong>、<strong>Firefox</strong>、<strong>Opera</strong>等主流浏览器的获取光标位置（getCursortPosition）以及设置<strong>光标位置</strong>（setCursorPosition）的函数。</p>
<blockquote>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">getCursortPosition</span> <span class="params">(ctrl)</span> {</span><span class="comment">//获取光标位置函数</span>
&gt; 	<span class="keyword">var</span> CaretPos = <span class="number">0</span>;	<span class="comment">// IE Support</span>
&gt; 	<span class="keyword">if</span> (document.selection) {
&gt; 	ctrl.focus ();
&gt; 		<span class="keyword">var</span> Sel = document.selection.createRange ();
&gt; 		Sel.moveStart (<span class="string">'character'</span>, -ctrl.value.length);
&gt; 		CaretPos = Sel.text.length;
&gt; 	}
&gt; 	<span class="comment">// Firefox support</span>
&gt; 	<span class="keyword">else</span> <span class="keyword">if</span> (ctrl.selectionStart || ctrl.selectionStart == <span class="string">'0'</span>)
&gt; 		CaretPos = ctrl.selectionStart;
&gt; 	<span class="keyword">return</span> (CaretPos);
&gt; }
</pre></td></tr></table></figure>

</blockquote>
<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/01/29/javascript获取光标位置以及设置光标位置/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/01/26/使用hash来实现ajax前进后退/">使用hash来实现Ajax前进后退</a></h1>
  

      <time datetime="2010-01-26T08:22:12.000Z"><a href="/2010/01/26/使用hash来实现ajax前进后退/">2010年1月26日</a></time>
    </header>
    <div class="entry">
      
        <p>Ajax应用中容易导致浏览器的<strong>前进后退</strong>按钮失效，不产生前进后退功能，在本文中断桥残雪就通过改变<strong>location.hash</strong>值来解决Ajax过程中导致的浏览器前进后退按键失效的问题，此方法兼容IE6+，Firefox，chrome，Safari，Opera等浏览器。</p>
<p>在去年断桥残雪已经写了一篇<a href="http://js8.in/311.html" title="关于Ajax在浏览器中产生前进后退的实现方法">使用iframe来解决Ajax前进后退</a>的方法，也提到了通过改变hash的方法来解决这个问题，这也是比较方便的方法，而使用iframe实现Ajax前进后退可以在不改变浏览器地址栏地址的前提下通过iframe地址的变化来“欺骗”浏览器产生前进后退，hash的方法则是直接改变浏览器地址栏地址，从而使浏览器产生前进后退。</p>
<h3>hash导致浏览器产生前进后退原理</h3>
<p>浏览器URL的hash值，指的是URL地址之后的<strong>#hash</strong>部分，我们可以通过JavaScript的location对象的<strong>location.hash</strong>方法来获得或者改变，但是IE中，不能设置，好像是IE中只能通过连接来实现hash的改变，不过我们可以通过jQuery插件hashchange中的$.locationHash函数来解决这个问题。</p>
<p>比如一个页面的地址是：<a href="http://js8.in/#top，那么这个页面的location.hash=&quot;#top&quot;，如果要改变这个地址的hash，可以给location.hash赋值，如：location.hash=&quot;#home&quot;，在IE下可以使用hashchange函数中$.locationHash(hash)给hash赋值。在日常我们常见的使用hash应用中，hash值使用最多的方式是">http://js8.in/#top，那么这个页面的location.hash=&quot;#top&quot;，如果要改变这个地址的hash，可以给location.hash赋值，如：location.hash=&quot;#home&quot;，在IE下可以使用hashchange函数中$.locationHash(hash)给hash赋值。在日常我们常见的使用hash应用中，hash值使用最多的方式是</a> “<strong>返回顶部</strong>” 功能。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/01/26/使用hash来实现ajax前进后退/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/01/25/使用javascript在ie和firefox下进行iframe的dom操作/">使用JavaScript在IE和Firefox下进行iframe的DOM操作</a></h1>
  

      <time datetime="2010-01-25T12:59:38.000Z"><a href="/2010/01/25/使用javascript在ie和firefox下进行iframe的dom操作/">2010年1月25日</a></time>
    </header>
    <div class="entry">
      
        <p>昨天一个新来的同事关于<strong>iframe</strong>中进行<strong>DOM操作</strong>的问题，我说只要是不存在跨域的问题，是可以进行iframe 之间的DOM操作的。并且拿了以前写的两篇文章给新同事进行参考——《<a href="http://js8.in/443.html" title="用document.domain+iframe实现Ajax跨子域">用document.domain+iframe实现Ajax跨子域</a>》、《<a href="http://js8.in/311.html" title="于Ajax在浏览器中产生前进后退的实现方法">于Ajax在浏览器中产生前进后退的实现方法</a>》。其中关于使用iframe进行跨域的<a href="http://js8.in/mywork/crossdomain/index.html" title="iframe跨域演示实例">demo</a>，由于更换了新域名<strong>js8.in</strong>，导致了<a href="http://js8.in/mywork/crossdomain/index.html">demo</a>不能使用了，昨天紧急修改了一下，总算是可以使用啦~窃喜~</p>
<p>今天就写个完整的使用<strong>JavaScript</strong>进行iframe DOM操作的文章啦~跟大家讨论下IE和Firefox下<strong>iframe DOM操作</strong>的差异，然后写一个父窗口操作子窗口DOM，子窗口操作父窗口DOM，子窗口操作子窗口DOM的实例。经测试，断桥残雪写的iframe DOM操作实例，不仅仅只是在IE和Firefox下使用正常，而是可以<strong>兼容所有浏览器的</strong>。本文只是借IE和Firefox在iframe DOM操作的不同，进行分析说明JavaScript在DOM操作中两者的不同。</p>
<h3>IE和Firefox对iframe document对象的差异性</h3>
<p>在IE6、IE7中，我们可以使用 <strong>document.frames[ID].document</strong> 来访问iframe子窗口中的<strong>document对象</strong>，可是这是不符合W3C标准的写法，也是IE下独有的方法，在Firefox下却不可以使用，Firefox下使用的是符合W3C标准的 <strong>document.getElementById(ID).contentDocument </strong>方法，今天我在写实例的时候，通过IE8进行测试，IE8也是使用的符合W3C标准的 document.getElementById(ID).contentDocument 方法。所以我们可以写一个在IE和Firefox下通用的获取iframe document对象的函数—getIFrameDOM：</p>
<blockquote>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">getIFrameDOM</span><span class="params">(id)</span>{</span>
&gt; 	<span class="keyword">return</span> document.getElementById(id).contentDocument || document.frames[id].document;
&gt; }
</pre></td></tr></table></figure>

</blockquote>
<p><em>P.S.</em>:如果我们要获取iframe的<strong>window对象</strong>，而不是document对象，可以使用document.getElementById(ID).contentWindow的方法。这样我们就可以使用子窗口中的window对象了，比如子窗口中的函数。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/01/25/使用javascript在ie和firefox下进行iframe的dom操作/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/01/19/21个常用的-php-代码汇总/">21个常用的 PHP 代码汇总</a></h1>
  

      <time datetime="2010-01-19T11:50:08.000Z"><a href="/2010/01/19/21个常用的-php-代码汇总/">2010年1月19日</a></time>
    </header>
    <div class="entry">
      
        <p><strong>PHP</strong> 是目前使用最广泛的基于 Web 的编程语言，驱动着数以百万计的网站，其中也包括如 Facebook 等一些大型站点。这里收集了 21个日常开发中实用便捷的 PHP 代码，希望可以对一些 PHP 开发者都会有所帮助。</p>
<h3>1. 可阅读随机字符串</h3>
<p>此代码将创建一个可阅读的字符串，使其更接近词典中的单词，实用且具有密码验证功能。</p>
<blockquote>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre>
&gt; <span class="comment">/**************
&gt; *@length - length of random string (must be a multiple of 2)
&gt; **************/</span>
&gt; <span class="function"><span class="keyword">function</span> <span class="title">readable_random_string</span><span class="params">(<span class="variable">$length</span> = <span class="number">6</span>)</span>{</span>
&gt;     <span class="variable">$conso</span>=<span class="keyword">array</span>(<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>,<span class="string">"f"</span>,<span class="string">"g"</span>,<span class="string">"h"</span>,<span class="string">"j"</span>,<span class="string">"k"</span>,<span class="string">"l"</span>,
&gt;     <span class="string">"m"</span>,<span class="string">"n"</span>,<span class="string">"p"</span>,<span class="string">"r"</span>,<span class="string">"s"</span>,<span class="string">"t"</span>,<span class="string">"v"</span>,<span class="string">"w"</span>,<span class="string">"x"</span>,<span class="string">"y"</span>,<span class="string">"z"</span>);
&gt;     <span class="variable">$vocal</span>=<span class="keyword">array</span>(<span class="string">"a"</span>,<span class="string">"e"</span>,<span class="string">"i"</span>,<span class="string">"o"</span>,<span class="string">"u"</span>);
&gt;     <span class="variable">$password</span>=<span class="string">""</span>;
&gt;     srand ((double)microtime()*<span class="number">1000000</span>);
&gt;     <span class="variable">$max</span> = <span class="variable">$length</span>/<span class="number">2</span>;
&gt;     <span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">1</span>; <span class="variable">$i</span>&lt;=<span class="variable">$max</span>; <span class="variable">$i</span>++)
&gt;     {
&gt;     <span class="variable">$password</span>.=<span class="variable">$conso</span>[rand(<span class="number">0</span>,<span class="number">19</span>)];
&gt;     <span class="variable">$password</span>.=<span class="variable">$vocal</span>[rand(<span class="number">0</span>,<span class="number">4</span>)];
&gt;     }
&gt;     <span class="keyword">return</span> <span class="variable">$password</span>;
&gt; }
</pre></td></tr></table></figure>

</blockquote>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/01/19/21个常用的-php-代码汇总/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/01/14/png在ie6下透明的几种方法/">png在IE6下透明的几种方法</a></h1>
  

      <time datetime="2010-01-14T10:47:44.000Z"><a href="/2010/01/14/png在ie6下透明的几种方法/">2010年1月14日</a></time>
    </header>
    <div class="entry">
      
        <p>断桥残雪在《<a href="http://js8.in/380.html" title="IE6 PNG图片不透明问题的解决方法">IE6 PNG图片不透明问题的解决方法</a>》中提到了使用js来解决IE6下PNG图片不透明的问题，今天我总结一下png在IE6下透明的方法：<strong>css方法</strong>、<strong>js方法</strong>、<strong>htc方法</strong>。</p>
<p>png透明针对IE6一直是件挺麻烦的事情，使用的方法也是各有不同，大多的原理是用IE的滤镜来解决的。</p>
<blockquote>
<p>语法：<br>filter : progid:DXImageTransform.Microsoft.AlphaImageLoader ( enabled=bEnabled , sizingMethod=sSize , src=sURL )</p>
<p>enabled : 可选项。布尔值(Boolean)。设置或检索滤镜是否激活。true | false true : 默认值。滤镜激活。<br>false : 滤镜被禁止。<br>sizingMethod : 可选项。字符串(String)。设置或检索滤镜作用的对象的图片在对象容器边界内的显示方式。 crop : 剪切图片以适应对象尺寸。<br>image : 默认值。增大或减小对象的尺寸边界以适应图片的尺寸。scale : 缩放图片以适应对象的尺寸边界。<br>src : 必选项。字符串(String)。使用绝对或相对 url 地址指定背景图像。假如忽略此参数，滤镜将不会作用。<br>现在一般在使用的方法有以下几种：<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/01/14/png在ie6下透明的几种方法/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/01/09/用document-domainiframe实现ajax跨子域/">用document.domain+iframe实现Ajax跨子域</a></h1>
  

      <time datetime="2010-01-08T17:03:36.000Z"><a href="/2010/01/09/用document-domainiframe实现ajax跨子域/">2010年1月9日</a></time>
    </header>
    <div class="entry">
      
        <p>Ajax跨域一直是个比较麻烦的问题，例如：断桥残雪在一个项目中使用了open打开一个跟父窗口不同域名的新页面，结果子窗口就不能传值给父窗口了；再如：我在www.2fool.cn下不可以获取love.2fool.cn域名下的页面内容。<strong>浏览器的跨域</strong>限制是为了安全，可是当我们想要在一个域名下请求另外一个域名的内容的时候就感觉不那么爽了。</p>
<p>我在<a href="http://js8.in/wordpress-weather" title="wordpress来访者天气预报插件">WordPress天气插件</a>、<a href="http://js8.in/441.html" title="使用滔滔给WordPress添加博主状态">滔滔API接口</a>处理上都使用了<strong>JSONP</strong>的方法来实现的跨域。而今天我要通过使用JS的<a href="http://js8.in/443.html" title="用document.domain+iframe实现Ajax跨子域">document.domain和iframe来解决Ajax跨子域的问题</a>。</p>
<h3>原理</h3>
<p>通过给主页面跟请求页面设置相同的document.domain来，欺骗浏览器，达到<strong>Ajax跨子域</strong>的效果，此方法在IE，chrome，Firefox，Safari，Opera下测试通过。</p>
<p><strong>缺点：</strong>无法实现不同主域名之间的通讯。并且当在一个页面中还包含有其它的iframe时，会产生安全性异常，拒绝访问。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/01/09/用document-domainiframe实现ajax跨子域/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/31/三个使用wordpress自定义域做的小工具/">三个使用WordPress自定义域做的小工具</a></h1>
  

      <time datetime="2009-12-31T08:26:10.000Z"><a href="/2009/12/31/三个使用wordpress自定义域做的小工具/">2009年12月31日</a></time>
    </header>
    <div class="entry">
      
        <p>刚开始建立WordPress博客的时候对于自定义域不是很了解，之后通过搜索相关知识：发现原来<strong>WordPress自定义域</strong>可以做很多事情，今天断桥残雪就说说WordPress自定义域三个用处：<strong>给某一日记添加js或者CSS</strong>，<strong>给加密的日志添加密码提示信息</strong>、<strong>首页显示日志缩略图</strong>。</p>
<h3>给某一日记添加js或者CSS</h3>
<p>WordPress 在发布日志时会对过滤一些Javascript、CSS内容，所以我们无法直接把JS、CSS直接写到日志，当然我们可以通过修改主题来实现。可是如果修改主题，把JS或者CSS的内容添加到 header.php 文件中，那么博客所有的页面都会加载这些内容，这样势必会造成整个博客效率下降。所以这个时候我们可以通过 WordPress 自定义域来给某篇的日志单独加<strong>载Javascript 和CSS</strong>。文章最后再介绍一种管理WordPress自定义域的小技巧工具。</p>
<p>假设我们给日志单独加载JS、CSS的自定义域名称是 head_JS_CSS。那么你首先需要把下面这段代码复制到你主题根目录下的 functions.php 文件中：</p>
<blockquote>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre>
&gt; <span class="function"><span class="keyword">function</span> <span class="title">head_JS_CSS</span><span class="params">()</span>{</span>
&gt;     <span class="keyword">if</span> (is_single() || is_page()) {
&gt;         <span class="keyword">global</span> <span class="variable">$post</span>;
&gt;         <span class="variable">$head_JS_CSS</span> = get_post_meta(<span class="variable">$post</span>-&gt;ID, <span class="string">'head_JS_CSS'</span>, <span class="keyword">true</span>);
&gt;         <span class="keyword">echo</span> <span class="variable">$head_JS_CSS</span>;
&gt;     }
&gt; }
&gt; add_action(<span class="string">"wp_head"</span>,<span class="string">"head_JS_CSS"</span>);
</pre></td></tr></table></figure>

</blockquote>
<p>现在你在添加日志的时候，在WordPress自定义域区域，创建一个新的名称为：&quot;head_JS_CSS&quot;自定义域，在“值”输入你要单独为这篇日志加载的 Javascript 代码或者 CSS 即可。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/31/三个使用wordpress自定义域做的小工具/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/27/jquery选择器使用详解/">jQuery选择器使用详解</a></h1>
  

      <time datetime="2009-12-27T10:46:56.000Z"><a href="/2009/12/27/jquery选择器使用详解/">2009年12月27日</a></time>
    </header>
    <div class="entry">
      
        <p>随着jQuery的风靡，有很多关于<strong>jQuery选择器</strong>的文章，可是很多人没有系统的学过或者总结过jQuery的选择器使用方法，本文主要跟大家讨论一下jQuery的选择器的用法，针对于不同的jQuery用户，从基础说起，带您领略jQuery强大的选择器。</p>
<p>在跟大家分享自己的jQuery选择器的使用方法之前，我想跟大家说一个Tip，当你使用jQuery选择器的时候，有时候我们却不一定使用jQuery的选择器里面的函数，而是要简单的返回HTML对象，如果使用getElementById之类选择出HTML对象，就比较麻烦了，再说我们强大的jQuery选择器就浪费了，在这里我通过Firebug查看了jQuery选择器返回的对象，发现原来<strong>$(“#id”)[0]</strong>就是我们要的HTML对象，比如我们要取其中的innerHTML就可以使用$()[0].innerHTML。</p>
<h3>关于jQuery选择器</h3>
<p>通过<a href="http://jquery-api-zh-cn.googlecode.com/svn/trunk/index.html" title="jQuery参考手册" target="_blank">jQuery的参考手册</a> 我们可以看见jQuery的选择器分为：基本、层次、简单筛选、内容、可见性筛选、属性筛选、子元素、表单以及表单及其属性，共九种选择器类型，本文主要介绍基本选择器、属性、简单筛选、内容筛选这几个常用的选择器。如果能熟练掌握这几个选择器，那么我们的<strong>jQuery选择器</strong>就已经很熟练了</p>
<h3>jQuery基本选择器</h3>
<p>jQuery的选择器跟CSS的选择器很接近，甚至于跟CSS的选择器统一，这样就比较容易学习，简单选择器就是我们常用的CSS的ID和Class选择器，例如下面的代码把id为world的html内容改为“Hello World!”<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/27/jquery选择器使用详解/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/25/php生成rss类：rss-class-php/">PHP生成RSS类：RSS.class.php</a></h1>
  

      <time datetime="2009-12-25T12:33:02.000Z"><a href="/2009/12/25/php生成rss类：rss-class-php/">2009年12月25日</a></time>
    </header>
    <div class="entry">
      
        <p>前些日子给<a href="http://love.2fool.cn" target="_blank">爱墙</a>添加了RSS订阅功能，代码是自己写的，其中使用到了一个PHP类：RSS.class.php，感觉非常方便，不敢独享，特拿出来跟大家分享。</p>
<p>使用方法如下：</blockquote><br>使用方法如下：</p>
<blockquote>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre>
&gt; <span class="keyword">include_once</span>(<span class="string">"class/RSS.class.php"</span>);<span class="comment">//引入RSS PHP类</span>
&gt; <span class="variable">$RSS</span>= <span class="keyword">new</span> RSS(<span class="string">"名称"</span>,<span class="string">"地址"</span>,<span class="string">"描述"</span>,<span class="string">"RSS频道图标"</span>);
&gt; <span class="variable">$RSS</span>-&gt;AddItem(<span class="string">"日志的标题"</span>,<span class="string">"日志的地址"</span>,<span class="string">"日志的摘要"</span>,<span class="string">"日志的发布日期"</span>);
&gt; <span class="variable">$RSS</span>-&gt;Display();<span class="comment">//输出RSS内容</span>
</pre></td></tr></table></figure>

</blockquote>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/25/php生成rss类：rss-class-php/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/25/javascript跨浏览器的添加删除事件绑定函数/">JavaScript跨浏览器的添加删除事件绑定函数</a></h1>
  

      <time datetime="2009-12-25T10:31:13.000Z"><a href="/2009/12/25/javascript跨浏览器的添加删除事件绑定函数/">2009年12月25日</a></time>
    </header>
    <div class="entry">
      
        <p>现在浏览器太多了也使我们前端开发人员慌了手脚，今天<a href="http://oncoding.cn" target="_blank">刘洋</a>在写《<a href="http://www.oncoding.cn/2009/translate-tool-bookmark/" target="_blank">教程：编写放在收藏夹里的网页划词翻译工具</a>》的时候，问起来绑定事件的函数，由于一直使用<strong>jQuery</strong>开发，我都差点忘记了最原始的<strong>js添加绑定事件</strong>的方法啦~抽空立马写两个函数，以备不时之需。</p>
<h3>javascript跨浏览器添加事件绑定 bind()</h3>
<p>IE 的<strong>事件绑定</strong>函数是<strong> attachEvent</strong>；而 Firefox, Safari 是 <strong>addEventListener</strong>；Opera 则两种都支持。使用jQuery就可以使用简单的bind()，或者$().click()之类的函数解决，而如果不使用JavaScript框架的时候，大家可是使用下面的封装bind()函数。</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="comment">/************************************
 * 添加事件绑定
 * @param obj   : 要绑定事件的元素
 * @param type : 事件名称。不加 "on". 如 : "click" 而不是 "onclick".
 * @param fn    : 事件处理函数
 ************************************/</span>
<span class="function"><span class="keyword">function</span> <span class="title">bind</span><span class="params">( obj, type, fn )</span> {</span>
    <span class="keyword">if</span> ( obj.attachEvent ) {
        obj[<span class="string">'e'</span>+type+fn] = fn;
        obj[type+fn] = <span class="keyword">function</span>(){obj[<span class="string">'e'</span>+type+fn]( window.event );}
        obj.attachEvent( <span class="string">'on'</span>+type, obj[type+fn] );
    } <span class="keyword">else</span>
        obj.addEventListener( type, fn, <span class="literal">false</span> );
}
</pre></td></tr></table></figure>

<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/25/javascript跨浏览器的添加删除事件绑定函数/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/24/使用zeroclipboard解决跨浏览器复制到剪贴板的问题/">使用ZeroClipboard解决跨浏览器复制到剪贴板的问题</a></h1>
  

      <time datetime="2009-12-23T17:48:06.000Z"><a href="/2009/12/24/使用zeroclipboard解决跨浏览器复制到剪贴板的问题/">2009年12月24日</a></time>
    </header>
    <div class="entry">
      
        <h3>导言</h3>
<p>之前在开发<a href="http://www.pujia.com" target="_blank">普加</a>09年国庆中秋祝福页面复制链接功能时，遇见在Firefox，Chrome，Opera，Safari能复制链接的<strong>兼容性</strong>问题，而在近期上线的<a href="http://ditu.pujia.com/preview" target="_blank">普加地图</a>产品中使用的是Flash的<strong>flashvars</strong>来传入参数来解决了这个问题。其实开发中经常会用到复制的功能，在 IE 下通过JavaScript的<strong>window.clipboardData.setData</strong>可以简单实现复制到剪贴板功能。最后终于找到了终极解决方式：使用jhuckaby写的Zero Clipboard的js类库。此方法利用 Flash完成进行复制内容到剪贴板，所以只要浏览器装有Flash 就可以复制内容。</p>
<h3>Zero Clipboard的实现原理</h3>
<p><strong>Zero Clipboard </strong>利用透明的Flash让其漂浮在复制按钮之上，这样其实点击的不是按钮而是 Flash ，这样将需要的内容传入Flash，再通过Flash的复制功能把传入的内容复制到<strong>剪贴板</strong>。</p>
<h3>Zero Clipboard的安装方法</h3>
<p>其实也不算安装啦，就是使用前的准备工作。<br>首先需要下载 Zero Clipboard的压缩包，解压后把文件夹中两个文件：ZeroClipboard.js 和 ZeroClipboard.swf 放入到你的项目中。</p>
<blockquote>
<p>Zero Clipboard : <a href="http://code.google.com/p/zeroclipboard/" target="_blank">[项目主页</a>] <a href="http://code.google.com/p/zeroclipboard/downloads/list" target="_blank">[zip下载</a>] <a href="http://bowser.macminicolo.net/~jhuckaby/zeroclipboard/" target="_blank">[在线演示</a>]<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/24/使用zeroclipboard解决跨浏览器复制到剪贴板的问题/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/18/ie6-png图片不透明问题的解决方法/">IE6 PNG图片不透明问题的解决方法</a></h1>
  

      <time datetime="2009-12-17T18:16:33.000Z"><a href="/2009/12/18/ie6-png图片不透明问题的解决方法/">2009年12月18日</a></time>
    </header>
    <div class="entry">
      
        <p>IE6真是前端开发人员的噩梦，就像<a href="http://oncoding.cn" target="_blank">刘洋</a>说的:IE6一次又一次的阻碍了互联网的发展。在前几天开发的<a href="http://js8.in/wordpress-weather">WordPress天气预报插件</a>中使用的图片都是png格式的透明图片，由于png格式的图片比较漂亮美观，可是在<strong>IE6</strong>中png的透明效果是没有的，这样子本来设计很漂亮的页面在IE6就歇菜了，让人感觉很不爽~本文使用js的方法来解决IE6下<strong>PNG图片不透明</strong>的问题，简单实用。<a href="http://js8.in/448.html" title="png在IE6下透明的几种方法">更多解决方法点击此处</a>。</p>
<p>如果我们在页面中使用的透明PNG图片不是很多，可以使用下面的代码来解决问题：</p>
<blockquote>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">setPng</span><span class="params">(img, w, h)</span>{</span>
&gt;                 ua = window.navigator.userAgent.toLowerCase();
&gt;                 <span class="keyword">if</span> (!<span class="regexp">/msie/</span>.test(ua))
&gt;                     <span class="keyword">return</span>;
&gt;                 imgStyle = <span class="string">"display:inline-block;"</span> + img.style.cssText;
&gt;                 strNewHTML = <span class="string">""</span>;
&gt;                 img.outerHTML = strNewHTML;
&gt; }
</pre></td></tr></table></figure>

<p>使用方法，在img上添加onload=“setPng(this,宽度,高度)”，如&lt;img onload=“setPng(this,98,78)” src=“” /&gt;<br>如果您觉得这样的方法比较麻烦，或者页面中使用的<strong>透明png图片</strong>比较多如果手动添加很不方便的时候，可是使用下面的代码来解决问题。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/18/ie6-png图片不透明问题的解决方法/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/17/主流浏览器的css-hack方法整理/">主流浏览器的CSS Hack方法整理</a></h1>
  

      <time datetime="2009-12-17T08:28:06.000Z"><a href="/2009/12/17/主流浏览器的css-hack方法整理/">2009年12月17日</a></time>
    </header>
    <div class="entry">
      
        <p>由于不同的浏览器，比如IE6、IE7、Firefox等，对CSS的解析不一样，因此会导致生成的页面效果不一样，得不到我们所需要的页面效果。我在写<a href="http://js8.in/374.html">WordPress天气预报插件</a>的时候就碰见了一个<strong>CSS hack</strong>的问题：在IE6下不能显示正常。本来一个很好的<a href="http://js8.in/wordpress-weather">WordPress天气预报插件</a>就因为IE6给推迟了发布时间。所以对于前端开发人员<strong>CSS兼容性</strong>是个比较棘手的问题，当然对于不同浏览器也有不同的CSS hack的方法，此处本人就整理了一些常用到CSS hack方法，分享给大家，希望对大家有用。</p>
<h3>CSS Hack浏览器的顺序</h3>
<p>对于不同浏览器的CSS hack是有顺序区分的，一般的书写hack的顺序是：<strong>Firefox -&gt; IE7 -&gt; IE6 -&gt; 其他</strong>，<br>当然推荐大家使用Firefox+Firebug来进行调试，注意书写的时候要尽量标准，记住封口，很多时候不封口在FF，IE7下显示正常，可是在IE6下就全部乱了~</p>
<h3>CSS Hack整理汇总</h3>
<p>这些方法相信很多人已经很熟悉了：比如 <strong>IE6</strong>能识别下划线&quot;<strong><span style="color: #ff00ff;">_</span></strong>“和星号” <span style="color: #ff00ff;"><strong>* </strong></span>&quot;，<strong>IE7</strong>能识别星号&quot;<span style="color: #ff00ff;"><strong> *</strong></span> “，但不能识别下划线”<span style="color: #ff00ff;"><strong>_</strong></span>&quot;，而<strong>firefox</strong>两个都不能认识。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/17/主流浏览器的css-hack方法整理/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/16/使用if-ie-hack注释解决css以及js的兼容问题/">使用if IE hack注释解决CSS以及JS的兼容问题</a></h1>
  

      <time datetime="2009-12-16T15:39:55.000Z"><a href="/2009/12/16/使用if-ie-hack注释解决css以及js的兼容问题/">2009年12月16日</a></time>
    </header>
    <div class="entry">
      
        <p>在<strong>IE CSS hack</strong>(<a href="http://js8.in/382.html">更多方法</a>)当中常用到if IE 来判断浏览器的类型，解决CSS甚至于JS的<strong>兼容</strong>性问题，之前大家可能知道if IE来解决<strong>CSS的兼容</strong>性问题，其实if IE不仅仅是用于CSS hack的使用，我们在前端开发中甚至可以使用<strong>if IE</strong>来做JS的处理，如下面的代码：</p>
<blockquote>
<p>&lt;!—[if IE 5]&gt; &lt;script&gt;document.write(“仅IE5.0与IE5.5可以识别”);&lt;/script&gt; &lt;![endif]—&gt;</p>
<p>&lt;!—[if gte IE 5.0]&gt;&lt;script&gt;document.write(“IE5.0以及IE5.0以上版本都可以识别”);&lt;/script&gt;&lt;![endif]—&gt;</p>
<p>&lt;!—[if IE 6]&gt;&lt;script&gt;document.write(“仅IE6可识别”);&lt;/script&gt;&lt;![endif]—&gt;</p>
<p>&lt;!—[if lt IE 6]&gt;&lt;script&gt;document.write(“IE6以下版本可识别”);&lt;/script&gt;&lt;![endif]—&gt;</p>
<p>&lt;!—[if gte IE 6]&gt;&lt;script&gt;document.write(&quot;<strong>IE6</strong>以及IE6以上版本可识别&quot;);&lt;/script&gt;&lt;![endif]—&gt;</p>
<p>&lt;!—[if IE 7]&gt;&lt;script&gt;document.write(“仅IE7可识别”);&lt;/script&gt; &lt;![endif]—&gt;</p>
<p>&lt;!—[if lt IE 7]&gt;&lt;script&gt;document.write(“IE7以下版本可识别”);&lt;/script&gt;&lt;![endif]—&gt;</p>
<p>&lt;!—[if gte IE 7]&gt;&lt;script&gt;document.write(“IE7以及IE7以上版本可识别”);&lt;/script&gt;&lt;![endif]—&gt;<br>下面对<strong>if IE</strong>做一下详细的解释：<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/16/使用if-ie-hack注释解决css以及js的兼容问题/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/14/curl常用的几个php函数/">cURL常用的几个PHP函数</a></h1>
  

      <time datetime="2009-12-14T09:26:11.000Z"><a href="/2009/12/14/curl常用的几个php函数/">2009年12月14日</a></time>
    </header>
    <div class="entry">
      
        <p>cURL是一个功能强大的<strong>PHP库</strong>，我们可以使用PHP的cURL采用<strong>GET</strong>、<strong>POST</strong>等方式发送请求，获取网页内容以及取一个XML文件并把其导入数据库等等。本文中收集了几种常用的<strong>PHP的cURL函数</strong>，以备使用。主要的有几个PHP函数用于：GET，POST，HTTP验证，<strong>302重定向</strong>，设置cURL的代理。</p>
<h3>1、开启PHP的cURL功能</h3>
<p>在Windows平台下，或者使用xampp之类的集成服务器的程序，会非常简单，你需要改一改你的<strong>php.ini</strong>文件的设置，找到php_curl.dll，并取消前面的分号注释就行了。如下所示：</p>
<blockquote>
<p>//取消注释，开启cURL功能<br>extension=php_curl.dll<br>在<strong>Linux</strong>下面，那么，你需要重新编译你的PHP了，编辑时，你需要打开编译参数——在configure命令上加上“–with-curl” 参数。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/14/curl常用的几个php函数/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/11/对引用外部javascript页面编码处理/">UTF-8页面引用外部编码为GBK的JS文件编码的处理</a></h1>
  

      <time datetime="2009-12-11T14:13:47.000Z"><a href="/2009/12/11/对引用外部javascript页面编码处理/">2009年12月11日</a></time>
    </header>
    <div class="entry">
      
        <p>昨天写的一个根据来访者IP返回来访者所在地区的天气情况的<a href="http://js8.in/wordpress-weather" title="WordPress 天气插件">WordPress天气插件</a>侧边栏，效果见本<a href="http://js8.in" title="断桥残雪部落格">博客的首页</a>侧边栏“天气预报”。其中根据<strong>IP</strong>返回来访者城市地理位置的方法是采用了QQ的一个接口：<a href="http://fw.qq.com/ipaddress,而这个接口提供的js为GBK编码的，由于[我的博客](http://js8.in" target="_blank">http://fw.qq.com/ipaddress,而这个接口提供的js为GBK编码的，由于[我的博客](http://js8.in</a> “断桥残雪部落格”)是UTF-8编码的，所以再次使用返回的城市名称在我页面显示的是<strong>乱码</strong>，而且不能引用的。</p>
<p>上网找了很多关于JavaScript把<strong>GBK编码转换为UTF-8编码</strong>的js函数，可是都无济于事，并且如果单单为了编码问题就单独写一个js函数来处理GBK转UTF-8编码，这是很不合理的~由于本来我引用的是QQ的根据IP返回城市接口，我自己是不能够改变QQ官方的<strong>数据编码格式</strong>的，解决的方法唯有我在我的程序中把<strong>GBK编码</strong>的js强制转换为utf-8的格式，怎么转换是个比较难的方式，既然不能通过写js函数，那就只用用其他的方式了。</p>
<p>最后我在网上找到了一个很好的解决方法，<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/11/对引用外部javascript页面编码处理/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/11/发布wordpress来访者天气预报插件/">发布WordPress来访者天气预报插件</a></h1>
  

      <time datetime="2009-12-11T09:43:44.000Z"><a href="/2009/12/11/发布wordpress来访者天气预报插件/">2009年12月11日</a></time>
    </header>
    <div class="entry">
      
        <p>细心的童鞋会发现我的博客昨天添加了一个新的功能——<strong>天气预报</strong>，昨天我说要发布给大家的，晚上睡觉之前，想了很久关于WordPress<strong>天气插件</strong>的编写，基本上在晚上就已经理清了思路，早上很早就起床了，没有吃饭就来到公司，趁着大家还没有来的时候，我要在九点上班之前把WordPress来访者天气预报的插件做出来，加上之前开发的<a href="http://js8.in/352.html">WordPress Follow5 插件</a>开发经验，自己写<a href="http://js8.in/wordpress-weather" title="WordPress天气插件下载"><strong>WordPress来访者天气插件</strong></a>已经是轻车熟路了~</p>
<p>这个插件的使用的是<strong>jsonp技术</strong>，首先通过QQ的ip接口（<a href="http://fw.qq.com/ipaddress）获取到来访者的城市**地理信息**，然后使用WordPress的wp_footer的hook动态建立一个JavaScript文件，文件地址为我博客的[http://js8.in/weather/js.php](http://js8.in/weather/wordpress-weather" target="_blank">http://fw.qq.com/ipaddress）获取到来访者的城市**地理信息**，然后使用WordPress的wp_footer的hook动态建立一个JavaScript文件，文件地址为我博客的[http://js8.in/weather/js.php](http://js8.in/weather/wordpress-weather</a> “WordPress天气插件下载”)，js.php返回的是一段JavaScript代码，代码使用innerHTML插入来访者天气预报的内容。</p>
<p>WordPress来访者天气预报插件采用<strong>精美的天气图标</strong>，完全DIV+CSS页面布局，保证了页面的美观大气，数据库信息来自中国气象网，保证了数据的可靠性，并且熟悉CSS的童鞋还可以修改插件中的CSS，以达到自己喜欢的页面效果。css地址为wp-content\plugins\weather\css.css</p>
<p><strong>插件</strong>如不能正常使用，请看以下注意事项：</p>
<blockquote>
<p>1、保证您的主题皮肤中的footer.php中存在<strong>do_action(&#39;wp_footer&#39;);</strong>函数</p>
<p>2、如出现其他情况，请来<a href="http://js8.in/374.html">插件页面</a>报错<br><a href="/uploads/2009/12/screenshot.jpg"><img src="/uploads/2009/12/screenshot.jpg" alt="WordPress来访者天气预报插件截图" title="WordPress来访者天气预报插件截图"></a></p>
</blockquote>
<p>使用方法：</p>
<blockquote>
<p>1、下载插件（<a href="http://js8.in/weather/vistor_weather.zip">点击下载</a>）并上传到wp-content\plugins目录中；<br>2、登录网站后台安装此插件；<br>3、然后进入“外观”，“小工具”，把“<strong>Weather Widget</strong>”小工具拖到右侧，填写插件显示名称（如：<strong>天气预报</strong>）即可。</p>
</blockquote>
<p><strong><span style="overflow-x: hidden; overflow-y: hidden; color: #ff0000;"><strong>最后更新时间：2009-12-12 8：55</strong></span></strong></p>
<p><strong>下载地址：<a href="http://js8.in/weather/vistor_weather.zip"><a href="http://js8.in/weather/vistor_weather.zip">http://js8.in/weather/vistor_weather.zip</a></a></strong></p>
<p><strong>当前最新版本为：0.1</strong></p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/10/推荐六个在线制作loading图标的网站/">推荐六个在线制作Loading图标的网站</a></h1>
  

      <time datetime="2009-12-10T13:51:10.000Z"><a href="/2009/12/10/推荐六个在线制作loading图标的网站/">2009年12月10日</a></time>
    </header>
    <div class="entry">
      
        <p>经常来我的博客的而且细心的童鞋可以看见我的网站侧边栏加上了<strong>天气预报插件</strong>，这是我自己写的，代码稍后放出，写的时候需要一个Loading的gif，于是上网找生成<strong>Loading图标</strong>的网站，这里我推荐六个网站，希望大家喜欢~</p>
<p>1、<a href="http://ajaxload.info/" target="_blank">Ajax Load</a></p>
<p><a href="/uploads/2009/12/31.jpg"><img src="/uploads/2009/12/31.jpg" alt="Ajax Load 在线loading图标制作网站" title="Ajax Load"></a></p>
<p><strong>Ajax Load</strong>所提供的种类丰富，也可以自定义Loading图标样式，推荐！</p>
<p>2、<a href="http://loadinfo.net/" target="_blank">Load Info</a></p>
<p><a href="/uploads/2009/12/watermark.jpg"><img src="/uploads/2009/12/watermark.jpg" alt="Load Info loading图标网站" title="Load Info"></a></p>
<p><a href="http://loadinfo.net/" target="_blank">Load Info</a>在线制作<strong>Loading图标</strong>的免费网站，目前<strong>Load Info</strong>网站提供了90多种（总有一种适合你）动态图标。而且每种图标都自定义背景色和前景色，更有三种不同的尺寸可以选择，包括 16×16, 24×24, 48×46，很是方便实用。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/10/推荐六个在线制作loading图标的网站/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/07/设置htaccess应该注意的问题/">设置htaccess应该注意的问题</a></h1>
  

      <time datetime="2009-12-06T18:32:56.000Z"><a href="/2009/12/07/设置htaccess应该注意的问题/">2009年12月7日</a></time>
    </header>
    <div class="entry">
      
        <p>今天给<a href="http://love.js8.in" title="爱墙许愿" target="_blank">爱墙</a>做SEO优化，发现自己没有自定义<strong>404</strong>页面，并且还发现存在index of列目录的漏洞，后来才知道原来WordPress都没有在htaccess中使用<strong>Options -Indexes</strong>来防止列目录，于是先加上了Options -Indexes来防止列目录的问题，自动转为了404错误，而不是403，呵呵~</p>
<p>可是我改变了<a href="http://love.js8.in" title="爱墙许愿" target="_blank">爱墙</a>的根目录下的htaccess配置把404页面指到了404.html，可是就是不能实现<strong>404页面</strong>的跳转呢？难道htaccess的404配置不可用？而是直接都返回到了<a href="http://love.js8.in" title="爱墙许愿" target="_blank">爱墙的首页</a>（<a href="http://love.js8.in）~这样子听说对**SEO**是很不好的，搜索引擎不会收录网站的首页，于是上网google原因，找了半天的原因也没有找到问题的根本所在~" target="_blank">http://love.js8.in）~这样子听说对**SEO**是很不好的，搜索引擎不会收录网站的首页，于是上网google原因，找了半天的原因也没有找到问题的根本所在~</a></p>
<p>后来我在一片不起眼的文章中找到了问题的所在~<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/07/设置htaccess应该注意的问题/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/12/04/css清除浏览器默认样式注意点/">CSS清除浏览器默认样式注意点</a></h1>
  

      <time datetime="2009-12-04T10:15:20.000Z"><a href="/2009/12/04/css清除浏览器默认样式注意点/">2009年12月4日</a></time>
    </header>
    <div class="entry">
      
        <p>今天看了岁月如歌的一片文章《<a href="http://lifesinger.org/blog/2009/12/kissy-css-reset/" target="_blank">KISSY CSS Reset 1.0</a>》其中写到了<strong>css重置</strong>的代码</p>
<blockquote>
<p>/<em><br>KISSY CSS Reset<br>理念：1. reset 的目的不是清除浏览器的默认样式，这仅是部分工作。清除和重置是紧密不可分的。<br>2. reset 的目的不是让默认样式在所有浏览器下一致，而是减少默认样式有可能带来的问题。<br>3. reset 期望提供一套普适通用的基础样式。但没有银弹，推荐根据具体需求，裁剪和修改后再使用。<br>特色：1. 适应中文；2. 基于最新主流浏览器。<br>维护：玉伯, 正淳<br>Revision: 276
</em>/</p>
<p>/<strong> 清除内外边距 </strong>/<br>body, h1, h2, h3, h4, h5, h6, hr, p, blockquote, /<em> structural elements 结构元素 </em>/<br>dl, dt, dd, ul, ol, li, /<em> list elements 列表元素 </em>/<br>pre, /<em> text formatting elements 文本格式元素 </em>/<br>form, fieldset, legend, button, input, textarea, /<em> form elements 表单元素 </em>/<br>th, td /<em> table elements 表格元素 </em>/ {<br>margin: 0;<br>padding: 0;<br>}</p>
<p>/<strong> 设置默认字体 </strong>/<br>body,<br>button, input, select, textarea /<em> for ie </em>/ {<br>font: 12px/1.5 tahoma, arial, simsun, sans-serif;<br>}<br>h1, h2, h3, h4, h5, h6 { font-size: 100%; }<br>address, cite, dfn, em, var { font-style: normal; } /<em> 将斜体扶正 </em>/<br>code, kbd, pre, samp { font-family: courier new, courier, monospace; } /<em> 统一等宽字体 </em>/<br>small { font-size: 12px; } /<em> 小于 12px 的中文很难阅读，让 small 正常化 </em>/</p>
<p>/<strong> 重置列表元素 </strong>/<br>ul, ol { list-style: none; }</p>
<p>/<strong> 重置文本格式元素 </strong>/<br>a { text-decoration: none; }<br>a:hover { text-decoration: underline; }</p>
<p>sup { vertical-align: text-top; } /<em> 重置，减少对行高的影响 </em>/<br>sub { vertical-align: text-bottom; }</p>
<p>/<strong> 重置表单元素 </strong>/<br>legend { color: #000; } /<em> for ie6 </em>/<br>fieldset, img { border: 0; } /<em> img 搭车：让链接里的 img 无边框 </em>/<br>button, input, select, textarea { font-size: 100%; } /<em> 使得表单元素在 ie 下能继承字体大小 </em>/<br>/<em> 注：optgroup 无法扶正 </em>/</p>
<p>/<strong> 重置表格元素 </strong>/<br>table { border-collapse: collapse; border-spacing: 0; }<br>而我在腾讯webteam中看到一篇文章《<a href="http://webteam.tencent.com/?p=1481" target="_blank">border:none;与border:0;的区别</a>》中提到<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/12/04/css清除浏览器默认样式注意点/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/11/28/javascript高效简洁代码的编写及优化技巧/">javascript高效简洁代码的编写及优化技巧</a></h1>
  

      <time datetime="2009-11-27T22:46:59.000Z"><a href="/2009/11/28/javascript高效简洁代码的编写及优化技巧/">2009年11月28日</a></time>
    </header>
    <div class="entry">
      
        <h3>前言</h3>
<p>随着互联网前端技术的革新，<strong>javascript</strong>越来越重要，并且js的轻便，非严格的写法，使越来越多的人掌握了js，可是谈到js的写法，很多人都觉得自己很熟悉，很了解，但是笔者在实践中发现js并非大家想象的那么简单，就像同事一句话：php会的很多，一抓一大把，而真正会js的却不多。仔细想想，原因很简单，js的加载到客户端运行的，不像php可以一个include就可以搞定，而且引入的文件中不用的函数可以放着不动，而js不同，如果加入很多很多无用的函数会大大的占有带宽，不利于用户体验。下面结合笔者实际开发过程中遇到的问题，以及自己收集的技巧，谈谈js高效简洁代码的编写及其优化的技巧。当然网上也有很多类似的文章，不过建议大家还是不要人云亦云，真正适合自己的技巧跟编写习惯才是最好的！</p>
<h3>真假的判断</h3>
<p>Javascript中有null、undefined、string、number、boolean五种基本的类型，一般判断真假或者为空的时候大家会使用下面的代码：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="code"><pre>
<span class="keyword">if</span>(a==<span class="literal">true</span>){
    <span class="comment">//doSomeTing();</span>
}```但是这种方法很不简洁，我们完全可以使用<span class="number">1</span>，<span class="number">0</span>来判断，比如我们设定一个a，如果a为假，我们就改成真，而a在程序后面可能用于判断，最简单也是最好理解的方法就是下面的写法
```javascript

<span class="keyword">var</span> a=<span class="literal">false</span>;
<span class="keyword">if</span>(a==<span class="literal">false</span>){
    a=<span class="literal">true</span>;
}
```既然提到了<span class="number">0</span>，<span class="number">1</span>，肯定有人想到了第二种写法：
```javascript

<span class="keyword">var</span> a=<span class="number">0</span>;
<span class="keyword">if</span>(!a){
    a=<span class="number">1</span>;
}
```这个代码还可以进一步简写优化，就是使用js的三元运算符，也就是三目运算符：
```javascript

<span class="keyword">var</span> a=<span class="number">0</span>;
!a?a=<span class="number">1</span>?<span class="literal">null</span>;
</pre></td></tr></table></figure>

<p>还有一点，对于空字符串的判断，往往采用<strong>if（a==“”）</strong>,其实对于空字符本身就是false，下面我总结了下Javascript中的真假值，希望对大家有用<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/11/28/javascript高效简洁代码的编写及优化技巧/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/11/22/css-3-0-参考手册-中文版下载/">CSS 3.0 参考手册 (中文版)下载</a></h1>
  

      <time datetime="2009-11-22T09:33:32.000Z"><a href="/2009/11/22/css-3-0-参考手册-中文版下载/">2009年11月22日</a></time>
    </header>
    <div class="entry">
      
        <p>原文来自：<a href="http://webteam.tencent.com/css3/" target="_blank">腾讯webteam</a></p>
<p><span style="background-color: #ffffff;">CSS 是 Cascading Style Sheet 的缩写。译作「层叠样式表」。是用于(增强)控制网页样式并允许将样式信息与网页内容分离的一种标记性语言。</span></p>
<h2>手册难点</h2>
<ol>
<li>中文资料少，对英文翻译功底要求较高；</li>
<li>基础语法要求字斟句酌，避免产生歧义；</li>
<li>兼容性列表涉及浏览器及版本众多；</li>
<li>草案中的Grid布局被业界同仁普遍认为比“天书”还难…</li>
</ol>
<p>CSS3 还是草案，中文资料少之又少，基本上都是一篇内容转来转去，而我们的手册从基础语法到示例制作，都是根据W3C工作草案进行翻译，并结合自身的沉淀制作示例。</p>
<h2>备受期待的 CSS 3 新功能</h2>
<p>圆角、多背景、@font-face 用户自定义字体、动画与渐变、渐变色、盒阴影、RGBa - 加入透明色、文字阴影等等<br>CSS3 的出现，让代码更简洁、页面结构更合理，性能和效果得到兼顾。<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/11/22/css-3-0-参考手册-中文版下载/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/11/21/google-map-api根据关键词返回经纬度接口/">php、js两种不同方式根据关键词返回经纬度接口【基于Google map API】</a></h1>
  

      <time datetime="2009-11-20T16:21:09.000Z"><a href="/2009/11/21/google-map-api根据关键词返回经纬度接口/">2009年11月21日</a></time>
    </header>
    <div class="entry">
      
        <p>P.S：在本文章中您将找到根据城市关键词获取经纬度的方法，即就是通过google map API的逆经纬度查询接口获得经纬度。<br><strong>google map api</strong>是一个强大的地图API，很多知名的网站都是用了google地图API，曾经我也写过一个根据来访者甚至域名来查询经纬度的程序（<a href="http://js8.in/mywork/ipsearch"><a href="http://js8.in/mywork/ipsearch">http://js8.in/mywork/ipsearch</a></a>）。文章链接地址为：<a href="http://js8.in/308.html">根据IP返回地理位置地址以及地理经纬度的方法</a>，关于经纬度的其他文章可以参考<a href="http://js8.in/285.html">全国各省市，县级城市经纬度SQL数据以及<strong>js数组</strong></a><br>其中使用的是纯真IP数据库，已经google地图的逆经纬度查询~<br>而本例中我们实现的主要方式是php如何获得关键字的经纬度。<br>使用过Google map API的人都知道google有一个逆经纬度查询的接口，例如：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
</pre></td><td class="code"><pre>geocoder = new GClientGeocoder();geocoder.getLocations(
          '山东青岛',
        function($){
var lalton = $.Placemark[0].Point.coordinates;
alert(latlon[0]+","+latlon[1]);
});```可是对于php应该怎样获取**经纬度**呢？
今天在无意的时候看到一个wp的插件，其中找到了方法，就是通过google map API的逆经纬度查询接口获得经纬度~
首先你需要去http://code.google.com/intl/zh-CN/apis/maps/signup.html申请一个google map api的授权域名**key**，
google的map api逆经纬度接口为：
http://maps.google.com/maps/geo?q=关键词（如山东青岛）&key=刚刚申请的API KEY&sensor=false&output=xml&oe=utf8
请求下来的数据时kml的数据格式，怎样解析呢？
&lt;!--more--&gt;我们可以使用**xml**的方式来进行解析，这里我提供一个解析的**php**代码，代码来自于wp的一个插件
第一个函数是xml2array()，这个函数的作用就是把xml转换为数组便于操作
参数$url为请求的xml地址，返回的是一个xml转换成的数组

```php
//from http://us3.php.net/manual/en/function.xml-parse.php
function xml2array($url, $get_attributes = 1, $priority = 'tag')
{
    $contents = "";
    if (!function_exists('xml_parser_create'))
    {
        return array ();
    }
    $parser = xml_parser_create('');
    if (!($fp = @ fopen($url, 'rb')))
    {
        return array ();
    }
    while (!feof($fp))
    {
        $contents .= fread($fp, 8192);
    }
    fclose($fp);
    xml_parser_set_option($parser, XML_OPTION_TARGET_ENCODING, "UTF-8");
    xml_parser_set_option($parser, XML_OPTION_CASE_FOLDING, 0);
    xml_parser_set_option($parser, XML_OPTION_SKIP_WHITE, 1);
    xml_parse_into_struct($parser, trim($contents), $xml_values);
    xml_parser_free($parser);
    if (!$xml_values)
        return; //Hmm...
    $xml_array = array ();
    $parents = array ();
    $opened_tags = array ();
    $arr = array ();
    $current = & $xml_array;
    $repeated_tag_index = array ();
    foreach ($xml_values as $data)
    {
        unset ($attributes, $value);
        extract($data);
        $result = array ();
        $attributes_data = array ();
        if (isset ($value))
        {
            if ($priority == 'tag')
                $result = $value;
            else
                $result['value'] = $value;
        }
        if (isset ($attributes) and $get_attributes)
        {
            foreach ($attributes as $attr =&gt; $val)
            {
                if ($priority == 'tag')
                    $attributes_data[$attr] = $val;
                else
                    $result['attr'][$attr] = $val; //Set all the attributes in a array called 'attr'
            }
        }
        if ($type == "open")
        {
            $parent[$level -1] = & $current;
            if (!is_array($current) or (!in_array($tag, array_keys($current))))
            {
                $current[$tag] = $result;
                if ($attributes_data)
                    $current[$tag . '_attr'] = $attributes_data;
                $repeated_tag_index[$tag . '_' . $level] = 1;
                $current = & $current[$tag];
            }
            else
            {
                if (isset ($current[$tag][0]))
                {
                    $current[$tag][$repeated_tag_index[$tag . '_' . $level]] = $result;
                    $repeated_tag_index[$tag . '_' . $level]++;
                }
                else
                {
                    $current[$tag] = array (
                        $current[$tag],
                        $result
                    );
                    $repeated_tag_index[$tag . '_' . $level] = 2;
                    if (isset ($current[$tag . '_attr']))
                    {
                        $current[$tag]['0_attr'] = $current[$tag . '_attr'];
                        unset ($current[$tag . '_attr']);
                    }
                }
                $last_item_index = $repeated_tag_index[$tag . '_' . $level] - 1;
                $current = & $current[$tag][$last_item_index];
            }
        }
        elseif ($type == "complete")
        {
            if (!isset ($current[$tag]))
            {
                $current[$tag] = $result;
                $repeated_tag_index[$tag . '_' . $level] = 1;
                if ($priority == 'tag' and $attributes_data)
                    $current[$tag . '_attr'] = $attributes_data;
            }
            else
            {
                if (isset ($current[$tag][0]) and is_array($current[$tag]))
                {
                    $current[$tag][$repeated_tag_index[$tag . '_' . $level]] = $result;
                    if ($priority == 'tag' and $get_attributes and $attributes_data)
                    {
                    $current[$tag][$repeated_tag_index[$tag . '_' . $level] . '_attr'] = $attributes_data;
                    }
                    $repeated_tag_index[$tag . '_' . $level]++;
                }
                else
                {
                    $current[$tag] = array (
                        $current[$tag],
                        $result
                    );
                    $repeated_tag_index[$tag . '_' . $level] = 1;
                    if ($priority == 'tag' and $get_attributes)
                    {
                        if (isset ($current[$tag . '_attr']))
                        {
                            $current[$tag]['0_attr'] = $current[$tag . '_attr'];
                            unset ($current[$tag . '_attr']);
                        }
                        if ($attributes_data)
                        {
                            $current[$tag][$repeated_tag_index[$tag . '_' . $level] . '_attr'] = $attributes_data;
                        }
                    }
                    $repeated_tag_index[$tag . '_' . $level]++; //0 and 1 index is already taken
                }
            }
        }
        elseif ($type == 'close')
        {
            $current = & $parent[$level -1];
        }
    }
    return ($xml_array);
}
</pre></td></tr></table></figure>

<p>第二个函数getPoiAndAdd($address,$mapkey):<br>$address为查询的关键词，地址就可以啦，$mapkey为你申请的google map api key，<br>返回的是一个数组，其中包括了经纬度以及详细地址哦~</p>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">gmshc_point</span> <span class="params">(<span class="variable">$address</span>,<span class="variable">$apikey</span>)</span>{</span>
    <span class="variable">$find</span> = <span class="keyword">array</span>(<span class="string">"\n"</span>,<span class="string">"\r"</span>,<span class="string">" "</span>);
	<span class="variable">$replace</span> = <span class="keyword">array</span>(<span class="string">""</span>,<span class="string">""</span>,<span class="string">"+"</span>);					
    <span class="variable">$address</span> = str_replace( <span class="variable">$find</span>,<span class="variable">$replace</span>, <span class="variable">$address</span>);
	<span class="variable">$url</span> = <span class="string">'http://maps.google.com/maps/geo?q='</span>.<span class="variable">$address</span>.<span class="string">'&key='</span>.<span class="variable">$apikey</span>.
         <span class="string">'&sensor=false&output=xml&oe=utf8'</span>;	
	<span class="variable">$response</span> = xml2array(<span class="variable">$url</span>);	<span class="comment">//此处调用都一个函数进行解析</span>
	<span class="variable">$coordinates</span> = <span class="variable">$response</span>[<span class="string">'kml'</span>][<span class="string">'Response'</span>][<span class="string">'Placemark'</span>][<span class="string">'Point'</span>][<span class="string">'coordinates'</span>];
	<span class="variable">$address</span> = <span class="variable">$response</span>[<span class="string">'kml'</span>][<span class="string">'Response'</span>][<span class="string">'Placemark'</span>][<span class="string">'address'</span>];	
	<span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$coordinates</span>)) {	
	<span class="variable">$point_array</span> = split(<span class="string">","</span>,<span class="variable">$coordinates</span>);	
	<span class="variable">$point</span> = <span class="variable">$point_array</span>[<span class="number">1</span>].<span class="string">","</span>.<span class="variable">$point_array</span>[<span class="number">0</span>];
	<span class="variable">$response</span> = <span class="keyword">array</span>(<span class="string">'point'</span>=&gt;<span class="variable">$point</span>,<span class="string">'address'</span>=&gt;<span class="variable">$address</span>);	
	<span class="keyword">return</span>  <span class="variable">$response</span>;	
	}
}
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/11/18/jquery浏览器判断一个bug，以及修改建议/">jQuery浏览器判断一个bug，以及修改建议</a></h1>
  

      <time datetime="2009-11-18T13:48:48.000Z"><a href="/2009/11/18/jquery浏览器判断一个bug，以及修改建议/">2009年11月18日</a></time>
    </header>
    <div class="entry">
      
        <p>前几天在使用<strong>jQuery</strong>（1.3.2）的时候，想使用下浏览器判断$.browser，可是我在使用$.browser.safari的时候，发现一个问题：<br>就是chrome浏览器也走<strong>$.browser.safari</strong>的判断，查看了jQuery的源代码：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="code"><pre><span class="keyword">var</span> userAgent = navigator.userAgent.toLowerCase();
jQuery.browser = {
	version: (userAgent.match( <span class="regexp">/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/</span> ) || [<span class="number">0</span>,<span class="string">'0'</span>])[<span class="number">1</span>],
	safari: <span class="regexp">/webkit/</span>.test( userAgent ),
	opera: <span class="regexp">/opera/</span>.test( userAgent ),
	msie: <span class="regexp">/msie/</span>.test( userAgent ) && !<span class="regexp">/opera/</span>.test( userAgent ),
	mozilla: <span class="regexp">/mozilla/</span>.test( userAgent ) && !<span class="regexp">/(compatible|webkit)/</span>.test( userAgent )
};```&lt;!--more--&gt;
经过同事**修改**后的代码是：
```javascript
<span class="keyword">var</span> browserName = navigator.userAgent.toLowerCase();
mybrowser = {
	version: (browserName.match(<span class="regexp">/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/</span>) || [<span class="number">0</span>, <span class="string">'0'</span>])[<span class="number">1</span>],
	safari: <span class="regexp">/webkit/i</span>.test(browserName) && !<span class="keyword">this</span>.chrome,
	opera: <span class="regexp">/opera/i</span>.test(browserName),
        firefox:<span class="regexp">/firefox/i</span>.test(browserName),
	msie: <span class="regexp">/msie/i</span>.test(browserName) && !<span class="regexp">/opera/</span>.test(browserName),
	mozilla: <span class="regexp">/mozilla/i</span>.test(browserName) && !<span class="regexp">/(compatible|webkit)/</span>.test(browserName) && !<span class="keyword">this</span>.chrome,
        chrome: <span class="regexp">/chrome/i</span>.test(browserName) && <span class="regexp">/webkit/i</span>.test(browserName) && <span class="regexp">/mozilla/i</span>.test(browserName)
}
</pre></td></tr></table></figure>

<p>完全可以使用，并且防止了safari跟<strong>chrome</strong>混淆的</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/11/09/14js代码编写时最佳规范/">14条JS代码编写时最佳规范</a></h1>
  

      <time datetime="2009-11-09T00:56:14.000Z"><a href="/2009/11/09/14js代码编写时最佳规范/">2009年11月9日</a></time>
    </header>
    <div class="entry">
      
        <p>写任何编程代码，不同的开发者都会有不同的见解。但参考一下总是好的，下面是来自<a href="http://www.javascripttoolbox.com/bestpractices/" target="_blank">Javascript Toolbox</a>发布的14条最佳JS代码编写技巧，Sofish翻译(1,2)。</p>
<h3>1. 总是使用 ‘var’</h3>
<p>在JavaScript中，变量不是全局范围的就是函数范围的，使用”var”关键词将是保持变量简洁明了的关键。当声明一个或者是全局或者是函数级（function-level）的变量，需总是前置”var”关键词，下面的例子将强调不这样做潜在的问题。</p>
<p>不使用 Var 造成的问题</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="keyword">var</span> i=<span class="number">0</span>; <span class="comment">// This is good - creates a global variable</span>
<span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> {</span>
   <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) {
      alert(<span class="string">"Hello World!"</span>);
   }
}
test();
alert(i); <span class="comment">// The global variable i is now 10!</span>
</pre></td></tr></table></figure>

<p>因为变量函数中变量 i 并没有使用 var 使其成为函数级的变量，在这个例子中它引用了全局变量。总是使用 var 来声明全局变量是一个很多的做法，但至关重要的一点是使用 var 定义一个函数范围的变量。下面这两个方法在功能上是相同的：</p>
<p>正确的函数</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> {</span>
   <span class="keyword">var</span> i=<span class="number">0</span>;
   <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) {
      alert(<span class="string">"Hello World!"</span>);
   }
}
正确的函数

<span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> {</span>
   <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) {
      alert(<span class="string">"Hello World!"</span>);
   }
}
</pre></td></tr></table></figure>

<h3>2. 特性检测而非浏览器检测</h3>
<p>一些代码是写来发现浏览器版本并基于用户正使用的客户端的对其执行不同行为。这个，总的来说，是一个非常糟的实践。更好的方法是使用特性检测，在使 用一个老浏览器可能不支持的高级的特性之前，首先检测（浏览器的）是否有这个功能或特性，然后使用它。这单独检测浏览器版本来得更好，即使你知道它的性 能。你可以在 <a href="http://www.jibbering.com/faq/faq_notes/not_browser_detect.html找到一个深入讨论这个问题的文章。" target="_blank">http://www.jibbering.com/faq/faq_notes/not_browser_detect.html找到一个深入讨论这个问题的文章。</a></p>
<p>例子：<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/11/09/14js代码编写时最佳规范/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/10/28/根据ip返回地理位置地址以及地理经纬度的方法/">根据IP返回地理位置地址以及地理经纬度的方法</a></h1>
  

      <time datetime="2009-10-28T09:58:27.000Z"><a href="/2009/10/28/根据ip返回地理位置地址以及地理经纬度的方法/">2009年10月28日</a></time>
    </header>
    <div class="entry">
      
        <p>今天做了一个<a href="http://js8.in/mywork/ipsearch/">基于<strong>Google</strong>地图的根据IP返回地理位置的接口</a>，效果演示地址：<a href="http://js8.in/mywork/ipsearch/">http://js8.in/mywork/ipsearch/</a></p>
<p>可以输入域名，如：js8.in，既可以返回<strong>地理位置</strong>，并且把地理位置定位到Google地图上，并且在地图上打开气泡显示经纬度。</p>
<p>效果图：<br><a href="http://js8.in/mywork/ipsearch/"><img src="/uploads/2009/10/Snap1-300x240.jpg" alt="根据IP返回地理位置接口" title="根据IP返回地理位置接口"></a></p>
<p>关于这个<strong>IP查询</strong>接口的调用方法：<a href="http://js8.in/mywork/ipsearch/ipsearch.php?ip=你要查询的IP地址或者域名（如js8.in）">http://js8.in/mywork/ipsearch/ipsearch.php?ip=你要查询的IP地址或者域名（如js8.in）</a></p>
<p>程序说明：</p>
<p>1、IP数据库采用了纯真IP数据库10.25日最新版，可能有时间就更新一下数据库内容。<br>2、获取的经纬度是根据Google的地图接口，返回的数据~对于国内的<strong>经纬度</strong>应该有一定的偏移（国家法律规定的），但是在Google上使用应该是可以的~</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/10/19/jquerygoogle-weather-api轻松实现天气地图（二）/">jQuery+google weather API轻松实现天气地图（二）</a></h1>
  

      <time datetime="2009-10-19T02:15:31.000Z"><a href="/2009/10/19/jquerygoogle-weather-api轻松实现天气地图（二）/">2009年10月19日</a></time>
    </header>
    <div class="entry">
      
        <p>原理：通过来输入的关键词查询出<strong>城市</strong>的经纬度，然后调用google的<strong>weather</strong>接口，查出城市的天气情况，根据<strong>xml</strong>解析出来的结果返货<strong>json</strong>格式，便于代码的传输~！</p>
<p>这里我使用的是<strong>MapBar</strong>的地图免费API，其他的如：<strong>Google </strong>就不做说明了～方法类似～截图如下：<br><a href="/uploads/userup/0905/021309521305.png"><img src="/uploads/userup/0905/021309521305.png" alt=""></a><br>现在把Mysql.php的全部代码，使用了simpleXML对Google返回的数据进行解析：<br>PS：关于各个城市的<strong>经纬度</strong>数据，请阅览：<a href="http://js8.in/285.html">全国各省市，县级城市经纬度<strong>SQL数据</strong>以及js数组</a></p>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td><td class="code"><pre><span class="preprocessor">&lt;?php</span>
  <span class="keyword">include</span>(<span class="string">"conn.php"</span>);
<span class="variable">$strsql</span>=<span class="string">"select * from latlon where name=’"</span>.<span class="variable">$_GET</span>[<span class="string">'city'</span>].<span class="string">"’"</span>;
    <span class="variable">$result</span>=mysql_db_query(<span class="variable">$mysql_database</span>, <span class="variable">$strsql</span>, <span class="variable">$conn</span>);
    <span class="comment">// u83b7u53d6u67e5u8be2u7ed3u679c,1 = name 2= latlon 3=weidu 4 = jingdu</span>
    <span class="variable">$row</span>=mysql_fetch_row(<span class="variable">$result</span>);
    mysql_data_seek(<span class="variable">$result</span>, <span class="number">0</span>);
    <span class="variable">$row</span>=mysql_fetch_row(<span class="variable">$result</span>);
    <span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$row</span>[<span class="number">1</span>])){
        <span class="variable">$re</span> =<span class="keyword">array</span>(        <span class="string">"noCity"</span>=&gt;<span class="string">"no data"</span>,
        <span class="string">"yes"</span>=&gt;<span class="number">0</span>,
    );
        <span class="keyword">echo</span> <span class="string">""</span>;
    }<span class="keyword">else</span>{
    <span class="variable">$nlatlon</span>= <span class="variable">$row</span>[<span class="number">4</span>].’,’.<span class="variable">$row</span>[<span class="number">3</span>];
    <span class="variable">$back</span>=<span class="variable">$row</span>[<span class="number">3</span>]*<span class="number">1000000</span>
.<span class="variable">$row</span>[<span class="number">4</span>]*<span class="number">1000000</span>;
<span class="variable">$url</span>=’http:<span class="comment">//www.google.com/ig/api?weather=,,,’.$back;</span>
<span class="variable">$xml</span> =  simplexml_load_file(<span class="variable">$url</span>);
<span class="variable">$re</span>=<span class="keyword">array</span>(
    <span class="string">"yes"</span>=&gt;<span class="number">1</span>,
<span class="string">"today"</span> =&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">0</span>]-&gt;condition[<span class="string">'data'</span>]),
<span class="string">"ssd"</span>=&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;current_conditions-&gt;temp_c[<span class="string">'data'</span>]),
<span class="string">"sd"</span>=&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;current_conditions-&gt;humidity[<span class="string">'data'</span>]),
<span class="string">"fx"</span>=&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;current_conditions-&gt;wind_condition[<span class="string">'data'</span>]),
<span class="string">"icon"</span>=&gt;’http:<span class="comment">//www.google.com’.($xml-&gt;weather-&gt;forecast_conditions[0]-&gt;icon['data']),</span>
<span class="string">"week1"</span> =&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">1</span>]-&gt;day_of_week[<span class="string">'data'</span>]),
<span class="string">"week1zuidi"</span> =&gt;(int)((int)((string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">1</span>]-&gt;low[<span class="string">'data'</span>])-<span class="number">32</span>)/<span class="number">1.8</span>+<span class="number">1</span>),
<span class="string">"week1zuigao"</span> =&gt;(int) ((int)((string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">1</span>]-&gt;high[<span class="string">'data'</span>])-<span class="number">32</span>)/<span class="number">1.8</span>+<span class="number">1</span>),
<span class="string">"week1tianqi"</span> =&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">1</span>]-&gt;condition[<span class="string">'data'</span>]),
<span class="string">"week1icon"</span> =&gt;’http:<span class="comment">//www.google.com’.($xml-&gt;weather-&gt;forecast_conditions[1]-&gt;icon['data']),</span>
<span class="string">"week2"</span> =&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">2</span>]-&gt;day_of_week[<span class="string">'data'</span>]),
<span class="string">"week2zuidi"</span> =&gt;(int) ((int)((string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">2</span>]-&gt;low[<span class="string">'data'</span>])-<span class="number">32</span>)/<span class="number">1.8</span>+<span class="number">1</span>),
<span class="string">"week2zuigao"</span> =&gt;(int) ((int)((string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">2</span>]-&gt;high[<span class="string">'data'</span>])-<span class="number">32</span>)/<span class="number">1.8</span>+<span class="number">1</span>),
<span class="string">"week2tianqi"</span> =&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">2</span>]-&gt;condition[<span class="string">'data'</span>]),
<span class="string">"week2icon"</span> =&gt;’http:<span class="comment">//www.google.com’.($xml-&gt;weather-&gt;forecast_conditions[2]-&gt;icon['data']),</span>
<span class="string">"week3"</span> =&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">3</span>]-&gt;day_of_week[<span class="string">'data'</span>]),
<span class="string">"week3zuidi"</span> =&gt;(int) ((int)((string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">3</span>]-&gt;low[<span class="string">'data'</span>])-<span class="number">32</span>)/<span class="number">1.8</span>+<span class="number">1</span>),
<span class="string">"week3zuigao"</span> =&gt;(int) ((int)((string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">3</span>]-&gt;high[<span class="string">'data'</span>])-<span class="number">32</span>)/<span class="number">1.8</span>+<span class="number">1</span>),
<span class="string">"week3tianqi"</span> =&gt;(string)(<span class="variable">$xml</span>-&gt;weather-&gt;forecast_conditions[<span class="number">3</span>]-&gt;condition[<span class="string">'data'</span>]),
<span class="string">"week3icon"</span> =&gt;’http:<span class="comment">//www.google.com’.($xml-&gt;weather-&gt;forecast_conditions[3]-&gt;icon['data']),</span>
<span class="string">"nlatlon"</span> =&gt;<span class="variable">$nlatlon</span>,
<span class="string">"googleurl"</span>=&gt;<span class="variable">$url</span>,
);
}
<span class="keyword">echo</span> json_encode(<span class="variable">$re</span>);
    mysql_free_result(<span class="variable">$result</span>);
mysql_close(<span class="variable">$conn</span>);

<span class="preprocessor">?&gt;</span>
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/09/30/真正的jquery的radio与checkbox取值/">真正的jQuery的radio与checkbox取值</a></h1>
  

      <time datetime="2009-09-30T05:26:05.000Z"><a href="/2009/09/30/真正的jquery的radio与checkbox取值/">2009年9月30日</a></time>
    </header>
    <div class="entry">
      
        <p>今天闲着没事想把<a href="http://love.2fool.cn" target="_blank">爱墙</a>做成好友飞信通知的功能，遇到一个checkbox的选择问题，由于自己喜欢使用<strong>jQuery</strong>来开发~所以对于jQuery对checkbox的取值很想搞清楚~</p>
<p>我试着使用网上比较多的版本，比如：$(&quot;input[name=‘fetion’]“).attr(”checked&quot;)，</p>
<h3>下面代码是网上的</h3>
<p>多选框<strong>checkbox</strong>：</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre> $(<span class="string">"#chk1"</span>).attr(<span class="string">"checked"</span>,<span class="string">''</span>);<span class="comment">//不打勾</span>
$(<span class="string">"#chk2"</span>).attr(<span class="string">"checked"</span>,<span class="literal">true</span>);<span class="comment">//打勾</span>
<span class="keyword">if</span>($(<span class="string">"#chk1"</span>).attr(<span class="string">'checked'</span>)==<span class="literal">undefined</span>) <span class="comment">//判断是否已经打勾</span>
</pre></td></tr></table></figure>

<p><p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/09/30/真正的jquery的radio与checkbox取值/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/09/24/jquery插件pager修改版-更加智能/">jQuery插件pager修改版-更加智能</a></h1>
  

      <time datetime="2009-09-24T00:29:31.000Z"><a href="/2009/09/24/jquery插件pager修改版-更加智能/">2009年9月24日</a></time>
    </header>
    <div class="entry">
      
        <p>我的新版<a href="http://love.2fool.cn" target="_blank"><strong>爱墙</strong></a>使用了jQuery的pager插件，可是对于老外的插件我实在是不敢恭维，比较难用，并且只能设置显示页面字数为奇数，如果为偶数则比设定的页数多一！并且不能自己设置每页显示多少页码，二是默认的9个页码，很不方便~</p>
<p>研究了一下，自己修改了下<a href="http://js8.in/mywork/pager/pagerDIY.rar"><strong>Pager</strong>插件</a>，本次修改添加了“上下页”、“首页”、“最后一页”自己定义样式，比如：使用“上一页”“&gt;&gt;”“next”之类的字符，并且自动设置显示不显示上下页，首页，最后一页。<br><a href="http://js8.in/mywork/pager/PagerDemo.html">demo1</a> <a href="http://js8.in/mywork/pager/PagerDemo2.html">demo2</a></p>
<h3>比如代码</h3>
<p>var show2={per:6,index:{n:“首页”,m:“first”},pre:{n:“prev”,m:“prev”},next:{n:“next”,m:“next”},last:{n:“最后一页”,m:“last”}};<br>$(“#pager2”).pager({ pagenumber: 1, pagecount: 15, buttonClickCallback: PageClick2,show:show2 });<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/09/24/jquery插件pager修改版-更加智能/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2009/05/02/jquerygoogle-weather-api轻松实现天气地图（一）/">jQuery+google weather API轻松实现天气地图（一）</a></h1>
  

      <time datetime="2009-05-01T21:04:01.000Z"><a href="/2009/05/02/jquerygoogle-weather-api轻松实现天气地图（一）/">2009年5月2日</a></time>
    </header>
    <div class="entry">
      
        <p>这里我使用的是<strong>MapBar</strong>的地图<strong>API</strong>，其他的如：Google 就不做说明了～方法类似～截图如下：<br><a href="/uploads/userup/0905/021309521305.png"><img src="/uploads/userup/0905/021309521305.png" alt=""></a><br>现在把全部<strong>代码</strong>放出，希望大家拍砖：<br>PS：关于各个城市的经纬度数据，请阅览：<a href="http://js8.in/2857.html"><a href="http://js8.in/285.html">http://js8.in/285.html</a></a><br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2009/05/02/jquerygoogle-weather-api轻松实现天气地图（一）/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2008/10/16/一段代码解决prototype和jquery的冲突/">一段代码解决prototype和jquery的冲突</a></h1>
  

      <time datetime="2008-10-15T19:13:51.000Z"><a href="/2008/10/16/一段代码解决prototype和jquery的冲突/">2008年10月16日</a></time>
    </header>
    <div class="entry">
      
        <p>那天做个人页面（i.2fool.cn），前面的css-dock仿MacOS的导航栏用的是jquery框架</p>
<p>后面写的仿MacOS的导航是用了prototype框架，可是单独测试，效果很好~而放到了一起就出现了问题~</p>
<p>后来想起来了是prototype和jquery有冲突~</p>
<p>以前见过这样的文章，自己百度了一下，终于找到了答案，可是方法很多~</p>
<p>最权威的是个外文的，读了点~也读懂了一点，可是就是不成功~</p>
<p>最后我试着自己改写了一下~就是下面的代码~</p>
<p>PS：校内肯定屏蔽关键字，所以采用了大写</p>
<p>&lt;script type=“text/javascript”&gt;<br>var jQuery=$;<br>&lt;/script&gt;</p>
<p>这个代码要吧jquery。js放到prototype。js的前面~才可以解决冲突</p>
<p>具体的效果来我的网站看看吧~i.2fool.cn</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2008/09/18/如何写网站的robots-txt和meta-name-robots的配置/">如何写网站的robots.txt和meta name robots的配置</a></h1>
  

      <time datetime="2008-09-17T19:46:11.000Z"><a href="/2008/09/18/如何写网站的robots-txt和meta-name-robots的配置/">2008年9月18日</a></time>
    </header>
    <div class="entry">
      
        <p><strong>最近几天最出名的网络新闻应该是淘宝屏蔽百度搜索的事情了！淘宝怎么做到的呢？其实很Easy，看看淘宝的robots.txt就知道了。地址是：<a href="http://www.taobao.com/robots.txt" target="_blank">www.taobao.com/robots.txt</a>。看到了吗？百度蜘蛛disallow啦！不懂啊~看看本文吧(PS：其实百度也要进军C2C市场，淘宝是为了保住自己的市场罢了)</strong></p>
<p><strong>robots.txt基本介绍
</strong>robots.txt是一个纯文本文件，在这个文件中网站管理者可以声明该网站中不想被robots访问的部分，或者指定搜索引擎只收录指定的内容。<br>当一个搜索机器人（有的叫搜索蜘蛛）访问一个站点时，它会首先检查该站点根目录下是否存在robots.txt，如果存在，搜索机器人就会按照该文件中的内容来确定访问的范围；如果该文件不存在，那么搜索机器人就沿着链接抓取。<br>另外，robots.txt必须放置在一个站点的根目录下，而且文件名必须全部小写。<br><strong>robots.txt写作语法</strong><br>首先，我们来看一个robots.txt范例：<a href="/robots.txt">/robots.txt</a><br>访问以上具体地址，我们可以看到robots.txt的具体内容如下：<br><em># All robots will spider the domain</em><br><em>User-agent: *<br>Disallow:</em><br>以上文本表达的意思是允许所有的搜索机器人访问<a href="/">blog.2fool.cn</a>站点下的所有文件。<br>具体语法分析：其中#后面文字为说明信息；<em>User-agent:</em>后面为搜索机器人的名称，后面如果是<em>*，</em>则泛指所有的搜索机器人；<em>Disallow:</em>后面为不允许访问的文件目录。<br>下面，我将列举一些robots.txt的具体用法：<br><strong>允许所有的robot访问</strong><br><em>User-agent: *<br>Disallow:</em><br>或者也可以建一个空文件 “/robots.txt” file<br><strong>禁止所有搜索引擎访问网站的任何部分</strong><br><em>User-agent: *<br>Disallow: /</em><br><strong>禁止所有搜索引擎访问网站的几个部分（下例中的01、02、03目录）</strong><br>User-agent: <em><br>Disallow: /01/<br>Disallow: /02/<br>Disallow: /03/<br><strong>禁止某个搜索引擎的访问（下例中的BadBot）</strong><br><em>User-agent: BadBot<br>Disallow: /</em><br><strong>只允许某个搜索引擎的访问（下例中的Crawler）</strong><br><em>User-agent: Crawler<br>Disallow:</em><br>_User-agent: </em><br>Disallow: /_<br><strong>另外，我觉得有必要进行拓展说明，对robots meta进行一些介绍：</strong><br>Robots META标签则主要是针对一个个具体的页面。和其他的META标签（如使用的语言、页面的描述、关键词等）一样，Robots META标签也是放在页面的＜head＞＜/head＞中，专门用来告诉搜索引擎ROBOTS如何抓取该页的内容。<br><strong>Robots META标签的写法：</strong><br>Robots META标签中没有大小写之分，name=”Robots”表示所有的搜索引擎，可以针对某个具体搜索引擎写为name=”BaiduSpider”。 content部分有四个指令选项：index、noindex、follow、nofollow，指令间以“,”分隔。<br>INDEX 指令告诉搜索机器人抓取该页面；<br>FOLLOW 指令表示搜索机器人可以沿着该页面上的链接继续抓取下去；<br>Robots Meta标签的缺省值是INDEX和FOLLOW，只有inktomi除外，对于它，缺省值是INDEX,NOFOLLOW。<br>这样，一共有四种组合：<br>＜META NAME=”ROBOTS” CONTENT=”INDEX,FOLLOW”＞<br>＜META NAME=”ROBOTS” CONTENT=”NOINDEX,FOLLOW”＞<br>＜META NAME=”ROBOTS” CONTENT=”INDEX,NOFOLLOW”＞<br>＜META NAME=”ROBOTS” CONTENT=”NOINDEX,NOFOLLOW”＞<br>其中<br>＜META NAME=”ROBOTS” CONTENT=”INDEX,FOLLOW”＞可以写成＜META NAME=”ROBOTS” CONTENT=”ALL”＞；<br>＜META NAME=”ROBOTS” CONTENT=”NOINDEX,NOFOLLOW”＞可以写成＜META NAME=”ROBOTS” CONTENT=”NONE”＞<br>目前看来，绝大多数的搜索引擎机器人都遵守robots.txt的规则，而对于Robots META标签，目前支持的并不多，但是正在逐渐增加，如著名搜索引擎GOOGLE就完全支持，而且GOOGLE还增加了一个指令“archive”，可以限制GOOGLE是否保留网页快照。例如：<br>＜META NAME=”googlebot” CONTENT=”index,follow,noarchive”＞<br>表示抓取该站点中页面并沿着页面中链接抓取，但是不在GOOLGE上保留该页面的网页快照。</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2008/09/11/对zblog的页面分页链接的修改/">对Zblog的页面分页链接的修改</a></h1>
  

      <time datetime="2008-09-10T19:37:45.000Z"><a href="/2008/09/11/对zblog的页面分页链接的修改/">2008年9月11日</a></time>
    </header>
    <div class="entry">
      
        <p>今天我们去上自习可惜上午第二节课又有上课，我们没办法学习啦~于是就来网络上面看看，看着自己的blog的分页样式不好看，现在自己试着修改了下，很容易就可以做到的！不用&ldquo;文件重建&rdquo;的功能就可以使用~原理就是使用修改CSS和b_pagebar.html</p>
<p>正文开始啦，这个样式只是适用Zblog的默认模板，其他的模板大家可以自己更改下的，我的代码中有具体的注释</p>
<ol>
<li>修改HTML文件：找到主题文件下的template文件夹中的b<em>pagebar.html（分页文件），把其中的</em>&lt;a href=&quot;&lt;#pagebar/page/url#&gt;&quot;&gt;[&lt;#pagebar/page/number#&gt;]&lt;/a&gt;<em>改成<span style="COLOR: #ff0000">**</em>&lt;a href=&quot;&lt;#pagebar/page/url#&gt;&quot;&gt;&lt;#pagebar/page/number#&gt;&lt;/a&gt;&nbsp;_**</span> 也就是简单的去掉&ldquo;[&rdquo;和&ldquo;]&rdquo;，目的是为了更改后的更美观2.  修改CSS文件：找到style中的默认CSS文件default.css 在文件的最后添加下面的代码</li>
</ol>
<p>/<em>—————————————分页条CSS代码———————————————-</em>/<br>&nbsp;div.pagebar{<br>margin:10px 0 0 10px;<br>padding:0;<br>line-height:20px;<br>height:20px<br>}</p>
<p>div.pagebar a,.pagebar .now-page{<br>padding:1px 5px 2px 5px;<br>margin:0 2px;<br>text-align:center;<br>font-weight:bold;<br>font-family:Verdana;<br>border:1px solid #ccc;<br>text-decoration:none<br>}</p>
<p>div.pagebar a:hover{ /<em> 定义鼠标滑过页码样式 </em>/<br>BACKGROUND: #4EB2ED; /<em> 鼠标滑过时候的背景颜色 </em>/<br>COLOR: #000;/<em> 鼠标滑过时候的字码颜色 </em>/<br>border:1px solid #0084DC;<br>text-decoration:none<br>}</p>
<p>div.pagebar .now-page{ /<em> 定义当前页码 </em>/<br>BACKGROUND: #0066CC;&nbsp; /<em> 当前页码颜色代码，自己改 </em>/<br>COLOR: #000; /<em>当前页码的颜色 </em>/<br>}</p>
<p><span style="COLOR: #ff0000">PS：网站设置的分页不要太多，我设定的是现实18个一张分页。</span></p>
<p>好了，大家看看下面的我的页面的截图吧~具体效果看看我的博客吧：<a href=""></a></p>
<p><a href="/uploads/userup/0811/1Q1403434I.jpg"><img src="/uploads/userup/0811/1Q1403434I.jpg" alt=""></a>&nbsp;</p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  
</div></div>
    <aside id="sidebar" class="alignright">
  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/乱七八糟/">乱七八糟</a><small>30</small></li>
  
    <li><a href="/categories/前端开发/">前端开发</a><small>116</small></li>
  
    <li><a href="/categories/后端运维/">后端运维</a><small>27</small></li>
  
    <li><a href="/categories/王婆卖瓜/">王婆卖瓜</a><small>4</small></li>
  
    <li><a href="/categories/读书笔记/">读书笔记</a><small>5</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签</h3>
  <ul class="entry clearfix">
  
    <li><a href="/tags/DOM/">DOM<sup>2</sup></a></li>
  
    <li><a href="/tags/IE/">IE<sup>1</sup></a></li>
  
    <li><a href="/tags/IE6/">IE6<sup>2</sup></a></li>
  
    <li><a href="/tags/PPT/">PPT<sup>3</sup></a></li>
  
    <li><a href="/tags/VPS/">VPS<sup>1</sup></a></li>
  
    <li><a href="/tags/ajax/">ajax<sup>5</sup></a></li>
  
    <li><a href="/tags/apache/">apache<sup>1</sup></a></li>
  
    <li><a href="/tags/audio/">audio<sup>2</sup></a></li>
  
    <li><a href="/tags/a标签/">a标签<sup>1</sup></a></li>
  
    <li><a href="/tags/canvas/">canvas<sup>1</sup></a></li>
  
    <li><a href="/tags/chrome/">chrome<sup>3</sup></a></li>
  
    <li><a href="/tags/css/">css<sup>15</sup></a></li>
  
    <li><a href="/tags/eAccelerator/">eAccelerator<sup>1</sup></a></li>
  
    <li><a href="/tags/ecmascript/">ecmascript<sup>3</sup></a></li>
  
    <li><a href="/tags/escape/">escape<sup>1</sup></a></li>
  
    <li><a href="/tags/event/">event<sup>1</sup></a></li>
  
    <li><a href="/tags/express/">express<sup>1</sup></a></li>
  
    <li><a href="/tags/grunt/">grunt<sup>1</sup></a></li>
  
    <li><a href="/tags/handleEvent/">handleEvent<sup>1</sup></a></li>
  
    <li><a href="/tags/html5/">html5<sup>3</sup></a></li>
  
    <li><a href="/tags/iframe/">iframe<sup>1</sup></a></li>
  
    <li><a href="/tags/iptables/">iptables<sup>1</sup></a></li>
  
    <li><a href="/tags/javascript/">javascript<sup>79</sup></a></li>
  
    <li><a href="/tags/linux/">linux<sup>4</sup></a></li>
  
    <li><a href="/tags/livereload/">livereload<sup>1</sup></a></li>
  
    <li><a href="/tags/memcached/">memcached<sup>1</sup></a></li>
  
    <li><a href="/tags/mixjs/">mixjs<sup>1</sup></a></li>
  
    <li><a href="/tags/mysql/">mysql<sup>2</sup></a></li>
  
    <li><a href="/tags/name/">name<sup>1</sup></a></li>
  
    <li><a href="/tags/nginx/">nginx<sup>2</sup></a></li>
  
    <li><a href="/tags/nodejs/">nodejs<sup>7</sup></a></li>
  
    <li><a href="/tags/php/">php<sup>19</sup></a></li>
  
    <li><a href="/tags/session/">session<sup>1</sup></a></li>
  
    <li><a href="/tags/storage/">storage<sup>1</sup></a></li>
  
    <li><a href="/tags/svn/">svn<sup>1</sup></a></li>
  
    <li><a href="/tags/this/">this<sup>1</sup></a></li>
  
    <li><a href="/tags/ueditor/">ueditor<sup>1</sup></a></li>
  
    <li><a href="/tags/uglifyjs/">uglifyjs<sup>1</sup></a></li>
  
    <li><a href="/tags/webbench/">webbench<sup>1</sup></a></li>
  
    <li><a href="/tags/websocket/">websocket<sup>1</sup></a></li>
  
    <li><a href="/tags/web前端开发/">web前端开发<sup>5</sup></a></li>
  
    <li><a href="/tags/windows7技巧/">windows7技巧<sup>1</sup></a></li>
  
    <li><a href="/tags/wordpress/">wordpress<sup>3</sup></a></li>
  
    <li><a href="/tags/xss/">xss<sup>3</sup></a></li>
  
    <li><a href="/tags/严格模式/">严格模式<sup>1</sup></a></li>
  
    <li><a href="/tags/位运算/">位运算<sup>1</sup></a></li>
  
    <li><a href="/tags/作用域/">作用域<sup>3</sup></a></li>
  
    <li><a href="/tags/前端优化/">前端优化<sup>1</sup></a></li>
  
    <li><a href="/tags/前端工具/">前端工具<sup>4</sup></a></li>
  
    <li><a href="/tags/加速器/">加速器<sup>1</sup></a></li>
  
    <li><a href="/tags/压力测试/">压力测试<sup>1</sup></a></li>
  
    <li><a href="/tags/右键/">右键<sup>1</sup></a></li>
  
    <li><a href="/tags/安全/">安全<sup>1</sup></a></li>
  
    <li><a href="/tags/性能/">性能<sup>3</sup></a></li>
  
    <li><a href="/tags/我也八卦/">我也八卦<sup>1</sup></a></li>
  
    <li><a href="/tags/执行环境/">执行环境<sup>1</sup></a></li>
  
    <li><a href="/tags/技巧/">技巧<sup>1</sup></a></li>
  
    <li><a href="/tags/播放器/">播放器<sup>1</sup></a></li>
  
    <li><a href="/tags/数组/">数组<sup>1</sup></a></li>
  
    <li><a href="/tags/标签/">标签<sup>1</sup></a></li>
  
    <li><a href="/tags/模块化/">模块化<sup>2</sup></a></li>
  
    <li><a href="/tags/算法/">算法<sup>1</sup></a></li>
  
    <li><a href="/tags/网络技术/">网络技术<sup>73</sup></a></li>
  
    <li><a href="/tags/虚拟主机/">虚拟主机<sup>1</sup></a></li>
  
    <li><a href="/tags/解耦/">解耦<sup>1</sup></a></li>
  
    <li><a href="/tags/语法限制/">语法限制<sup>1</sup></a></li>
  
    <li><a href="/tags/跨域/">跨域<sup>3</sup></a></li>
  
    <li><a href="/tags/路径/">路径<sup>1</sup></a></li>
  
    <li><a href="/tags/软件心得/">软件心得<sup>3</sup></a></li>
  
  </ul>
</div>



  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2013 三水清
  
</div>
<div class="clearfix"></div></footer>
  <script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


    
        <script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=6635976" ></script>
        <script type="text/javascript" id="bdshell_js"></script>
        <script type="text/javascript">
        document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000);
        </script>
    
    



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




    <script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F1c76f5cc8274a56106b13b9c9b1fb046' type='text/javascript'%3E%3C/script%3E"));
    </script>


</body>
</html>