<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 5 页 - 归档：2010 - 三水清</title>
  <meta name="author" content="三水清">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="三水清"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="atom.xml" title="三水清" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">三水清</a></h1>
  <h2><a href="/">专注前端开发,分享Javascript/CSS/PHP等Web前端开发技巧</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/about">关于</a></li>
    
      <li><a href="https://github.com/ksky521">Github</a></li>
    
      <li><a href="http://weibo.com/sanshuiqing">新浪微博</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2010</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/05/03/jquery插件wbox准备更新/">jQuery插件wBox准备更新</a></h1>
  

      <time datetime="2010-05-03T08:54:42.000Z"><a href="/2010/05/03/jquery插件wbox准备更新/">2010年5月3日</a></time>
    </header>
    <div class="entry">
      
        <p>随着断桥残雪写的jQuery插件wBox的用户越来越多，越来越多的人提出了wbox的需求，可是我最近比较忙，没有时间改写wBox，正好公司的一个新项目要采用wBox，提出了很多要求，我准备在接下来的一些时间中更新下wBox，并且解决IE6下的一些布局上的bug、添加一些新的功能，大家敬请期待吧~<br>嘻嘻~</p>
<p><a href="http://js8.in/wbox/" title="jQuery插件wbox首页">wBox粗糙的主页</a></p>

      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/05/03/javascript中模拟php的base64_decode和base64_encode函数/">Javascript中模拟PHP的base64_decode和base64_encode函数</a></h1>
  

      <time datetime="2010-05-03T08:45:43.000Z"><a href="/2010/05/03/javascript中模拟php的base64_decode和base64_encode函数/">2010年5月3日</a></time>
    </header>
    <div class="entry">
      
        <p>PHP中的base64_decode和base64_encode函数不再是PHP的独享，而JS也可以使用这两个函数，下面把JS中的base64_decode和base64_encode函数贴出来，希望对需要的童鞋有所帮助~</p>
<h3>javscript的base64_decode</h3>
<p>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/05/03/javascript中模拟php的base64_decode和base64_encode函数/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/04/22/通过javascript实现整站黑白效果/">通过javascript实现整站黑白效果</a></h1>
  

      <time datetime="2010-04-22T08:23:00.000Z"><a href="/2010/04/22/通过javascript实现整站黑白效果/">2010年4月22日</a></time>
    </header>
    <div class="entry">
      
        <p>前天是哀悼日，急急忙忙的写了一篇关于通过CSS使网站实现<strong>黑白效果</strong>的文章（<a href="http://js8.in/528.html" title="哀悼地震，实现整站黑白效果">悼念地震，网站变灰CSS代码</a>），可是这个方法使用的是IE的<strong>滤镜</strong>，具有一定的局限性。今天在网上看到有人推荐的一个不错的方法，试了一下，效果还是可以的，可以自定义让网页的某一部分变成灰度颜色(<strong>黑白</strong>)，演示效果：<a href="http://james.padolsey.com/demos/grayscale/" target="_blank"><a href="http://james.padolsey.com/demos/grayscale/">http://james.padolsey.com/demos/grayscale/</a></a>。并且支持Firefox，chrome，IE6+。</p>
<p>使用方法：</p>
<ol>
<li>首先在网页中引入<a href="http://james.padolsey.com/demos/grayscale/grayscale.js" target="_blank">grayscale.js</a>文件。</li>
<li>执行grayscale函数即可。</li>
</ol>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>grayscale(document.body);  <span class="comment">//整站变成黑白效果</span>
grayscale(getElementById(el));<span class="comment">//部分变黑白效果</span>
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/04/20/悼念地震，网站变灰css代码/">悼念地震，网站变灰CSS代码</a></h1>
  

      <time datetime="2010-04-19T18:15:07.000Z"><a href="/2010/04/20/悼念地震，网站变灰css代码/">2010年4月20日</a></time>
    </header>
    <div class="entry">
      
        <p>为了悼念地震中遇害的同胞，国家规定明天开始悼念日~下面贴出来使用CSS的IE滤镜代码实现网站变灰白的效果代码，只在IE下有效~<br>首先确定贵网站使用的是标准的doctype头，下面是html开头代码：</p>
<figure class="highlight lang-html"><!DOCTYPE"><figcaption><span>html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</span></figcaption><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>
<span class="tag">&lt;<span class="title">html</span> <span class="attribute">xmlns</span>=<span class="value">"http://www.w3.org/1999/xhtml"</span>&gt;</span>
</pre></td></tr></table></figure>

<p>然后使用下面的CSS代码</p>
<figure class="highlight lang-css"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="tag">html</span> <span class="rules">{
    <span class="rule"><span class="attribute">filter</span>:<span class="value">progid:DXImageTransform.Microsoft.<span class="function">BasicImage(grayscale=<span class="number">1</span>)</span>;</span></span> 
<span class="rule">}</span></span>
</pre></td></tr></table></figure>

<p>如果贵网站有Flash，那么请在&lt;object&gt;和&lt;&amp;/object&gt;之间插入一下代码：</p>
<figure class="highlight lang-html"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="tag">&lt;<span class="title">param</span> <span class="attribute">value</span>=<span class="value">”false”</span> <span class="attribute">name</span>=<span class="value">”menu”</span>/&gt;</span>
<span class="tag">&lt;<span class="title">param</span> <span class="attribute">value</span>=<span class="value">”opaque”</span> <span class="attribute">name</span>=<span class="value">”wmode”</span>/&gt;</span>
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/04/19/ubuntu安装samba实现跟windows文件共享/">Ubuntu安装Samba实现跟windows文件共享</a></h1>
  

      <time datetime="2010-04-19T08:40:45.000Z"><a href="/2010/04/19/ubuntu安装samba实现跟windows文件共享/">2010年4月19日</a></time>
    </header>
    <div class="entry">
      
        <p>为了开发项目的方便，要实现Ubuntu跟windows文件共享，需要在Ubuntu下搭建samba服务器，下面来说说Ubuntu下安装、配置Samba的详细步骤~</p>
<h3>Ubuntu下安装Samba</h3>
<p>可以使用新立得来搜索Samba安装~没有请更新软件源，或者使用如下命令来安装Samba</p>
<blockquote>
<p>sudo apt-get install samba<br>sudo apt-get install smbfs</p>
</blockquote>
<h3>建立Samba共享文件夹</h3>
<p>假如要创建/home/用户名/share首先创建这个文件夹 （这个用户名就是你的用户名，为了方便易懂我才这样写的，到时记得自己改啊）<br>新建share文件夹，终端命令如下:</p>
<blockquote>
<p>mkdir /home/用户名/share<br>设置该文件夹的权限使其让所有用户可读可写可运行，终端命令如下:<br>chmod 777 /home/用户名/share</p>
</blockquote>
<h3>配置Samba服务器</h3>
<p>编辑smb.conf允许网络用户访问，终端代码如下:</p>
<blockquote>
<p>sudo gedit /etc/samba/smb.conf<br>搜寻这一行文字代码“security = user&quot;,修改为：<br>security = user<br>username map = /etc/samba/smbusers<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/04/19/ubuntu安装samba实现跟windows文件共享/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/04/18/使用synergy实现多台电脑共享一套鼠标键盘/">使用Synergy实现多台电脑共享一套鼠标键盘</a></h1>
  

      <time datetime="2010-04-18T11:03:03.000Z"><a href="/2010/04/18/使用synergy实现多台电脑共享一套鼠标键盘/">2010年4月18日</a></time>
    </header>
    <div class="entry">
      
        <p>公司闲置了一台电脑，开发的项目是在Ubuntu系统下配置的开发环境，而我开发的主要代码还是在windows下编写的，所以我使用synergy实现了两台电脑使用一套鼠标键盘的功能~这样自己就舒服多了~</p>
<p><strong>Synergy</strong>是一款远程控制软件。一般的远程控制软件都是将服务器的画面提供给客户端使用， 而Synergy的创意很独特，它将客户端的键盘和鼠标提供给服务器使用。 这样如果你有多台电脑并且每台电脑都有自己的显示器，你可以通过 Synergy 用一组键盘和鼠标控制所有电脑， 而且每台电脑的屏幕可以连接起来，就像在同一台电脑上使用多个显示器一样。</p>
<p>Synergy可以运行在多个平台上，包括Unix/<strong>Linux</strong>,Mac OS X, Windows98/xp/vista/<strong>windows7</strong>，而且多台机器的操作系统不同也没有关系。唯一的要求就是这些机器都需要支持TCP/IP网络，彼此间可以通过IP访问。</p>
<h3>Synergy使用教程</h3>
<p>假设我们有三台电脑，分别为 computerA、computerB、computerC。 我们要使用 computerA（服务器） 的鼠标键盘控制这三台电脑，并且屏幕的布局如下。<br><a href="/uploads/2010/04/synergy00.png"><img src="/uploads/2010/04/synergy00.png" alt="synergy00" title="synergy00"></a><br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/04/18/使用synergy实现多台电脑共享一套鼠标键盘/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/04/12/windows下安装基于apache的svn服务器/">windows下安装基于Apache的SVN服务器</a></h1>
  

      <time datetime="2010-04-11T22:10:51.000Z"><a href="/2010/04/12/windows下安装基于apache的svn服务器/">2010年4月12日</a></time>
    </header>
    <div class="entry">
      
        <p>新本本是win7的系统，安装了PHPnow+SVN，可是配置Apache把我好折腾一遍~反了好多好多的文章，最后终于搞定了~今天特地把windows7（XP）下安装SVN+Apache配置的经验进行分享~<br>首先安装Apache+subversion ，怎么安装，就不要问我啦~网上教程多的去，可以使用xampp，或者PHPnow等……</p>
<h3>1、httpd.conf的SVN安装配置</h3>
<p>PS：<del datetime="2010-04-12T06:35:33+00:00"><em>如果你先安装Apache，再安装Subversion，正常情况下下面的复制工作，Subversion安装程序已经帮你完成了，不过为了安全期间，大家还是按部就班的检查遍吧~</em></del></p>
<ul>
<li>在配置httpd.conf 之前我们需要把加载的模块复制到Apache的modules目录下：</li>
</ul>
<ol>
<li>进入Sibversion的安装目录（通常为c:\program files\Subversion），找到文件httpd/mod_dav_svn.so和mod_authz_svn.so，将它们拷贝到Apache的 modules目录中es）。</li>
<li>从Subversion的安装目录拷贝文件libdb43.dll（或者libdb44.dll，根据自己的版本决定）到Apache的modules目录。</li>
</ol>
<ul>
<li>编辑Apache的配置文件httpd.conf，找到以下内容：<blockquote>
<h1>LoadModule dav_fs_module modules/mod_dav_fs.so</h1>
<h1>LoadModule dav_module modules/mod_dav.so</h1>
<p>修改为：<br>LoadModule dav_fs_module modules/mod_dav_fs.so<br>LoadModule dav_module modules/mod_dav.so<br>即去掉前面的注释符号“#”，没有上面两句，请自行添加。并且在LoadModule 之后添加如下内容：<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/04/12/windows下安装基于apache的svn服务器/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/04/11/使用apache-htpasswd-exe来管理svn帐户/">使用Apache htpasswd.exe来管理SVN帐户</a></h1>
  

      <time datetime="2010-04-11T13:07:40.000Z"><a href="/2010/04/11/使用apache-htpasswd-exe来管理svn帐户/">2010年4月11日</a></time>
    </header>
    <div class="entry">
      
        <p>安装完SVN，需要配置到Apache，需要建立一个账户管理文件如：<strong>passwd</strong>，可是建立了passwd，需要添加SVN用户的时候，我们应该怎么操作呢？这时我们就要用到Apache下的DOS文件——<strong>htpasswd</strong>.exe啦！</p>
<h3>1、htpasswd基本语法</h3>
<p>htpasswd.exe在<strong>Apache</strong>文件夹下的bin中，htpasswd的基本<strong>语法</strong>是：</p>
<blockquote>
<p><strong>htpasswd [-cmdpsD] passwordfile username<br>htpasswd -b[cmdpsD] passwordfile username password</strong><br>如我们要在G盘创建一个passwd的文件，需要用到下面的<strong>命令</strong><br>htpasswd -c G:\passwd wyq<br>回车会出现提示，要你输入wyq的密码，输入两次后，就可以在G盘看到刚才我们创建的passwd文件了~其中密码是md5加密的~<br>如果我们不想输入密码，就可以直接使用下面的命令：<br>htpasswd -c G:\passwd wyq wyq<br>
      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/04/11/使用apache-htpasswd-exe来管理svn帐户/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/03/23/php获取来访者ip信息/">php获取来访者IP信息</a></h1>
  

      <time datetime="2010-03-22T21:25:34.000Z"><a href="/2010/03/23/php获取来访者ip信息/">2010年3月23日</a></time>
    </header>
    <div class="entry">
      
        <p>前几天幼学笔记写了一篇《<a href="http://www.oncoding.cn/2010/geo-location-frontend/" target="_blank">可以在前端实现的几个地理位置小功能</a>》里面提到了我使用的QQ ip接口，其实我们也可以在PHP端实现根据IP定位用户<strong>地理位置</strong>，方法就是根据纯真的IP库来获取IP地理信息。我一个<strong>Google map API</strong>逆经纬度查询结合IP数据库接口的demo<a href="http://js8.in/mywork/ipsearch/">[点击查看</a>]，其实使用的方法就是Ajax过去IP，通过QQ IP接口查询出来地理信息，然后调用Google map API逆经纬度查询经纬度信息，然后在Google地图上标注地理位置。</p>
<h3>1、PHP获取来访者IP函数getIP()</h3>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">getIP</span><span class="params">()</span>
{</span> 
        <span class="keyword">if</span>(getenv(<span class="string">"HTTP_CLIENT_IP"</span>) && strcasecmp(getenv(<span class="string">"HTTP_CLIENT_IP"</span>), <span class="string">"unknown"</span>)) 
                <span class="variable">$ip</span> = getenv(<span class="string">"HTTP_CLIENT_IP"</span>); 
        <span class="keyword">elseif</span>(getenv(<span class="string">"HTTP_X_FORWARDED_FOR"</span>) && strcasecmp(getenv(<span class="string">"HTTP_X_FORWARDED_FOR"</span>), <span class="string">"unknown"</span>)) 
                <span class="variable">$ip</span> = getenv(<span class="string">"HTTP_X_FORWARDED_FOR"</span>); 
        <span class="keyword">elseif</span> (getenv(<span class="string">"REMOTE_ADDR"</span>) && strcasecmp(getenv(<span class="string">"REMOTE_ADDR"</span>), <span class="string">"unknown"</span>)) 
                <span class="variable">$ip</span> = getenv(<span class="string">"REMOTE_ADDR"</span>); 
        <span class="keyword">elseif</span> (<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>]) && <span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>] && strcasecmp(<span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>], <span class="string">"unknown"</span>)) 
                <span class="variable">$ip</span> = <span class="variable">$_SERVER</span>[<span class="string">'REMOTE_ADDR'</span>]; 
        <span class="keyword">else</span> 
                <span class="variable">$ip</span> = <span class="string">"0.0.0.0"</span>; 
        <span class="keyword">return</span> <span class="variable">$ip</span>;
}```&lt;!--more--&gt;

<span class="comment">### 2、查询纯真IP库PHP类IpLocation</span>


```php
<span class="class"><span class="keyword">class</span> <span class="title">IpLocation</span> {</span>
    <span class="comment">/**
     * QQWry.Dat文件指针
     *
     *<span class="phpdoc"> @var</span> resource
     */</span>
    <span class="keyword">var</span> <span class="variable">$fp</span>;
    <span class="comment">/**
    * 第一条IP记录的偏移地址
     *
    *<span class="phpdoc"> @var</span> int
       */</span>
       <span class="keyword">var</span> <span class="variable">$firstip</span>;
         <span class="comment">/**
        * 最后一条IP记录的偏移地址
        *
        *<span class="phpdoc"> @var</span> int
        */</span>
       <span class="keyword">var</span> <span class="variable">$lastip</span>;
        <span class="comment">/**
        * IP记录的总条数（不包含版本信息记录）
        *
        *<span class="phpdoc"> @var</span> int
        */</span>
       <span class="keyword">var</span> <span class="variable">$totalip</span>;
         <span class="comment">/**
        * 返回读取的长整型数
        *
       *<span class="phpdoc"> @access</span> private
        *<span class="phpdoc"> @return</span> int
        */</span>
       <span class="function"><span class="keyword">function</span> <span class="title">getlong</span><span class="params">()</span> {</span>
           <span class="comment">//将读取的little-endian编码的4个字节转化为长整型数</span>
           <span class="variable">$result</span> = unpack(<span class="string">'Vlong'</span>, fread(<span class="variable">$this</span>-&gt;fp, <span class="number">4</span>));
           <span class="keyword">return</span> <span class="variable">$result</span>[<span class="string">'long'</span>];
       }
         <span class="comment">/**
        * 返回读取的3个字节的长整型数
        *
        *<span class="phpdoc"> @access</span> private
        *<span class="phpdoc"> @return</span> int
       */</span>
       <span class="function"><span class="keyword">function</span> <span class="title">getlong3</span><span class="params">()</span> {</span>
           <span class="comment">//将读取的little-endian编码的3个字节转化为长整型数</span>
           <span class="variable">$result</span> = unpack(<span class="string">'Vlong'</span>, fread(<span class="variable">$this</span>-&gt;fp, <span class="number">3</span>).chr(<span class="number">0</span>));
           <span class="keyword">return</span> <span class="variable">$result</span>[<span class="string">'long'</span>];
       }
    <span class="comment">/**
     * 返回压缩后可进行比较的IP地址
     *
       *<span class="phpdoc"> @access</span> private
        *<span class="phpdoc"> @param</span> string $ip
        *<span class="phpdoc"> @return</span> string
        */</span>
       <span class="function"><span class="keyword">function</span> <span class="title">packip</span><span class="params">(<span class="variable">$ip</span>)</span> {</span>
           <span class="comment">// 将IP地址转化为长整型数，如果在PHP5中，IP地址错误，则返回False，</span>
        <span class="comment">// 这时intval将Flase转化为整数-1，之后压缩成big-endian编码的字符串</span>
        <span class="keyword">return</span> pack(<span class="string">'N'</span>, intval(ip2long(<span class="variable">$ip</span>)));
    }
    <span class="comment">/**
     * 返回读取的字符串
        *
        *<span class="phpdoc"> @access</span> private
        *<span class="phpdoc"> @param</span> string $data
        *<span class="phpdoc"> @return</span> string
     */</span>
    <span class="function"><span class="keyword">function</span> <span class="title">getstring</span><span class="params">(<span class="variable">$data</span> = <span class="string">""</span>)</span> {</span>
        <span class="variable">$char</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);
        <span class="keyword">while</span> (ord(<span class="variable">$char</span>) &gt; <span class="number">0</span>) {        <span class="comment">// 字符串按照C格式保存，以\0结束</span>
            <span class="variable">$data</span> .= <span class="variable">$char</span>;             <span class="comment">// 将读取的字符连接到给定字符串之后</span>
            <span class="variable">$char</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);
        }
           <span class="keyword">return</span> <span class="variable">$data</span>;
       }
      <span class="comment">/**
     * 返回地区信息
     *
     *<span class="phpdoc"> @access</span> private
     *<span class="phpdoc"> @return</span> string
     */</span>
    <span class="function"><span class="keyword">function</span> <span class="title">getarea</span><span class="params">()</span> {</span>
        <span class="variable">$byte</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);    <span class="comment">// 标志字节</span>
           <span class="keyword">switch</span> (ord(<span class="variable">$byte</span>)) {
            <span class="keyword">case</span> <span class="number">0</span>:                     <span class="comment">// 没有区域信息</span>
                 <span class="variable">$area</span> = <span class="string">""</span>;
                 <span class="keyword">break</span>;
             <span class="keyword">case</span> <span class="number">1</span>:
             <span class="keyword">case</span> <span class="number">2</span>:                     <span class="comment">// 标志字节为1或2，表示区域信息被重定向</span>
                 fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;getlong3());
                 <span class="variable">$area</span> = <span class="variable">$this</span>-&gt;getstring();
                 <span class="keyword">break</span>;
             <span class="keyword">default</span>:                    <span class="comment">// 否则，表示区域信息没有被重定向</span>
                 <span class="variable">$area</span> = <span class="variable">$this</span>-&gt;getstring(<span class="variable">$byte</span>);
                <span class="keyword">break</span>;
        }
        <span class="keyword">return</span> <span class="variable">$area</span>;
    }
    <span class="comment">/**
     * 根据所给 IP 地址或域名返回所在地区信息
     *
     *<span class="phpdoc"> @access</span> public
     *<span class="phpdoc"> @param</span> string $ip
     *<span class="phpdoc"> @return</span> array
      */</span>
    <span class="function"><span class="keyword">function</span> <span class="title">getlocation</span><span class="params">(<span class="variable">$ip</span>)</span> {</span>
        <span class="keyword">if</span> (!<span class="variable">$this</span>-&gt;fp) <span class="keyword">return</span> <span class="keyword">null</span>;            <span class="comment">// 如果数据文件没有被正确打开，则直接返回空</span>
        <span class="variable">$location</span>[<span class="string">'ip'</span>] = gethostbyname(<span class="variable">$ip</span>);   <span class="comment">// 将输入的域名转化为IP地址</span>
        <span class="variable">$ip</span> = <span class="variable">$this</span>-&gt;packip(<span class="variable">$location</span>[<span class="string">'ip'</span>]);   <span class="comment">// 将输入的IP地址转化为可比较的IP地址</span>
                                               <span class="comment">// 不合法的IP地址会被转化为255</span>
        <span class="comment">// 对分搜索</span>
        <span class="variable">$l</span> = <span class="number">0</span>;                         <span class="comment">// 搜索的下边界</span>
        <span class="variable">$u</span> = <span class="variable">$this</span>-&gt;totalip;            <span class="comment">// 搜索的上边界</span>
        <span class="variable">$findip</span> = <span class="variable">$this</span>-&gt;lastip;        <span class="comment">// 如果没有找到就返回最后一条IP记录（QQWry.Dat的版本信息）</span>
         <span class="keyword">while</span> (<span class="variable">$l</span> &lt;= <span class="variable">$u</span>) {              <span class="comment">// 当上边界小于下边界时，查找失败</span>
             <span class="variable">$i</span> = floor((<span class="variable">$l</span> + <span class="variable">$u</span>) / <span class="number">2</span>);  <span class="comment">// 计算近似中间记录</span>
            fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;firstip + <span class="variable">$i</span> * <span class="number">7</span>);
            <span class="variable">$beginip</span> = strrev(fread(<span class="variable">$this</span>-&gt;fp, <span class="number">4</span>));     <span class="comment">// 获取中间记录的开始IP地址</span>
            <span class="comment">// strrev函数在这里的作用是将little-endian的压缩IP地址转化为big-endian的格式</span>
            <span class="comment">// 以便用于比较，后面相同。</span>
            <span class="keyword">if</span> (<span class="variable">$ip</span> &lt; <span class="variable">$beginip</span>) {       <span class="comment">// 用户的IP小于中间记录的开始IP地址时</span>
                <span class="variable">$u</span> = <span class="variable">$i</span> - <span class="number">1</span>;            <span class="comment">// 将搜索的上边界修改为中间记录减一</span>
            }
            <span class="keyword">else</span> {
                 fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;getlong3());
                 <span class="variable">$endip</span> = strrev(fread(<span class="variable">$this</span>-&gt;fp, <span class="number">4</span>));   <span class="comment">// 获取中间记录的结束IP地址</span>
                 <span class="keyword">if</span> (<span class="variable">$ip</span> &gt; <span class="variable">$endip</span>) {     <span class="comment">// 用户的IP大于中间记录的结束IP地址时</span>
                    <span class="variable">$l</span> = <span class="variable">$i</span> + <span class="number">1</span>;        <span class="comment">// 将搜索的下边界修改为中间记录加一</span>
                }
                <span class="keyword">else</span> {                  <span class="comment">// 用户的IP在中间记录的IP范围内时</span>
                    <span class="variable">$findip</span> = <span class="variable">$this</span>-&gt;firstip + <span class="variable">$i</span> * <span class="number">7</span>;
                    <span class="keyword">break</span>;              <span class="comment">// 则表示找到结果，退出循环</span>
                }
            }
         }
         <span class="comment">//获取查找到的IP地理位置信息</span>
         fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$findip</span>);
         <span class="variable">$location</span>[<span class="string">'beginip'</span>] = long2ip(<span class="variable">$this</span>-&gt;getlong());   <span class="comment">// 用户IP所在范围的开始地址</span>
        <span class="variable">$offset</span> = <span class="variable">$this</span>-&gt;getlong3();
        fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$offset</span>);
        <span class="variable">$location</span>[<span class="string">'endip'</span>] = long2ip(<span class="variable">$this</span>-&gt;getlong());     <span class="comment">// 用户IP所在范围的结束地址</span>
        <span class="variable">$byte</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);    <span class="comment">// 标志字节</span>
        <span class="keyword">switch</span> (ord(<span class="variable">$byte</span>)) {
             <span class="keyword">case</span> <span class="number">1</span>:                     <span class="comment">// 标志字节为1，表示国家和区域信息都被同时重定向</span>
                 <span class="variable">$countryOffset</span> = <span class="variable">$this</span>-&gt;getlong3();         <span class="comment">// 重定向地址</span>
                 fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$countryOffset</span>);
                 <span class="variable">$byte</span> = fread(<span class="variable">$this</span>-&gt;fp, <span class="number">1</span>);    <span class="comment">// 标志字节</span>
                 <span class="keyword">switch</span> (ord(<span class="variable">$byte</span>)) {
                    <span class="keyword">case</span> <span class="number">2</span>:             <span class="comment">// 标志字节为2，表示国家信息又被重定向</span>
                        fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;getlong3());
                        <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="variable">$this</span>-&gt;getstring();
                        fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$countryOffset</span> + <span class="number">4</span>);
                        <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="variable">$this</span>-&gt;getarea();
                         <span class="keyword">break</span>;
                     <span class="keyword">default</span>:            <span class="comment">// 否则，表示国家信息没有被重定向</span>
                         <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="variable">$this</span>-&gt;getstring(<span class="variable">$byte</span>);
                         <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="variable">$this</span>-&gt;getarea();
                         <span class="keyword">break</span>;
                 }
                <span class="keyword">break</span>;
            <span class="keyword">case</span> <span class="number">2</span>:                     <span class="comment">// 标志字节为2，表示国家信息被重定向</span>
                fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$this</span>-&gt;getlong3());
                <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="variable">$this</span>-&gt;getstring();
                 fseek(<span class="variable">$this</span>-&gt;fp, <span class="variable">$offset</span> + <span class="number">8</span>);
                 <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="variable">$this</span>-&gt;getarea();
                 <span class="keyword">break</span>;
             <span class="keyword">default</span>:                    <span class="comment">// 否则，表示国家信息没有被重定向</span>
                 <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="variable">$this</span>-&gt;getstring(<span class="variable">$byte</span>);
                 <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="variable">$this</span>-&gt;getarea();
                 <span class="keyword">break</span>;
        }
        <span class="keyword">if</span> (<span class="variable">$location</span>[<span class="string">'country'</span>] == <span class="string">" CZNET"</span>) {  <span class="comment">// CZNET表示没有有效信息</span>
            <span class="variable">$location</span>[<span class="string">'country'</span>] = <span class="string">"未知"</span>;
         }
         <span class="keyword">if</span> (<span class="variable">$location</span>[<span class="string">'area'</span>] == <span class="string">" CZNET"</span>) {
             <span class="variable">$location</span>[<span class="string">'area'</span>] = <span class="string">""</span>;
         }
         <span class="keyword">return</span> <span class="variable">$location</span>;
     }
     <span class="comment">/**
     * 构造函数，打开 QQWry.Dat 文件并初始化类中的信息
     *
       *<span class="phpdoc"> @param</span> string $filename
       *<span class="phpdoc"> @return</span> IpLocation
       */</span>
      <span class="function"><span class="keyword">function</span> <span class="title">IpLocation</span><span class="params">(<span class="variable">$filename</span> = <span class="string">"QQWry.Dat"</span>)</span> {</span>
          <span class="variable">$this</span>-&gt;fp = <span class="number">0</span>;
          <span class="keyword">if</span> ((<span class="variable">$this</span>-&gt;fp = @fopen(<span class="variable">$filename</span>, <span class="string">'rb'</span>)) !== <span class="keyword">false</span>) {
              <span class="variable">$this</span>-&gt;firstip = <span class="variable">$this</span>-&gt;getlong();
              <span class="variable">$this</span>-&gt;lastip = <span class="variable">$this</span>-&gt;getlong();
              <span class="variable">$this</span>-&gt;totalip = (<span class="variable">$this</span>-&gt;lastip - <span class="variable">$this</span>-&gt;firstip) / <span class="number">7</span>;
           <span class="comment">//注册析构函数，使其在程序执行结束时执行</span>
           register_shutdown_function(<span class="keyword">array</span>(&<span class="variable">$this</span>, <span class="string">'_IpLocation'</span>));
       }
   }
   <span class="comment">/**
    * 析构函数，用于在页面执行结束后自动关闭打开的文件。
    *
    */</span>
   <span class="function"><span class="keyword">function</span> <span class="title">_IpLocation</span><span class="params">()</span> {</span>
       <span class="keyword">if</span> (<span class="variable">$this</span>-&gt;fp) {
              fclose(<span class="variable">$this</span>-&gt;fp);
        }
        <span class="variable">$this</span>-&gt;fp = <span class="number">0</span>;
   }
}
</pre></td></tr></table></figure>

<h3>3、使用方法</h3>
<figure class="highlight lang-php"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="variable">$ip</span>=getIP();
<span class="variable">$iplocation</span> = <span class="keyword">new</span> IpLocation();
<span class="variable">$location</span> = <span class="variable">$iplocation</span>-&gt;getlocation(<span class="variable">$ip</span>);
<span class="comment">//转码为UTF-8</span>
<span class="variable">$address</span>=mb_convert_encoding(<span class="variable">$location</span>[<span class="string">'country'</span>].<span class="variable">$location</span>[<span class="string">'area'</span>], <span class="string">"UTF-8"</span>, <span class="string">"GBK"</span>);
</pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
      
      
  
    <h1 class="title"><a href="/2010/03/17/26大实用的jquery技巧和解决方案/">25大实用的jQuery技巧和解决方案</a></h1>
  

      <time datetime="2010-03-17T14:45:42.000Z"><a href="/2010/03/17/26大实用的jquery技巧和解决方案/">2010年3月17日</a></time>
    </header>
    <div class="entry">
      
        <p>jQuery库的发展迅速（刚刚发布的jQuery的1.4），越来越多的人正在使用这个有用的JavaScript库。这意味着，需要越来越多的有用jQuery的提示，技巧和解决方案来提供。这就是为什么我创建了26个实用的jQuery的提示、技巧和解决方案的小清单。</p>
<h3>1. 去除页面的右键菜单</h3>
<blockquote>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre>$(document).ready(<span class="keyword">function</span>(){  
&gt;     $(document).bind(<span class="string">"contextmenu"</span>,<span class="keyword">function</span>(e){  
&gt;         <span class="keyword">return</span> <span class="literal">false</span>;  
&gt;     });  
&gt; });  
&gt;
</pre></td></tr></table></figure>

</blockquote>
<h3>2、搜索输入框文字的消失</h3>
<p>当鼠标获得焦点、失去焦点的时候，input输入框文字处理：</p>
<blockquote>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre>$(document).ready(<span class="keyword">function</span>() {  
&gt; $(<span class="string">"input.text1"</span>).val(<span class="string">"Enter your search text here"</span>);  
&gt;    textFill($(<span class="string">'input.text1'</span>));  
&gt; });  
&gt;   <span class="function"><span class="keyword">function</span> <span class="title">textFill</span><span class="params">(input)</span>{</span> <span class="comment">//input focus text function  </span>
&gt;     <span class="keyword">var</span> originalvalue = input.val();  
&gt;     input.focus( <span class="keyword">function</span>(){  
&gt;         <span class="keyword">if</span>( $.trim(input.val()) == originalvalue ){ input.val(<span class="string">''</span>); }  
&gt;     });  
&gt;     input.blur( <span class="keyword">function</span>(){  
&gt;         <span class="keyword">if</span>( $.trim(input.val()) == <span class="string">''</span> ){ input.val(originalvalue); }  
&gt;     });  
&gt; }
</pre></td></tr></table></figure>

</blockquote>
<h3>3、新窗口打开页面</h3>
<blockquote>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre>$(document).ready(<span class="keyword">function</span>() {  
&gt;    <span class="comment">//Example 1: Every link will open in a new window  </span>
&gt;    $(<span class="string">'a[href^="http://"]'</span>).attr(<span class="string">"target"</span>, <span class="string">"_blank"</span>);  
&gt; 
&gt;    <span class="comment">//Example 2: Links with the rel="external" attribute will only open in a new window  </span>
&gt;    $(<span class="string">'a[@rel$='</span>external<span class="string">']'</span>).click(<span class="keyword">function</span>(){  
&gt;       <span class="keyword">this</span>.target = <span class="string">"_blank"</span>;  
&gt;    });  
&gt; });
</pre></td></tr></table></figure>

<p>// how to use  </p>
<figure class="highlight lang-html"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>[open link](http://www.opensourcehunter.com)
</pre></td></tr></table></figure>

</blockquote>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2010/03/17/26大实用的jquery技巧和解决方案/#more" class="more-link">全文</a>
          </div>
        
        
      
      

      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
    <a href="/archives/2010/page/4/" class="alignleft prev">上一页</a>
  
  
    <a href="/archives/2010/page/6/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/乱七八糟/">乱七八糟</a><small>30</small></li>
  
    <li><a href="/categories/前端开发/">前端开发</a><small>117</small></li>
  
    <li><a href="/categories/后端运维/">后端运维</a><small>27</small></li>
  
    <li><a href="/categories/王婆卖瓜/">王婆卖瓜</a><small>4</small></li>
  
    <li><a href="/categories/读书笔记/">读书笔记</a><small>5</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签</h3>
  <ul class="entry clearfix">
  
    <li><a href="/tags/DOM/">DOM<sup>2</sup></a></li>
  
    <li><a href="/tags/IE/">IE<sup>1</sup></a></li>
  
    <li><a href="/tags/IE6/">IE6<sup>2</sup></a></li>
  
    <li><a href="/tags/PPT/">PPT<sup>3</sup></a></li>
  
    <li><a href="/tags/VPS/">VPS<sup>1</sup></a></li>
  
    <li><a href="/tags/ajax/">ajax<sup>5</sup></a></li>
  
    <li><a href="/tags/apache/">apache<sup>1</sup></a></li>
  
    <li><a href="/tags/audio/">audio<sup>2</sup></a></li>
  
    <li><a href="/tags/a标签/">a标签<sup>1</sup></a></li>
  
    <li><a href="/tags/canvas/">canvas<sup>1</sup></a></li>
  
    <li><a href="/tags/chrome/">chrome<sup>3</sup></a></li>
  
    <li><a href="/tags/css/">css<sup>15</sup></a></li>
  
    <li><a href="/tags/eAccelerator/">eAccelerator<sup>1</sup></a></li>
  
    <li><a href="/tags/ecmascript/">ecmascript<sup>3</sup></a></li>
  
    <li><a href="/tags/escape/">escape<sup>1</sup></a></li>
  
    <li><a href="/tags/event/">event<sup>1</sup></a></li>
  
    <li><a href="/tags/express/">express<sup>1</sup></a></li>
  
    <li><a href="/tags/fis/">fis<sup>1</sup></a></li>
  
    <li><a href="/tags/fisp/">fisp<sup>1</sup></a></li>
  
    <li><a href="/tags/grunt/">grunt<sup>1</sup></a></li>
  
    <li><a href="/tags/handleEvent/">handleEvent<sup>1</sup></a></li>
  
    <li><a href="/tags/html5/">html5<sup>3</sup></a></li>
  
    <li><a href="/tags/iframe/">iframe<sup>1</sup></a></li>
  
    <li><a href="/tags/iptables/">iptables<sup>1</sup></a></li>
  
    <li><a href="/tags/javascript/">javascript<sup>79</sup></a></li>
  
    <li><a href="/tags/linux/">linux<sup>4</sup></a></li>
  
    <li><a href="/tags/livereload/">livereload<sup>1</sup></a></li>
  
    <li><a href="/tags/memcached/">memcached<sup>1</sup></a></li>
  
    <li><a href="/tags/mixjs/">mixjs<sup>1</sup></a></li>
  
    <li><a href="/tags/mysql/">mysql<sup>2</sup></a></li>
  
    <li><a href="/tags/name/">name<sup>1</sup></a></li>
  
    <li><a href="/tags/nginx/">nginx<sup>2</sup></a></li>
  
    <li><a href="/tags/nodejs/">nodejs<sup>7</sup></a></li>
  
    <li><a href="/tags/php/">php<sup>19</sup></a></li>
  
    <li><a href="/tags/session/">session<sup>1</sup></a></li>
  
    <li><a href="/tags/storage/">storage<sup>1</sup></a></li>
  
    <li><a href="/tags/svn/">svn<sup>1</sup></a></li>
  
    <li><a href="/tags/this/">this<sup>1</sup></a></li>
  
    <li><a href="/tags/ueditor/">ueditor<sup>1</sup></a></li>
  
    <li><a href="/tags/uglifyjs/">uglifyjs<sup>1</sup></a></li>
  
    <li><a href="/tags/webbench/">webbench<sup>1</sup></a></li>
  
    <li><a href="/tags/websocket/">websocket<sup>1</sup></a></li>
  
    <li><a href="/tags/web前端开发/">web前端开发<sup>5</sup></a></li>
  
    <li><a href="/tags/windows7技巧/">windows7技巧<sup>1</sup></a></li>
  
    <li><a href="/tags/wordpress/">wordpress<sup>3</sup></a></li>
  
    <li><a href="/tags/xss/">xss<sup>3</sup></a></li>
  
    <li><a href="/tags/严格模式/">严格模式<sup>1</sup></a></li>
  
    <li><a href="/tags/位运算/">位运算<sup>1</sup></a></li>
  
    <li><a href="/tags/作用域/">作用域<sup>3</sup></a></li>
  
    <li><a href="/tags/前端优化/">前端优化<sup>1</sup></a></li>
  
    <li><a href="/tags/前端工具/">前端工具<sup>5</sup></a></li>
  
    <li><a href="/tags/加速器/">加速器<sup>1</sup></a></li>
  
    <li><a href="/tags/压力测试/">压力测试<sup>1</sup></a></li>
  
    <li><a href="/tags/右键/">右键<sup>1</sup></a></li>
  
    <li><a href="/tags/安全/">安全<sup>1</sup></a></li>
  
    <li><a href="/tags/性能/">性能<sup>3</sup></a></li>
  
    <li><a href="/tags/我也八卦/">我也八卦<sup>1</sup></a></li>
  
    <li><a href="/tags/执行环境/">执行环境<sup>1</sup></a></li>
  
    <li><a href="/tags/技巧/">技巧<sup>1</sup></a></li>
  
    <li><a href="/tags/播放器/">播放器<sup>1</sup></a></li>
  
    <li><a href="/tags/数组/">数组<sup>1</sup></a></li>
  
    <li><a href="/tags/标签/">标签<sup>1</sup></a></li>
  
    <li><a href="/tags/模块化/">模块化<sup>2</sup></a></li>
  
    <li><a href="/tags/算法/">算法<sup>1</sup></a></li>
  
    <li><a href="/tags/网络技术/">网络技术<sup>73</sup></a></li>
  
    <li><a href="/tags/虚拟主机/">虚拟主机<sup>1</sup></a></li>
  
    <li><a href="/tags/解耦/">解耦<sup>1</sup></a></li>
  
    <li><a href="/tags/语法限制/">语法限制<sup>1</sup></a></li>
  
    <li><a href="/tags/跨域/">跨域<sup>3</sup></a></li>
  
    <li><a href="/tags/路径/">路径<sup>1</sup></a></li>
  
    <li><a href="/tags/软件心得/">软件心得<sup>3</sup></a></li>
  
  </ul>
</div>



  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2013 三水清
  
</div>
<div class="clearfix"></div></footer>
  <script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


    
        <script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=6635976" ></script>
        <script type="text/javascript" id="bdshell_js"></script>
        <script type="text/javascript">
        document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000);
        </script>
    
    



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




    <script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F1c76f5cc8274a56106b13b9c9b1fb046' type='text/javascript'%3E%3C/script%3E"));
    </script>


</body>
</html>