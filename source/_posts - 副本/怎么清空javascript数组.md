title: "怎么清空javascript数组"
id: 1116
date: 2013-01-17 22:04:08
tags:
- javascript
- 性能
- 数组
categories:
- 前端开发
---

这是一个很基础的问题，但是我们往往经常做错。

当一个数组需要清空的时候，很多人使用下面的方法：
```javascript
a = [];
```

我们知道javascript变量存储方式分为引用类型和直接量。数组属于对象，即引用类型，引用的是变量指针地址，之所以这样设计也是为了节省内存。

再说到上面的请空数组的方式，如果采用直接赋值一个新数组的方式，那么之前引用的数组可能不会被释放（有其他的引用），例如下面的代码：

```javascript
var a = [2,3];
var b = a;
a = [];
console.log(b);
```
这时候a和b就不是同一个数组了，清空了a而b还是指到之前的引用地址，除非你是故意的，否则这将会有隐患。

所以最佳的请空数组方式是：将length设置为0，即：
```javascript
a.length = 0;
```
